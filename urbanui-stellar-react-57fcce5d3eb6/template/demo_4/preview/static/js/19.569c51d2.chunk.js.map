{"version":3,"sources":["../node_modules/codemirror/addon/edit/continuelist.js","../node_modules/easymde/src/js/codemirror/tablist.js","../node_modules/codemirror/addon/display/fullscreen.js","../node_modules/codemirror/mode/meta.js","../node_modules/codemirror/addon/display/placeholder.js","../node_modules/codemirror/addon/selection/mark-selection.js","../node_modules/codemirror/addon/search/searchcursor.js","../node_modules/codemirror/mode/gfm/gfm.js","../node_modules/codemirror-spell-checker/src/js/spell-checker.js","../node_modules/typo-js/typo.js","../node_modules/marked/lib/marked.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/components/EditorPropTypes.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/Utils.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/components/Editor.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/ScriptLoader.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/index.js","../node_modules/codemirror/lib/codemirror.js","../node_modules/lodash/_isIterateeCall.js","../node_modules/react-dom/server.browser.js","../node_modules/react-dom/cjs/react-dom-server.browser.production.min.js","../node_modules/lodash/toNumber.js","../node_modules/lodash/some.js","../node_modules/lodash/_baseSome.js","../node_modules/quill/dist/quill.js","../node_modules/buffer/index.js","../node_modules/react-quill/lib/mixin.js","../node_modules/lodash/find.js","../node_modules/react-dom-factories/index.js","../node_modules/codemirror/mode/markdown/markdown.js","../node_modules/codemirror/mode/xml/xml.js","../node_modules/codemirror/addon/mode/overlay.js","../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/TinyMCE.js","../node_modules/react-quill/lib/index.js","../node_modules/base64-js/index.js","../node_modules/ieee754/index.js","../node_modules/isarray/index.js","../node_modules/react-quill/lib/component.js","../node_modules/lodash/_createFind.js","../node_modules/lodash/findIndex.js","../node_modules/lodash/_baseFindIndex.js","../node_modules/lodash/toInteger.js","../node_modules/lodash/toFinite.js","../node_modules/react-quill/lib/toolbar.js","../node_modules/react-simplemde-editor/lib/index.js","../node_modules/easymde/src/js/easymde.js"],"names":["CodeMirror","listRE","emptyListRE","unorderedListRE","incrementRemainingMarkdownListNumbers","cm","pos","startLine","line","lookAhead","skipCount","startItem","exec","getLine","startIndent","nextLineNumber","nextLine","nextItem","nextIndent","newNumber","parseInt","nextNumber","itemNumber","isNaN","length","replaceRange","replace","ch","commands","newlineAndIndentContinueMarkdownList","getOption","Pass","ranges","listSelections","replacements","i","head","eolState","getStateAfter","inner","innerMode","getMode","mode","name","execCommand","inList","state","list","inQuote","quote","match","cursorBeforeBullet","test","slice","empty","indent","after","numbered","indexOf","bullet","replaceSelections","mod","tabAndIndentMarkdownList","options","indentWithTabs","spaces","Array","tabSize","join","replaceSelection","shiftTabAndUnindentMarkdownList","defineOption","val","old","Init","wrap","getWrapperElement","fullScreenRestore","scrollTop","window","pageYOffset","scrollLeft","pageXOffset","width","style","height","className","document","documentElement","overflow","refresh","setFullscreen","info","scrollTo","setNormal","modeInfo","mime","ext","mimes","file","alias","findModeByMIME","toLowerCase","j","findModeByExtension","findModeByFileName","filename","dot","lastIndexOf","substring","findModeByName","clearPlaceholder","placeholder","parentNode","removeChild","setPlaceholder","elt","createElement","cssText","direction","placeHolder","createTextNode","appendChild","display","lineSpace","insertBefore","firstChild","onBlur","isEmpty","onChange","wrapper","lineCount","prev","on","off","hasFocus","onCursorActivity","markedSelection","operation","somethingSelected","clear","reset","from","getCursor","to","array","coverRange","coverStart","find","coverEnd","CHUNK_SIZE","cmp","shift","pop","update","markedSelectionStyle","Pos","cmpPos","addAt","cls","start","endLine","atEnd","end","mark","markText","push","splice","doFold","noFold","ensureFlags","regexp","flags","current","ignoreCase","global","multiline","regexpFlags","target","charAt","RegExp","source","searchRegexpForward","doc","last","lastLine","lastIndex","string","index","searchRegexpForwardMultiline","maybeMultiline","chunk","curLine","before","split","inside","startCh","lastMatchIn","cutOff","newMatch","searchRegexpBackward","first","firstLine","searchRegexpBackwardMultiline","adjustPos","orig","folded","foldFunc","min","max","Math","mid","len","searchStringForward","query","caseFold","fold","lines","search","found","cutFrom","endString","searchStringBackward","top","topString","SearchCursor","this","atOccurrence","clipPos","matches","reverse","String","prototype","normalize","str","findNext","findPrevious","result","newText","origin","splitLines","defineExtension","defineDocExtension","cur","getSearchCursor","anchor","setSelections","urlRE","defineMode","config","modeConfig","codeDepth","gfmOverlay","startState","code","codeBlock","ateSpace","copyState","s","token","stream","combineTokens","skipToEnd","sol","peek","next","eatWhile","difference","eatSpace","gitHubSpice","blankLine","markdownConfig","taskLists","strikethrough","emoji","attr","overlayMode","defineMIME","Typo","CodeMirrorSpellChecker","codeMirrorInstance","includes","apply","arguments","aff_loading","xhr_aff","XMLHttpRequest","open","onload","readyState","status","aff_data","responseText","num_loaded","typo","dic_data","platform","send","dic_loading","xhr_dic","rx_word","overlay","word","check","backdrop","console","log","module","exports","dictionary","affData","wordsData","settings","rules","dictionaryTable","compoundRules","compoundRuleCodes","replacementTable","memoized","loaded","path","_len","_jlen","self","readDataFile","url","setFunc","response","_readFile","asyncLoad","then","data","setAffData","setup","setWordsData","_parseAFF","rule","ONLYINCOMPOUND","_parseDIC","ruleText","expressionText","character","loadedCallback","chrome","extension","dictionaryPath","getURL","__dirname","load","obj","hasOwnProperty","charset","async","promise","req","Promise","resolve","reject","statusText","onerror","overrideMimeType","fs","existsSync","stats","statSync","fileDescriptor","openSync","buffer","Buffer","size","readSync","toString","e","numEntries","lineParts","_removeAffixComments","definitionParts","ruleType","ruleCode","combineable","entries","charactersToRemove","additionParts","charactersToAdd","continuationClasses","parseRuleCodes","regexToMatch","entry","add","remove","_removeDicComments","addWord","parts","ruleCodesArray","NEEDAFFIX","newWords","_applyRule","ii","_iilen","newWord","k","combineCode","combineRule","type","otherNewWords","iii","_iiilen","trim","textCodes","FLAG","substr","continuationRule","concat","aWord","trimmedWord","checkExact","toUpperCase","capitalizedWord","hasFlag","lowercaseWord","ruleCodes","COMPOUNDMIN","flag","wordFlags","alphabet","suggest","limit","memoizedLimit","replacementEntry","correctedWord","edits1","words","rv","ed1","ed2","corrections","known","weighted_corrections","sorted_corrections","sort","a","b","capitalization_scheme","correct","root","block","newline","fences","hr","heading","blockquote","html","def","nptable","noop","table","lheading","_paragraph","text","Lexer","tokens","links","Object","create","marked","defaults","normal","pedantic","gfm","_label","_title","edit","getRegex","item","_tag","_comment","paragraph","merge","lex","src","loose","cap","bull","listStart","listItems","t","space","tag","l","isordered","istask","ischecked","lastToken","trimRight","codeBlockStyle","rtrim","lang","depth","header","splitCells","align","cells","ordered","smartLists","undefined","task","checked","sanitize","pre","sanitizer","escape","href","title","Error","charCodeAt","inline","autolink","link","reflink","nolink","strong","em","br","del","InlineLexer","renderer","Renderer","breaks","TextRenderer","Parser","slugger","Slugger","seen","encode","escapeTest","escapeReplace","escapeTestNoEncode","escapeReplaceNoEncode","unescape","_","n","fromCharCode","regex","opt","cleanUrl","base","prot","decodeURIComponent","originIndependentUrl","baseUrls","resolveUrl","encodeURI","_punctuation","_escapes","_scheme","_email","_attribute","_href","_extended_email","_backpedal","output","prevCapZero","out","inLink","inRawBlock","lastParenIndex","findClosingBracket","linkLen","outputLink","escapes","codespan","mangle","smartypants","image","random","infostring","escaped","highlight","langPrefix","level","raw","headerIds","headerPrefix","slug","xhtml","body","listitem","checkbox","tablerow","content","tablecell","baseUrl","parse","inlineText","tok","parseText","row","cell","errMsg","silent","value","originalSlug","key","call","tableRow","count","offset","curr","c","invert","suffLen","currChar","checkSanitizeDeprecation","warn","callback","pending","done","err","message","setOptions","getDefaults","parser","lexer","inlineLexer","__assign","assign","p","eventPropTypes","onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid","EditorPropTypes","apiKey","id","init","initialValue","onEditorChange","tagName","cloudChannel","plugins","toolbar","disabled","textareaName","isFunction","x","bindHandlers","editor","props","boundHandlers","keys","filter","map","handler","eventName","findEventHandlers","forEach","oldHandler","newHandler","unique","uuid","prefix","time","Date","getTime","floor","isTextarea","element","normalizePluginArray","isArray","mergePlugins","initPlugins","inputPlugins","__extends","_extendStatics","d","setPrototypeOf","__proto__","__","constructor","scriptState","listeners","scriptId","scriptLoaded","_super","Editor","_this","initialise","finalInit","elementRef","readonly","initEditor","visibility","componentDidUpdate","prevProps","initialized","currentContent","getContent","setContent","setMode","componentDidMount","ownerDocument","channel","getElementById","scriptTag","referrerPolicy","addEventListener","injectScriptTag","fn","componentWillUnmount","render","renderInline","renderIframe","initEvent","newContent","_a","ref","propTypes","defaultProps","userAgent","navigator","gecko","ie_upto10","ie_11up","edge","ie","ie_version","documentMode","webkit","qtwebkit","presto","safari","vendor","mac_geMountainLion","phantom","ios","android","mobile","mac","chromeOS","windows","presto_version","Number","flipCtrlCmd","captureRightClick","classTest","range","rmClass","node","removeChildren","childNodes","removeChildrenAndAdd","parent","eltP","setAttribute","contains","child","nodeType","host","activeElt","activeElement","shadowRoot","addClass","joinClasses","as","createRange","endNode","r","setEnd","setStart","createTextRange","moveToElementText","collapse","moveEnd","moveStart","selectInput","select","bind","f","args","copyObj","overwrite","prop","countColumn","startIndex","startValue","nextTab","selectionStart","selectionEnd","_e","Delayed","set","ms","clearTimeout","setTimeout","scrollerGap","sel_dontScroll","scroll","sel_mouse","sel_move","findColumn","goal","col","skipped","spaceStrs","spaceStr","lst","arr","nothing","createObj","inst","nonASCIISingleCaseWordChar","isWordCharBasic","isWordChar","helper","extendingChars","isExtendingChar","skipExtendingChars","dir","findFirst","pred","midF","ceil","bidiOther","getBidiPartAt","order","sticky","bidiOrdering","lowTypes","arabicTypes","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","outerType","types","i$1","i$2","type$1","i$3","prev$1","type$2","i$4","type$3","i$5","cur$1","type$4","i$6","end$1","replace$1","j$1","m","i$7","at","j$2","nstart","unshift","getOrder","noHandlers","emitter","attachEvent","map$$1","_handlers","getHandlers","removeEventListener","detachEvent","signal","handlers","signalDOMEvent","override","preventDefault","defaultPrevented","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","returnValue","e_stopPropagation","stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","which","button","ctrlKey","zwspSupported","badBidiRects","dragAndDrop","div","zeroWidthElement","measure","offsetHeight","offsetWidth","hasBadBidiRects","txt","r0","getBoundingClientRect","r1","left","right","splitLinesAuto","nl","rt","hasSelection","getSelection","te","range$$1","selection","parentElement","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","modes","mimeModes","dependencies","resolveMode","spec","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","nstate","a1","a2","StringStream","lineOracle","lastColumnPos","lastColumnValue","lineStart","children","sz","chunkSize","getBetween","iter","getLines","updateLineHeight","diff","lineNo","no","_lineAtHeight","h","outer","lh","isLine","lineNumberFor","lineNumberFormatter","firstLineNumber","equalCursorPos","copyPos","maxPos","minPos","clipLine","_clipPos","linelen","clipToLen","clipPosArray","eol","eat","skipTo","backUp","column","indentation","pattern","consume","caseInsensitive","cased","hideFirstChars","oracle","baseToken","SavedContext","Context","maxLookAhead","baseTokens","baseTokenPos","highlightLine","context","forceToEnd","st","modeGen","lineClasses","runMode","loop","o","overlays","i_end","opaque","styles","classes","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","save","styleClasses","highlightFrontier","modeFrontier","precise","minindent","minline","lim","indented","findStartLine","saved","fromSaved","processLine","viewFrom","viewTo","startAt","callBlankLine","readToken","copy","Token","takeToken","asArray","extractLineClasses","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","sawReadOnlySpans","sawCollapsedSpans","MarkedSpan","marker","getMarkedSpanFor","spans","span","removeMarkedSpan","stretchSpansOverChange","change","full","oldFirst","markedSpans","oldLast","endCh","isInsert","nw","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansBefore","startsBefore","markedSpansAfter","sameLine","span$1","clearEmptySpans","newMarkers","gapMarkers","gap","clearWhenEmpty","detachMarkedSpans","detachLine","attachMarkedSpans","attachLine","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","lineNo$$1","visualLine","merged","visualLineNo","lineN","vis","visualLineEndNo","lineIsHidden","widgetNode","lineIsHiddenInner","_heightAtLine","lineObj","lineLength","found$1","findMaxLine","maxLine","maxLineLength","maxLineChanged","Line","estimateHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","cache","buildLineContent","lineView","builder","trailingSpace","splitSpaces","rest","addToken","buildToken","buildTokenBadBidi","insertLineContent","externalMeasured","maps","caches","lastChild","querySelector","defaultSpecialCharPlaceholder","startStyle","endStyle","css","attributes","displayText","trailingBefore","spaceBefore","special","specialChars","mustWrap","createDocumentFragment","txt$1","tabWidth","specialCharPlaceholder","fullStyle","part","buildCollapsedSpan","ignoreWidget","widget","input","needsContentAttribute","setUneditable","allText","spanStyle","spanEndStyle","spanStartStyle","nextChange","Infinity","foundBookmarks","endStyles","upto","tokenText","LineView","visualLineContinued","hidden","buildViewArray","nextPos","view","operationGroup","orphanDelayedCallbacks","signalLater","delayedCallbacks","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","zIndex","getLineContent","built","background","updateLineBackground","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","markers","gutterMarkers","lineNumbers","wrap$1","gutterWrap","lineNumber","gutterLeft","lineNumInnerWidth","gutterSpecs","gutterWidth","alignable","nextSibling","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","wrapperWidth","coverGutter","paddingLeft","position","marginLeft","widgetHeight","parentStyle","gutters","clientWidth","eventInWidget","getAttribute","sizer","mover","paddingTop","offsetTop","paddingVert","paddingH","cachedPaddingH","getComputedStyle","currentStyle","paddingRight","scrollGap","nativeBarWidth","displayWidth","scroller","barWidth","displayHeight","clientHeight","barHeight","mapFromLineView","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","lineMeasure","updateExternalMeasurement","rect","hasHeights","prepared","varHeight","wrapping","lineWrapping","curWidth","heights","rects","getClientRects","abs","bottom","ensureLineHeights","place","nodeAndOffsetInLineMap","getUsefulRect","screen","logicalXDPI","deviceXDPI","fromRange","hasBadZoomedRects","scaleX","scaleY","logicalYDPI","deviceYDPI","maybeUpdateRectForZooming","rSpan","charWidth","nullRect","rtop","rbot","bot","bogus","singleCursorHeightPerLine","rbottom","measureCharInner","measureText","mStart","mEnd","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","cachedCharWidth","cachedTextHeight","lineNumChars","pageScrollX","pageScrollY","marginTop","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","viewOffset","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","_charCoords","_cursorCoords","preparedMeasure","get","getBidi","partPos","other","estimateCoords","PosWithInfo","outside","xRel","_coordsChar","y","coordsCharInner","rangeEnd","wrappedLineExtent","begin","wrappedLineExtentChar","boxIsAfter","box","widgetHeight$$1","ltr","coordsBidiPartWrapped","coordsBidiPart","baseX","chAround","boxAround","atLeft","atStart","_lineNo","closestDist","endX","dist","textHeight","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","estHeight","posFromMouse","liberal","forRect","clientX","clientY","colDiff","round","regChange","lendiff","updateLineNumbers","viewChanged","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","countDirtyView","dirty","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","sel","primIndex","showCursorWhenSelecting","drawSelectionCursor","drawSelectionRange","cursor","cursorHeight","otherCursor","cmpCoords","fragment","padding","leftSide","rightSide","sizerWidth","docLTR","drawForLine","fromArg","toArg","lineLen","wrapX","side","extent","iterateBidiSections","fromPos","toPos","openStart","openEnd","openRight","topLeft","topRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","cursorDiv","cursorBlinkRate","setInterval","ensureFocus","focus","delayBlurEvent","delayingBlurEvent","readOnly","selForContextMenu","receivedFocus","updateHeightsInViewport","prevBottom","lineDiv","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","calculateScrollPos","snapMargin","screentop","docBottom","atTop","atBottom","newTop","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","scrollToPos","margin","cursorScrollMargin","scrollToCoords","scrollToCoordsRange","sPos","updateScrollTop","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollHeight","scrollbars","setScrollLeft","isScroller","scrollWidth","alignHorizontally","measureForScrollbars","gutterW","docH","viewHeight","viewWidth","barLeft","docHeight","NativeScrollbars","vert","horiz","tabIndex","checkedZeroWidth","minHeight","minWidth","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","pointerEvents","bar","delay","maybeDisable","elementFromPoint","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","paddingBottom","heightForcer","borderBottom","scrollbarFiller","coverGutterNextToScrollbar","gutterFiller","scrollbarModel","initScrollbars","scrollbarStyle","axis","nextOpId","_startOperation","op","updateInput","typing","changeObjs","cursorActivityCalled","selectionChanged","updateMaxLine","ops","ownsGroup","_endOperation","endCb","group","callbacks","fireCallbacksForOps","finishOperation","endOperation_R1","updatedDisplay","mustUpdate","updateDisplayIfNeeded","endOperation_R2","endOperation_W2","endOperation_finish","endOperations","scrollbarsClipped","marginBottom","borderRightWidth","maybeClipScrollbars","DisplayUpdate","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","wheelStartX","wheelStartY","doScroll","innerHeight","scrollNode","scrollIntoView","maybeScrollWindow","changed","endCoords","scrollPos","startTop","startLeft","scrollPosIntoView","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","methodOp","docMethodOp","highlightWorker","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","force","visible","editorIsHidden","wrapperHeight","oldDisplayWidth","events","renderedView","maybeUpdateLineNumberWidth","viewportMargin","different","lastWrapHeight","lastWrapWidth","adjustView","toUpdate","selSnapshot","active","anchorNode","extend","anchorOffset","focusNode","focusOffset","selectionSnapshot","updateNumbersFrom","container","rm","currentWheelTarget","updateNumber","patchDisplay","snapshot","removeAllRanges","addRange","restoreSelection","selectionDiv","reportedViewFrom","reportedViewTo","updateGutterSpace","alignWidgets","comp","innerW","lineGutter","lineNumWidth","getGutters","sawLineNumbers","renderGutters","specs","gElt","updateGutters","Display","draggable","wheelDX","wheelDY","activeTouch","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","onScrollWheel","canScrollX","canScrollY","pixels","movedX","movedY","sample","Selection","equals","here","there","deepCopy","Range","normalizeSelection","mayTouch","selectionsMayTouch","prim","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","estimateHeight$$1","spansFor","updateLine","linesFor","lastText","lastSpans","nlines","insert","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","History","startGen","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","addChangeToHistory","selAfter","opId","hist","history","historyEventDelay","lastChangeEvent","pushSelectionToHistory","addSelectionToHistory","selectionEventCanBeMerged","clearRedo","dest","existing","removeClearedSpans","explicitlyCleared","mergeOldSpans","getOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","event","newChanges","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","replaceOneSelection","setSimpleSelection","setSelectionReplaceHistory","setSelectionNoUndo","NaN","filterSelectionChange","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","preventCursorLeft","selectLeft","preventCursorRight","selectRight","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","cancel","makeChange","ignoreReadOnly","suppressEdits","mk","newParts","dfrom","dto","removeReadOnlyRanges","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","returned","v","shiftDoc","distance","removed","recomputeMaxLength","checkWidthStart","retreatFrontier","changesHandler","changeHandler","makeChangeSingleDocInEditor","_replaceRange","rebaseHistSelSingle","rebaseHistArray","sub","ok","copied","changeLine","handle","changeType","LeafChunk","BranchChunk","removeInner","insertInner","iterN","oldHeight","remaining","leaf","maybeSpill","me","sibling","myIndex","used","LineWidget","adjustScrollWhenAboveVisible","this$1","oldH","nextMarkerId","TextMarker","_markText","cloneNode","isParent","SharedTextMarker","markTextShared","replacedWith","addToHistory","addMarkedSpan","clearOnEnter","clearHistory","withOp","visual","dHeight","findSharedMarkers","findMarks","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","getValue","lineSeparator","setValue","getRange","getLineHandle","getLineNumber","getLineHandleVisualStart","setCursor","extendSelectionsBy","addSelection","getSelections","dup","newSel","hint","oldPrev","newPrev","computeReplacedSel","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","addLineWidget","insertAt","aboveVisible","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","mFrom","mTo","subMark","copySharedMarkers","unlinkDoc","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","lastDrop","clearDragCursor","files","dataTransfer","isReadOnly","FileReader","File","read","loadFile","allowDropFileTypes","reader","readAsText","draggingText","text$1","getData","selected","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","globalsRegistered","ensureGlobalHandlers","resizeTimer","onResize","registerGlobalHandlers","setSize","keyNames","3","8","9","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","44","45","46","59","61","91","92","93","106","107","109","110","111","145","173","186","187","188","189","190","191","192","219","220","221","222","63232","63233","63234","63235","63272","63273","63275","63276","63277","63302","keyMap","normalizeKeyName","alt","ctrl","cmd","normalizeKeyMap","keymap","keyname","lookupKey","getKeyMap","fallthrough","isModifierKey","keyCode","addModifierNames","noShift","altKey","metaKey","shiftKey","keyName","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","prep","targetTop","basic","pcDefault","emacsy","macDefault","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","charCoords","coordsChar","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","visualLineEnd","lineEnd","goLineRight","cursorCoords","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","defaultTab","transposeChars","newlineAndIndent","sels","indentLine","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","keyMaps","extraKeys","lookupKeyForEditor","handleKeyBinding","motion","lastStoppedKey","handled","up","showCrossHair","charCode","handleCharBinding","lastClick","lastDoubleClick","PastClick","supportsTouch","clickInGutter","repeat","now","compare","clickRepeat","selectingText","handleMappedButton","contained","behavior","option","unit","addNew","moveOnDrag","configureMouse","dragDrop","moved","dragEnd","mouseMove","dragStart","e2","leftButtonStartDrag","ourRange","ourIndex","startSel","rangeForUnit","lastPos","extendTo","startCol","posCol","leftPos","oldRange","ranges$1","anchorLine","boundary","headIndex","usePart","bidiSimplify","editorSize","counter","move","buttons","curCount","leftButtonSelect","leftButtonDown","findWordAt","gutterEvent","prevent","mX","mY","touches","lineBox","g","contextMenuInGutter","themeChanged","theme","optionHandlers","dragDropChanged","funcs","dragFunctions","toggle","enter","over","leave","drop","wrappingChanged","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","touchFinished","prevTouch","finishTouch","farAway","touch","radiusX","radiusY","isMouseLikeTouchEvent","pageX","pageY","frag","setData","effectAllowed","setDragImage","img","_top","onDragStart","inp","getField","registerEventHandlers","finishInit","initHooks","textRendering","how","aggressive","curSpace","curSpaceString","indentUnit","indentString","pos$1","defineInitHook","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","recent","paste","textLines","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","getModeAt","electricInput","copyableRanges","lineRange","disableBrowserMagic","field","spellcheck","autocorrect","autocapitalize","hiddenTextarea","border","_findPosH","origDir","moveOnce","boundToLine","bidi","mv","getWrappedLineExtent","moveInStorageOrder","searchInVisualLine","getRes","res","nextCh","moveVisually","findNextLine","sawType","getHelper","hitSide","_findPosV","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","posToDOM","badPos","bad","domToPos","lineNode","locateNodeInLineView","textNode","topNode","nodeValue","curNode","textContent","previousSibling","dist$1","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","updateFromDOM","readFromDOMSoon","forceCompositionEnd","showMultipleSelections","curAnchor","curFocus","rng","rangeCount","getRangeAt","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","blur","pollSelection","pollInterval","poll","scan","isInGutter","triggerOnKeyDown","pollContent","fromIndex","fromNode","toNode","toIndex","closing","extraLinebreak","close","addText","walk","cmText","markerID","isBlock","nodeName","domTextBetween","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","contentEditable","readOnlyChanged","resetPosition","TextareaInput","prevInput","pollingFast","createField","textarea","prepareCopyCut","fastPoll","dispatchEvent","Event","_display","moveInputWithCursor","headPos","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldScrollY","oldCSS","oldWrapperCSS","wrapperBox","offsetParent","scrollY","rehide","detectingSelectAll","prepareSelectAllHack","mouseup","extval","deflt","notOnInit","newBreaks","getInputField","detach","attach","integer","defineOptions","helpers","setOption","getDoc","addKeyMap","removeKeyMap","addOverlay","score","priority","insertSorted","modeSpec","removeOverlay","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelpers","help","_global","lineAtHeight","heightAtLine","defaultTextHeight","defaultCharWidth","getViewport","addWidget","vspace","hspace","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","findPosH","amount","rtlMoveVisually","findPosV","goalColumn","goals","startChar","getScrollInfo","scrollToRange","interpret","startOperation","endOperation","swapDoc","phrase","phraseText","phrases","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","predicate","addEditorMethods","dontDelegate","method","func","fromTextArea","tabindex","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","addLegacyProps","version","factory","eq","isArrayLike","isIndex","isObject","object","encodeURIComponent","u","Symbol","for","aa","ba","ca","da","ea","fa","B","ha","ia","ja","ka","la","C","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","D","displayName","$$typeof","_status","_result","ReactCurrentDispatcher","ReactCurrentBatchConfig","suspense","na","E","_threadCount","_currentValue2","F","Uint16Array","H","pa","qa","ra","sa","ta","J","acceptsBooleans","attributeName","attributeNamespace","mustUseProperty","propertyName","sanitizeURL","K","L","M","xlinkHref","wa","N","xa","ua","va","za","is","O","P","Q","R","S","U","V","W","Aa","memoizedState","queue","Ba","Ca","Da","Ea","dispatch","delete","action","Fa","Map","Ga","X","Ha","readContext","useContext","useMemo","useReducer","useRef","useState","useLayoutEffect","useCallback","useImperativeHandle","useEffect","useDebugValue","useResponder","responder","Ia","mathml","svg","Ja","Ka","area","embed","keygen","meta","param","track","wbr","La","menuitem","Y","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","orphans","widows","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","Ma","Na","Oa","Z","Children","toArray","Pa","Qa","listing","Ra","Sa","Ta","Va","Wa","dangerouslySetInnerHTML","suppressContentEditableWarning","suppressHydrationWarning","Xa","Ya","isReactComponent","contextType","contextTypes","oa","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","getDerivedStateFromProps","updater","UNSAFE_componentWillMount","componentWillMount","q","getChildContext","childContextTypes","A","T","isValidElement","Za","domNamespace","childIndex","footer","threadID","stack","exhausted","currentSelectValue","previousWasTextNode","makeStaticMarkup","suspenseDepth","contextIndex","contextStack","contextValueStack","destroy","clearProviders","pushProvider","_context","popProvider","I","G","fallbackFrame","renderDOM","_ctor","default","ma","defaultChecked","defaultValue","Ua","z","__html","$a","renderToString","renderToStaticMarkup","renderToNodeStream","renderToStaticNodeStream","ab","bb","isSymbol","NAN","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","valueOf","isBinary","arraySome","baseIteratee","baseSome","isIterateeCall","collection","guard","baseEach","modules","installedModules","__webpack_require__","moduleId","getter","defineProperty","configurable","enumerable","__esModule","property","container_1","format_1","leaf_1","scroll_1","inline_1","block_1","embed_1","text_1","attributor_1","class_1","style_1","store_1","Registry","Parchment","Scope","register","Container","Format","Leaf","Embed","Scroll","Block","Inline","Text","Attributor","Attribute","Class","Style","Store","extendStatics","ParchmentError","tags","scope","ANY","Node","TEXT_NODE","LEVEL","BLOCK","INLINE","HTMLElement","names","TYPE","DATA_KEY","BlotClass","bubble","blot","Definitions","_i","Definition","blotName","attrName","equal","NULL_CHARACTER","Delta","newOp","retain","chop","partition","passed","failed","reduce","initial","changeLength","elem","iterator","hasNext","nextOp","compose","thisIter","otherIter","firstOther","firstLeft","peekType","peekLength","thisOp","otherOp","strings","diffResult","component","opLength","INSERT","DELETE","EQUAL","transform","transformPosition","nextType","hasOwn","toStr","gOPD","getOwnPropertyDescriptor","isPlainObject","hasOwnConstructor","hasIsPrototypeOf","setProperty","newValue","writable","getProperty","copyIsArray","clone","deep","BlockEmbed","bubbleFormats","_createClass","defineProperties","descriptor","Constructor","protoProps","staticProps","_get","receiver","Function","desc","getPrototypeOf","_extend2","_interopRequireDefault","_quillDelta2","_parchment2","_break2","_inline2","_text2","_classCallCheck","instance","TypeError","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","_Parchment$Embed","domNode","formats","values","attribute","BLOCK_ATTRIBUTE","format","endsWith","BLOCK_BLOT","_Parchment$Block","_this2","descendants","tail","statics","defaultChild","allowedChildren","overload","expandConfig","_typeof","_slicedToArray","_arr","_n","_d","_s","sliceIterator","_editor2","_emitter4","_module2","_selection","_selection2","_logger2","_theme2","_defineProperty","debug","Quill","error","innerHTML","classList","__quill","addContainer","scrollingContainer","whitelist","keyboard","addModule","clipboard","EDITOR_CHANGE","TEXT_CHANGE","isBlank","SCROLL_UPDATE","mutations","lastRange","modify","contents","convert","setContents","disable","imports","startsWith","refNode","setRange","_this3","_overload","_overload2","deleteText","enable","enabled","_this4","sources","API","formatLine","formatText","SILENT","_this5","_overload3","_overload4","_this6","_overload5","_overload6","bounds","getBounds","containerBounds","getLength","_overload7","_overload8","getContents","getFormat","MAX_VALUE","_overload9","_overload10","getText","_this7","insertEmbed","_this8","_overload11","_overload12","insertText","once","dangerouslyPasteHTML","_this9","_overload13","_overload14","removeFormat","_this10","applied","applyDelta","_overload15","_overload16","USER","_this11","userConfig","DEFAULTS","import","themeConfig","moduleConfig","moduleClass","modifier","strict","isEnabled","oldDelta","shiftRange","_emitter","_emitter2","emit","_map","_map2","_map3","_map4","_Parchment$Inline","BLOT","isolate","moveChildren","selfIndex","otherIndex","_parchment","TextBlot","_Parchment$Text","_eventemitter2","_key","querySelectorAll","_node$__quill$emitter","handleDOM","Emitter","_EventEmitter","_len2","_key2","_ref","SCROLL_BEFORE_UPDATE","SCROLL_OPTIMIZE","SELECTION_CHANGE","Module","quill","levels","_console","namespace","ns","logger","newLevel","pSlice","objectKeys","isArguments","deepEqual","actual","expected","opts","isUndefinedOrNull","isBuffer","kb","objEquiv","attributeBit","ATTRIBUTE","canAdd","removeAttribute","Code","_block2","_Inline","CodeBlock","_Block","_descendant","descendant","deleteAt","nextNewline","newlineIndex","prevNewline","isolateLength","formatAt","_descendant3","_descendant4","searchIndex","optimize","unwrap","TAB","_op2","_code2","_cursor2","_block","_clone2","_deepEqual2","ASCII","getDelta","consumeNextNewline","scrollLength","batchStart","normalizeDelta","_scroll$line","_scroll$line2","_line$descendant","batchEnd","lengthRemaining","codeIndex","codeLength","leaves","formatsArr","blots","combineFormats","_scroll$line3","_scroll$line4","suffixLength","suffix","cursorIndex","textBlot","oldValue","CONTENTS","diffDelta","combined","_toConsumableArray","arr2","mouseDown","savedRange","handleComposition","handleDragging","listenDOM","native","getNativeRange","setNativeRange","ignored","_context$range","startNode","startOffset","endOffset","restore","_format","nativeRange","_scroll$leaf","_scroll$leaf2","_leaf$position","_leaf$position2","_scroll$leaf3","_scroll$leaf4","_leaf$position3","_leaf$position4","normalizeNative","normalized","normalizedToRange","positions","indexes","_position","startContainer","endContainer","_scroll$leaf5","_scroll$leaf6","_leaf$position5","_leaf$position6","scrollBounds","rangeToNative","_getRange","_getRange2","Break","linked_list_1","shadow_1","ContainerBlot","build","makeBlot","forEachAt","criteria","lengthLeft","childBlot","refBlot","some","insertInto","memo","targetParent","inclusive","addedNodes","removedNodes","mutation","compareDocumentPosition","DOCUMENT_POSITION_CONTAINED_BY","DOCUMENT_POSITION_FOLLOWING","FormatBlot","replaceWith","replacement","LeafBlot","INLINE_BLOT","lib","keepNull","Iterator","retOp","_instanceof","nativeMap","nativeSet","nativePromise","Set","circular","includeNonEnumerable","allParents","allChildren","useBuffer","_clone","proto","__isArray","__isRegExp","__getRegExpFlags","__isDate","allocUnsafe","keyChild","valueChild","entryChild","attrs","getOwnPropertySymbols","symbols","symbol","allPropertyNames","getOwnPropertyNames","__objToStr","re","clonePrototype","_container2","_Parchment$Scroll","batch","_line","_line2","_line3","_newlineIndex","observer","takeRecords","SHORTKEY","_quill2","Keyboard","_Module","bindings","addBinding","ENTER","handleEnter","BACKSPACE","handleBackspace","handleDelete","handleDeleteRange","listen","evt","binding","_quill$getLine","_quill$getLine2","_quill$getLeaf","getLeaf","_quill$getLeaf2","leafStart","offsetStart","_ref2","leafEnd","offsetEnd","prefixText","suffixText","curContext","every","makeEmbedArrowHandler","_ref3","LEFT","RIGHT","_quill$getLeaf3","_quill$getLine11","_quill$getLine13","curFormats","prevFormats","nextLength","_quill$getLine15","_quill$getLine17","nextFormats","firstFormats","lastFormats","lineFormats","makeCodeBlockHandler","_quill$scroll$descend","_quill$scroll$descend2","scrollIndex","getIndex","makeFormatHandler","shortKey","ESCAPE","UP","DOWN","cutoff","updateContents","_quill$getLine3","_quill$getLine4","_quill$getLine5","_quill$getLine6","_quill$getLine7","_quill$getLine8","_quill$getLine9","_quill$getLine10","Cursor","_length","restoreText","_Parchment$Container","ColorStyle","ColorClass","ColorAttributor","_Parchment$Attributor","_inline","Link","_sanitize","PROTOCOL_WHITELIST","SANITIZED_URL","protocols","protocol","_keyboard2","_dropdown2","optionsCounter","toggleAriaAttribute","Picker","buildPicker","label","togglePicker","hasAttribute","selectItem","buildItem","buildLabel","buildOptions","trigger","selectedIndex","createEvent","isActive","_embed2","_scroll2","_clipboard2","_history2","ShadowBlot","parentBlot","refDomNode","AttributorStore","ClassAttributor","camelize","StyleAttributor","Theme","themes","GUARD_TEXT","contentNode","childNode","leftGuard","rightGuard","prevLength","AlignStyle","AlignClass","AlignAttribute","BackgroundStyle","BackgroundClass","_color","DirectionStyle","DirectionClass","DirectionAttribute","FontClass","FontStyle","FontStyleAttributor","SizeStyle","SizeClass","getLastChangeIndex","lastRecorded","ignoreChange","userOnly","record","changeDelta","undoDelta","timestamp","maxStack","deleteLength","changeIndex","endsWithNewlineChange","BaseTooltip","_colorPicker2","_iconPicker2","_picker2","_tooltip2","ALIGNS","COLORS","FONTS","HEADERS","SIZES","BaseTheme","_Theme","listener","tooltip","textbox","hide","pickers","picker","extendToolbar","icons","selects","fillSelect","formula","fileInput","readAsDataURL","click","video","_Tooltip","boundsContainer","preview","linkRange","restoreFocus","extractVideoUrl","LinkedList","append","nodes","ret","curIndex","curLength","OBSERVER_CONFIG","characterData","characterDataOldValue","childList","subtree","ScrollBlot","MutationObserver","observe","disconnect","records","markParent","grandChild","InlineBlot","obj1","obj2","isEqual","BlockBlot","EmbedBlot","splitText","_toggle","DOMTokenList","searchString","subjectString","isFinite","thisArg","DIFF_DELETE","DIFF_INSERT","DIFF_EQUAL","diff_main","text1","text2","cursor_pos","commonlength","diff_commonPrefix","commonprefix","diff_commonSuffix","commonsuffix","diffs","longtext","shorttext","hm","diff_halfMatchI_","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","seed","best_common","prefixLength","text1_a","text1_b","text2_a","text2_b","hm1","hm2","mid_common","diff_halfMatch_","diffs_a","diffs_b","text1_length","text2_length","max_d","v_offset","v_length","v1","v2","front","k1start","k1end","k2start","k2end","k1","k1_offset","y1","x1","k2_offset","x2","diff_bisectSplit_","k2","y2","diff_bisect_","diff_compute_","diff_cleanupMerge","pointer","count_delete","count_insert","text_delete","text_insert","norm","current_pos","next_pos","split_pos","d_left","d_right","cursor_normalize_diff","ndiffs","cursor_pointer","d_next","merge_tuples","fix_cursor","compact","starts_with_pair_end","fixed_diffs","fix_emoji","text1a","text2a","text1b","text2b","diffsb","pointermin","pointermax","pointermid","pointerstart","pointerend","left_d","right_d","shim","supportsArgumentsClass","supported","unsupported","propertyIsEnumerable","has","Events","EE","EventEmitter","_events","_eventsCount","eventNames","exists","available","ee","a3","a4","a5","removeListener","removeAllListeners","addListener","setMaxListeners","prefixed","matchText","matchSpacing","matchNewline","matchBlot","matchAttributor","_extend3","_align","_background","_direction","_font","_size","DOM_KEY","CLIPBOARD_CONFIG","deltaEndsWith","ELEMENT_NODE","fontStyle","computeStyle","italic","bold","applyFormat","parseFloat","textIndent","matchAlias","ATTRIBUTE_ATTRIBUTORS","STYLE_ATTRIBUTORS","Clipboard","matchers","selector","matcher","matchVisual","addMatcher","innerText","_prepareMatching","prepareMatching","_prepareMatching2","elementMatchers","textMatchers","traverse","childrenDelta","pair","_pair","endText","nextElementSibling","nodeHeight","whiteSpace","replacer","Bold","addControls","Toolbar","_ret","controls","addHandler","_this$quill$selection","_quill$selection$getR","prompt","addButton","groups","control","addSelect","clean","_picker","ColorPicker","_Picker","backgroundColor","colorLabel","stroke","fill","IconPicker","defaultItem","Tooltip","TEMPLATE","reference","rootBounds","verticalShift","_base","_base2","_link2","_icons2","TOOLBAR_CONFIG","SnowTheme","_BaseTheme","buildButtons","buildPickers","SnowTooltip","_BaseTooltip","show","_core2","_indent","_blockquote2","_header2","_list","_list2","_bold2","_italic2","_script2","_strike2","_underline2","_image2","_video2","_code","_formula2","_syntax2","_toolbar2","_bubble2","_snow2","IndentClass","ListItem","IdentAttributor","Blockquote","Header","List","_Container","listEventHandler","_bold","Italic","_Bold","Script","Strike","Underline","_link","ATTRIBUTES","Image","Video","_BlockEmbed","FormulaBlot","_Embed","katex","throwOnError","errorColor","Formula","CodeToken","SyntaxCodeBlock","_CodeBlock","_highlight","cachedText","Syntax","timer","interval","hljs","highlightAuto","BubbleTooltip","BubbleTheme","_bounds","arrow","base64","ieee754","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","Uint8Array","arg","encodingOrOffset","ArrayBuffer","byteOffset","byteLength","fromArrayLike","fromArrayBuffer","encoding","isEncoding","write","fromString","fromObject","assertSize","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","arrayIndexOf","indexSize","arrLength","valLength","buf","readUInt16BE","foundIndex","hexWrite","strLen","parsed","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","foo","subarray","typedArraySupport","poolSize","_augment","species","allocUnsafeSlow","_isBuffer","swap16","swap32","swap64","inspect","thisStart","thisEnd","thisCopy","targetCopy","toJSON","toHex","bytes","checkOffset","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","leadSurrogate","toByteArray","stringtrim","base64clean","dst","QuillMixin","createEditor","$el","setEditorTabIndex","hookEditor","unprivilegedEditor","makeUnprivilegedEditor","handleTextChange","onEditorChangeText","onEditorChangeSelection","handleSelectionChange","eventType","rangeOrDelta","oldRangeOrOldDelta","unhookEditor","setEditorReadOnly","setEditorContents","setEditorSelection","getHTML","createFind","React","createDOMFactory","abbr","address","article","aside","audio","bdi","bdo","big","canvas","caption","cite","colgroup","datalist","dd","details","dfn","dialog","dl","dt","fieldset","figcaption","figure","h1","h2","h3","h4","h5","h6","hgroup","iframe","ins","kbd","legend","li","main","menu","meter","nav","noscript","ol","optgroup","picture","progress","rp","ruby","samp","script","section","small","summary","sup","tbody","td","tfoot","thead","tr","ul","var","circle","clipPath","defs","ellipse","linearGradient","mask","polygon","polyline","radialGradient","stop","tspan","cmCfg","modeCfg","htmlMode","htmlModeMissing","highlightFormatting","maxBlockquoteDepth","fencedCodeBlockHighlighting","xml","tokenTypeOverrides","tokenTypes","list1","list2","list3","imageAltText","imageMarker","formatting","linkInline","linkEmail","linkText","linkHref","tokenType","hrRE","taskListRE","atxHeaderRE","allowAtxHeaderWithoutSpace","setextHeaderRE","textRE","fencedCodeRE","linkDefRE","punctuation","switchInline","switchBlock","linkTitle","indentedCode","htmlBlock","exit","htmlState","tagStart","tokenize","isInText","inlineNormal","blockNormal","trailingSpaceNewLine","prevLine","thisLine","firstTokenOnLine","prevLineLineIsEmpty","prevLineIsIndentedCode","prevLineIsHr","prevLineIsList","maxNonCodeIndentation","listStack","lineIndentation","indentationDiff","allowsInlineContinuation","fencedCodeEnd","isHr","getType","setext","listType","taskList","fencedEndRE","localMode","localState","local","footnoteLink","md_inside","returnType","currListInd","hasExitedList","maxFencedEndInd","taskOpen","taskClosed","listMod","handleText","matchCh","previousFormatting","formattingEscape","atts","leftFlanking","rightFlanking","setEm","setStrong","retType","endChar","returnState","linkRE","footnoteLinkInside","footnoteUrl","textAfter","blockCommentStart","blockCommentEnd","closeBrackets","htmlConfig","autoSelfClosers","implicitlyClosed","contextGrabbers","doNotIndent","allowUnquoted","allowMissing","xmlConfig","allowMissingTagName","editorConf","config_","setStyle","inText","chain","inBlock","doctype","inTag","baseState","closure","isInAttribute","inAttribute","stringStartCol","terminator","startOfLine","noIndent","popContext","maybePopContext","nextTagName","parentTagName","tagNameState","closeTagNameState","attrState","matchClosing","closeState","closeStateErr","_stream","attrEqState","attrValueState","attrContinuedState","baseIndent","fullLine","multilineTagIndentPastTag","multilineTagIndentFactor","alignCDATA","tagAfter","grabbers","configuration","skipAttribute","xmlCurrentTag","xmlCurrentContext","cx","combine","basePos","baseCur","overlayPos","overlayCur","streamSeen","overlayToken","getGlobal","getTinymce","tinymce","Component","Mixin","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","len2","encodeChunk","lookup","num","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","LN2","ReactDOM","createClass","DOM","QuillComponent","mixins","bool","oneOfType","shape","number","onChangeSelection","preserveWhitespace","isNotObject","isNotArrayOfString","arrayOf","isNotASingleElement","only","dirtyProps","cleanProps","getDefaultProps","isControlled","getInitialState","componentWillReceiveProps","nextProps","nextState","currentContents","getEditorContents","nextContents","lastDeltaChangeSet","isEqualValue","shouldComponentRegenerate","regenerate","getEditingArea","getEditorConfig","quillDelta","quillSelection","shouldComponentUpdate","componentWillUpdate","prevState","findDOMNode","editingArea","getEditorSelection","isDelta","nextValue","setState","renderEditingArea","customElement","defaultElement","cloneElement","nextSelection","currentSelection","hasGainedFocus","hasLostFocus","findIndexFunc","iterable","iteratee","baseFindIndex","toInteger","nativeMax","fromRight","toFinite","remainder","toNumber","INFINITY","MAX_INTEGER","ReactDOMServer","defaultColors","color","defaultItems","items","QuillToolbar","renderGroup","renderItem","renderChoiceItem","renderChoices","choiceItems","selectedItem","renderButton","renderAction","getClassName","newObj","_interopRequireWildcard","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_defineProperties","_assertThisInitialized","_getPrototypeOf","_setPrototypeOf","_id","generateId","SimpleMDEEditor","_React$PureComponent","keyChange","simpleMde","editorEl","editorToolbarEl","SimpleMDE","initialOptions","allOptions","eventWrapper","removeEvents","addEvents","elementWrapperRef","codemirror","getLineAndCursor","getMdeInstance","addExtraKeys","setElementWrapperRef","_this$props","htmlFor","PureComponent","isMac","anchorToExternalRegex","toggleBold","toggleItalic","drawLink","toggleHeadingSmaller","toggleHeadingBigger","drawImage","toggleBlockquote","toggleOrderedList","toggleUnorderedList","toggleCodeBlock","togglePreview","toggleStrikethrough","toggleHeading1","toggleHeading2","toggleHeading3","cleanBlock","drawTable","drawHorizontalRule","toggleSideBySide","toggleFullScreen","shortcuts","getBindingName","isMobile","opera","fixShortcut","createToolbarButton","enableTooltips","el","actionName","createTooltip","noDisable","noMobile","classNameParts","iconClasses","classNameIndex","classNamePart","icon","iconClassIndex","iconClass","createSep","getState","stat","saved_overflow","toolbarElements","fullscreen","toolbarButton","sidebyside","onToggleFullScreen","_toggleBlock","blockStyles","fenceCharsToInsert","fencing_line","token_state","code_type","line_num","firstTok","lastTok","fencedChars","block_start","block_end","cur_start","cur_end","is_code","start_text","start_line","end_text","end_line","fence_chars","search_from","next_line","next_line_last_tok","no_sel_and_starting_of_line","sel_multi","start_line_sel","end_line_sel","repl_start","repl_end","_replaceSelection","insertFencingAtSelection","_toggleLine","_toggleHeading","startPoint","endPoint","_cleanBlock","promptURLs","promptTexts","insertTexts","afterImageUploaded","imageName","uploadedImage","updateStatusBar","imageTexts","sbOnUploaded","sbInit","horizontalRule","useSideBySideListener","previewNormal","toolbar_div","sideBySideRenderingFunction","previewRender","previewClass","startEnd","currHeadingLevel","listRegexp","whitespacesRegexp","repl","untoggleOnly","char","_getChar","_checkChar","start_chars","end_chars","humanFileSize","toFixed","_mergeProperties","wordCount","toolbarBuiltInButtons","openBrowseFileWindow","sbOnDragEnter","sbOnDrop","sbProgress","sizeUnits","errorMessages","noFileGiven","typeNotAllowed","fileTooLarge","importError","EasyMDE","autoDownloadFA","autoDownloadFontAwesome","styleSheets","getElementsByTagName","showIcons","uploadImage","plainText","markdown","parsingConfig","errorCallback","errorMessage","alert","imageMaxSize","imageAccept","autosave","unique_id","uniqueId","foundSavedValue","imageUploadFunction","uploadImagesUsingCustomFunction","uploadImages","isLocalStorageAvailable","localStorage","setItem","removeItem","onSuccess","onError","uploadImageUsingCustomFunction","itemName","matchingClasses","gui","statusbar","markedOptions","renderingConfig","singleLineBreaks","codeSyntaxHighlighting","htmlText","linkString","fixedLinkString","addAnchorTargetBlank","_rendered","spellChecker","styleSelectedText","forceSync","createToolbar","createStatusbar","sideBySide","createSideBySide","temp_cm","easyMDE","binded","autosaveTimeoutId","getItem","hh","getHours","getMinutes","clearAutosavedValue","imageInput","onErrorSup","fillErrorMessage","imageUrl","formData","FormData","imageCSRFToken","request","upload","onprogress","lengthComputable","total","imageUploadEndpoint","JSON","filePath","location","filledErrorMessage","syncSideBySidePreviewScroll","cScroll","pScroll","ratio","onscroll","toolbarData","toolbarGuideIcon","hideIcons","nonSeparatorIconsFollow","toolbarTips","onclick","multiple","accept","cmWrapper","onUpdate","isPreviewActive","isSideBySideActive","isFullscreenActive"],"mappings":"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","file":"static/js/19.569c51d2.chunk.js","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);else // Plain browser env\n    mod(CodeMirror);\n})(function (CodeMirror) {\n  \"use strict\";\n\n  var listRE = /^(\\s*)(>[> ]*|[*+-] \\[[x ]\\]\\s|[*+-]\\s|(\\d+)([.)]))(\\s*)/,\n      emptyListRE = /^(\\s*)(>[> ]*|[*+-] \\[[x ]\\]|[*+-]|(\\d+)[.)])(\\s*)$/,\n      unorderedListRE = /[*+-]\\s/;\n\n  CodeMirror.commands.newlineAndIndentContinueMarkdownList = function (cm) {\n    if (cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n    var ranges = cm.listSelections(),\n        replacements = [];\n\n    for (var i = 0; i < ranges.length; i++) {\n      var pos = ranges[i].head; // If we're not in Markdown mode, fall back to normal newlineAndIndent\n\n      var eolState = cm.getStateAfter(pos.line);\n      var inner = CodeMirror.innerMode(cm.getMode(), eolState);\n\n      if (inner.mode.name !== \"markdown\") {\n        cm.execCommand(\"newlineAndIndent\");\n        return;\n      } else {\n        eolState = inner.state;\n      }\n\n      var inList = eolState.list !== false;\n      var inQuote = eolState.quote !== 0;\n      var line = cm.getLine(pos.line),\n          match = listRE.exec(line);\n      var cursorBeforeBullet = /^\\s*$/.test(line.slice(0, pos.ch));\n\n      if (!ranges[i].empty() || !inList && !inQuote || !match || cursorBeforeBullet) {\n        cm.execCommand(\"newlineAndIndent\");\n        return;\n      }\n\n      if (emptyListRE.test(line)) {\n        if (!/>\\s*$/.test(line)) cm.replaceRange(\"\", {\n          line: pos.line,\n          ch: 0\n        }, {\n          line: pos.line,\n          ch: pos.ch + 1\n        });\n        replacements[i] = \"\\n\";\n      } else {\n        var indent = match[1],\n            after = match[5];\n        var numbered = !(unorderedListRE.test(match[2]) || match[2].indexOf(\">\") >= 0);\n        var bullet = numbered ? parseInt(match[3], 10) + 1 + match[4] : match[2].replace(\"x\", \" \");\n        replacements[i] = \"\\n\" + indent + bullet + after;\n        if (numbered) incrementRemainingMarkdownListNumbers(cm, pos);\n      }\n    }\n\n    cm.replaceSelections(replacements);\n  }; // Auto-updating Markdown list numbers when a new item is added to the\n  // middle of a list\n\n\n  function incrementRemainingMarkdownListNumbers(cm, pos) {\n    var startLine = pos.line,\n        lookAhead = 0,\n        skipCount = 0;\n    var startItem = listRE.exec(cm.getLine(startLine)),\n        startIndent = startItem[1];\n\n    do {\n      lookAhead += 1;\n      var nextLineNumber = startLine + lookAhead;\n      var nextLine = cm.getLine(nextLineNumber),\n          nextItem = listRE.exec(nextLine);\n\n      if (nextItem) {\n        var nextIndent = nextItem[1];\n        var newNumber = parseInt(startItem[3], 10) + lookAhead - skipCount;\n        var nextNumber = parseInt(nextItem[3], 10),\n            itemNumber = nextNumber;\n\n        if (startIndent === nextIndent && !isNaN(nextNumber)) {\n          if (newNumber === nextNumber) itemNumber = nextNumber + 1;\n          if (newNumber > nextNumber) itemNumber = newNumber + 1;\n          cm.replaceRange(nextLine.replace(listRE, nextIndent + itemNumber + nextItem[4] + nextItem[5]), {\n            line: nextLineNumber,\n            ch: 0\n          }, {\n            line: nextLineNumber,\n            ch: nextLine.length\n          });\n        } else {\n          if (startIndent.length > nextIndent.length) return; // This doesn't run if the next line immediatley indents, as it is\n          // not clear of the users intention (new indented item or same level)\n\n          if (startIndent.length < nextIndent.length && lookAhead === 1) return;\n          skipCount += 1;\n        }\n      }\n    } while (nextItem);\n  }\n});","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\nvar CodeMirror = require('codemirror');\n\nCodeMirror.commands.tabAndIndentMarkdownList = function (cm) {\n  var ranges = cm.listSelections();\n  var pos = ranges[0].head;\n  var eolState = cm.getStateAfter(pos.line);\n  var inList = eolState.list !== false;\n\n  if (inList) {\n    cm.execCommand('indentMore');\n    return;\n  }\n\n  if (cm.options.indentWithTabs) {\n    cm.execCommand('insertTab');\n  } else {\n    var spaces = Array(cm.options.tabSize + 1).join(' ');\n    cm.replaceSelection(spaces);\n  }\n};\n\nCodeMirror.commands.shiftTabAndUnindentMarkdownList = function (cm) {\n  var ranges = cm.listSelections();\n  var pos = ranges[0].head;\n  var eolState = cm.getStateAfter(pos.line);\n  var inList = eolState.list !== false;\n\n  if (inList) {\n    cm.execCommand('indentLess');\n    return;\n  }\n\n  if (cm.options.indentWithTabs) {\n    cm.execCommand('insertTab');\n  } else {\n    var spaces = Array(cm.options.tabSize + 1).join(' ');\n    cm.replaceSelection(spaces);\n  }\n};","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);else // Plain browser env\n    mod(CodeMirror);\n})(function (CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"fullScreen\", false, function (cm, val, old) {\n    if (old == CodeMirror.Init) old = false;\n    if (!old == !val) return;\n    if (val) setFullscreen(cm);else setNormal(cm);\n  });\n\n  function setFullscreen(cm) {\n    var wrap = cm.getWrapperElement();\n    cm.state.fullScreenRestore = {\n      scrollTop: window.pageYOffset,\n      scrollLeft: window.pageXOffset,\n      width: wrap.style.width,\n      height: wrap.style.height\n    };\n    wrap.style.width = \"\";\n    wrap.style.height = \"auto\";\n    wrap.className += \" CodeMirror-fullscreen\";\n    document.documentElement.style.overflow = \"hidden\";\n    cm.refresh();\n  }\n\n  function setNormal(cm) {\n    var wrap = cm.getWrapperElement();\n    wrap.className = wrap.className.replace(/\\s*CodeMirror-fullscreen\\b/, \"\");\n    document.documentElement.style.overflow = \"\";\n    var info = cm.state.fullScreenRestore;\n    wrap.style.width = info.width;\n    wrap.style.height = info.height;\n    window.scrollTo(info.scrollLeft, info.scrollTop);\n    cm.refresh();\n  }\n});","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../lib/codemirror\"));else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../lib/codemirror\"], mod);else // Plain browser env\n    mod(CodeMirror);\n})(function (CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.modeInfo = [{\n    name: \"APL\",\n    mime: \"text/apl\",\n    mode: \"apl\",\n    ext: [\"dyalog\", \"apl\"]\n  }, {\n    name: \"PGP\",\n    mimes: [\"application/pgp\", \"application/pgp-encrypted\", \"application/pgp-keys\", \"application/pgp-signature\"],\n    mode: \"asciiarmor\",\n    ext: [\"asc\", \"pgp\", \"sig\"]\n  }, {\n    name: \"ASN.1\",\n    mime: \"text/x-ttcn-asn\",\n    mode: \"asn.1\",\n    ext: [\"asn\", \"asn1\"]\n  }, {\n    name: \"Asterisk\",\n    mime: \"text/x-asterisk\",\n    mode: \"asterisk\",\n    file: /^extensions\\.conf$/i\n  }, {\n    name: \"Brainfuck\",\n    mime: \"text/x-brainfuck\",\n    mode: \"brainfuck\",\n    ext: [\"b\", \"bf\"]\n  }, {\n    name: \"C\",\n    mime: \"text/x-csrc\",\n    mode: \"clike\",\n    ext: [\"c\", \"h\", \"ino\"]\n  }, {\n    name: \"C++\",\n    mime: \"text/x-c++src\",\n    mode: \"clike\",\n    ext: [\"cpp\", \"c++\", \"cc\", \"cxx\", \"hpp\", \"h++\", \"hh\", \"hxx\"],\n    alias: [\"cpp\"]\n  }, {\n    name: \"Cobol\",\n    mime: \"text/x-cobol\",\n    mode: \"cobol\",\n    ext: [\"cob\", \"cpy\"]\n  }, {\n    name: \"C#\",\n    mime: \"text/x-csharp\",\n    mode: \"clike\",\n    ext: [\"cs\"],\n    alias: [\"csharp\", \"cs\"]\n  }, {\n    name: \"Clojure\",\n    mime: \"text/x-clojure\",\n    mode: \"clojure\",\n    ext: [\"clj\", \"cljc\", \"cljx\"]\n  }, {\n    name: \"ClojureScript\",\n    mime: \"text/x-clojurescript\",\n    mode: \"clojure\",\n    ext: [\"cljs\"]\n  }, {\n    name: \"Closure Stylesheets (GSS)\",\n    mime: \"text/x-gss\",\n    mode: \"css\",\n    ext: [\"gss\"]\n  }, {\n    name: \"CMake\",\n    mime: \"text/x-cmake\",\n    mode: \"cmake\",\n    ext: [\"cmake\", \"cmake.in\"],\n    file: /^CMakeLists.txt$/\n  }, {\n    name: \"CoffeeScript\",\n    mimes: [\"application/vnd.coffeescript\", \"text/coffeescript\", \"text/x-coffeescript\"],\n    mode: \"coffeescript\",\n    ext: [\"coffee\"],\n    alias: [\"coffee\", \"coffee-script\"]\n  }, {\n    name: \"Common Lisp\",\n    mime: \"text/x-common-lisp\",\n    mode: \"commonlisp\",\n    ext: [\"cl\", \"lisp\", \"el\"],\n    alias: [\"lisp\"]\n  }, {\n    name: \"Cypher\",\n    mime: \"application/x-cypher-query\",\n    mode: \"cypher\",\n    ext: [\"cyp\", \"cypher\"]\n  }, {\n    name: \"Cython\",\n    mime: \"text/x-cython\",\n    mode: \"python\",\n    ext: [\"pyx\", \"pxd\", \"pxi\"]\n  }, {\n    name: \"Crystal\",\n    mime: \"text/x-crystal\",\n    mode: \"crystal\",\n    ext: [\"cr\"]\n  }, {\n    name: \"CSS\",\n    mime: \"text/css\",\n    mode: \"css\",\n    ext: [\"css\"]\n  }, {\n    name: \"CQL\",\n    mime: \"text/x-cassandra\",\n    mode: \"sql\",\n    ext: [\"cql\"]\n  }, {\n    name: \"D\",\n    mime: \"text/x-d\",\n    mode: \"d\",\n    ext: [\"d\"]\n  }, {\n    name: \"Dart\",\n    mimes: [\"application/dart\", \"text/x-dart\"],\n    mode: \"dart\",\n    ext: [\"dart\"]\n  }, {\n    name: \"diff\",\n    mime: \"text/x-diff\",\n    mode: \"diff\",\n    ext: [\"diff\", \"patch\"]\n  }, {\n    name: \"Django\",\n    mime: \"text/x-django\",\n    mode: \"django\"\n  }, {\n    name: \"Dockerfile\",\n    mime: \"text/x-dockerfile\",\n    mode: \"dockerfile\",\n    file: /^Dockerfile$/\n  }, {\n    name: \"DTD\",\n    mime: \"application/xml-dtd\",\n    mode: \"dtd\",\n    ext: [\"dtd\"]\n  }, {\n    name: \"Dylan\",\n    mime: \"text/x-dylan\",\n    mode: \"dylan\",\n    ext: [\"dylan\", \"dyl\", \"intr\"]\n  }, {\n    name: \"EBNF\",\n    mime: \"text/x-ebnf\",\n    mode: \"ebnf\"\n  }, {\n    name: \"ECL\",\n    mime: \"text/x-ecl\",\n    mode: \"ecl\",\n    ext: [\"ecl\"]\n  }, {\n    name: \"edn\",\n    mime: \"application/edn\",\n    mode: \"clojure\",\n    ext: [\"edn\"]\n  }, {\n    name: \"Eiffel\",\n    mime: \"text/x-eiffel\",\n    mode: \"eiffel\",\n    ext: [\"e\"]\n  }, {\n    name: \"Elm\",\n    mime: \"text/x-elm\",\n    mode: \"elm\",\n    ext: [\"elm\"]\n  }, {\n    name: \"Embedded Javascript\",\n    mime: \"application/x-ejs\",\n    mode: \"htmlembedded\",\n    ext: [\"ejs\"]\n  }, {\n    name: \"Embedded Ruby\",\n    mime: \"application/x-erb\",\n    mode: \"htmlembedded\",\n    ext: [\"erb\"]\n  }, {\n    name: \"Erlang\",\n    mime: \"text/x-erlang\",\n    mode: \"erlang\",\n    ext: [\"erl\"]\n  }, {\n    name: \"Esper\",\n    mime: \"text/x-esper\",\n    mode: \"sql\"\n  }, {\n    name: \"Factor\",\n    mime: \"text/x-factor\",\n    mode: \"factor\",\n    ext: [\"factor\"]\n  }, {\n    name: \"FCL\",\n    mime: \"text/x-fcl\",\n    mode: \"fcl\"\n  }, {\n    name: \"Forth\",\n    mime: \"text/x-forth\",\n    mode: \"forth\",\n    ext: [\"forth\", \"fth\", \"4th\"]\n  }, {\n    name: \"Fortran\",\n    mime: \"text/x-fortran\",\n    mode: \"fortran\",\n    ext: [\"f\", \"for\", \"f77\", \"f90\", \"f95\"]\n  }, {\n    name: \"F#\",\n    mime: \"text/x-fsharp\",\n    mode: \"mllike\",\n    ext: [\"fs\"],\n    alias: [\"fsharp\"]\n  }, {\n    name: \"Gas\",\n    mime: \"text/x-gas\",\n    mode: \"gas\",\n    ext: [\"s\"]\n  }, {\n    name: \"Gherkin\",\n    mime: \"text/x-feature\",\n    mode: \"gherkin\",\n    ext: [\"feature\"]\n  }, {\n    name: \"GitHub Flavored Markdown\",\n    mime: \"text/x-gfm\",\n    mode: \"gfm\",\n    file: /^(readme|contributing|history).md$/i\n  }, {\n    name: \"Go\",\n    mime: \"text/x-go\",\n    mode: \"go\",\n    ext: [\"go\"]\n  }, {\n    name: \"Groovy\",\n    mime: \"text/x-groovy\",\n    mode: \"groovy\",\n    ext: [\"groovy\", \"gradle\"],\n    file: /^Jenkinsfile$/\n  }, {\n    name: \"HAML\",\n    mime: \"text/x-haml\",\n    mode: \"haml\",\n    ext: [\"haml\"]\n  }, {\n    name: \"Haskell\",\n    mime: \"text/x-haskell\",\n    mode: \"haskell\",\n    ext: [\"hs\"]\n  }, {\n    name: \"Haskell (Literate)\",\n    mime: \"text/x-literate-haskell\",\n    mode: \"haskell-literate\",\n    ext: [\"lhs\"]\n  }, {\n    name: \"Haxe\",\n    mime: \"text/x-haxe\",\n    mode: \"haxe\",\n    ext: [\"hx\"]\n  }, {\n    name: \"HXML\",\n    mime: \"text/x-hxml\",\n    mode: \"haxe\",\n    ext: [\"hxml\"]\n  }, {\n    name: \"ASP.NET\",\n    mime: \"application/x-aspx\",\n    mode: \"htmlembedded\",\n    ext: [\"aspx\"],\n    alias: [\"asp\", \"aspx\"]\n  }, {\n    name: \"HTML\",\n    mime: \"text/html\",\n    mode: \"htmlmixed\",\n    ext: [\"html\", \"htm\", \"handlebars\", \"hbs\"],\n    alias: [\"xhtml\"]\n  }, {\n    name: \"HTTP\",\n    mime: \"message/http\",\n    mode: \"http\"\n  }, {\n    name: \"IDL\",\n    mime: \"text/x-idl\",\n    mode: \"idl\",\n    ext: [\"pro\"]\n  }, {\n    name: \"Pug\",\n    mime: \"text/x-pug\",\n    mode: \"pug\",\n    ext: [\"jade\", \"pug\"],\n    alias: [\"jade\"]\n  }, {\n    name: \"Java\",\n    mime: \"text/x-java\",\n    mode: \"clike\",\n    ext: [\"java\"]\n  }, {\n    name: \"Java Server Pages\",\n    mime: \"application/x-jsp\",\n    mode: \"htmlembedded\",\n    ext: [\"jsp\"],\n    alias: [\"jsp\"]\n  }, {\n    name: \"JavaScript\",\n    mimes: [\"text/javascript\", \"text/ecmascript\", \"application/javascript\", \"application/x-javascript\", \"application/ecmascript\"],\n    mode: \"javascript\",\n    ext: [\"js\"],\n    alias: [\"ecmascript\", \"js\", \"node\"]\n  }, {\n    name: \"JSON\",\n    mimes: [\"application/json\", \"application/x-json\"],\n    mode: \"javascript\",\n    ext: [\"json\", \"map\"],\n    alias: [\"json5\"]\n  }, {\n    name: \"JSON-LD\",\n    mime: \"application/ld+json\",\n    mode: \"javascript\",\n    ext: [\"jsonld\"],\n    alias: [\"jsonld\"]\n  }, {\n    name: \"JSX\",\n    mime: \"text/jsx\",\n    mode: \"jsx\",\n    ext: [\"jsx\"]\n  }, {\n    name: \"Jinja2\",\n    mime: \"text/jinja2\",\n    mode: \"jinja2\",\n    ext: [\"j2\", \"jinja\", \"jinja2\"]\n  }, {\n    name: \"Julia\",\n    mime: \"text/x-julia\",\n    mode: \"julia\",\n    ext: [\"jl\"]\n  }, {\n    name: \"Kotlin\",\n    mime: \"text/x-kotlin\",\n    mode: \"clike\",\n    ext: [\"kt\"]\n  }, {\n    name: \"LESS\",\n    mime: \"text/x-less\",\n    mode: \"css\",\n    ext: [\"less\"]\n  }, {\n    name: \"LiveScript\",\n    mime: \"text/x-livescript\",\n    mode: \"livescript\",\n    ext: [\"ls\"],\n    alias: [\"ls\"]\n  }, {\n    name: \"Lua\",\n    mime: \"text/x-lua\",\n    mode: \"lua\",\n    ext: [\"lua\"]\n  }, {\n    name: \"Markdown\",\n    mime: \"text/x-markdown\",\n    mode: \"markdown\",\n    ext: [\"markdown\", \"md\", \"mkd\"]\n  }, {\n    name: \"mIRC\",\n    mime: \"text/mirc\",\n    mode: \"mirc\"\n  }, {\n    name: \"MariaDB SQL\",\n    mime: \"text/x-mariadb\",\n    mode: \"sql\"\n  }, {\n    name: \"Mathematica\",\n    mime: \"text/x-mathematica\",\n    mode: \"mathematica\",\n    ext: [\"m\", \"nb\", \"wl\", \"wls\"]\n  }, {\n    name: \"Modelica\",\n    mime: \"text/x-modelica\",\n    mode: \"modelica\",\n    ext: [\"mo\"]\n  }, {\n    name: \"MUMPS\",\n    mime: \"text/x-mumps\",\n    mode: \"mumps\",\n    ext: [\"mps\"]\n  }, {\n    name: \"MS SQL\",\n    mime: \"text/x-mssql\",\n    mode: \"sql\"\n  }, {\n    name: \"mbox\",\n    mime: \"application/mbox\",\n    mode: \"mbox\",\n    ext: [\"mbox\"]\n  }, {\n    name: \"MySQL\",\n    mime: \"text/x-mysql\",\n    mode: \"sql\"\n  }, {\n    name: \"Nginx\",\n    mime: \"text/x-nginx-conf\",\n    mode: \"nginx\",\n    file: /nginx.*\\.conf$/i\n  }, {\n    name: \"NSIS\",\n    mime: \"text/x-nsis\",\n    mode: \"nsis\",\n    ext: [\"nsh\", \"nsi\"]\n  }, {\n    name: \"NTriples\",\n    mimes: [\"application/n-triples\", \"application/n-quads\", \"text/n-triples\"],\n    mode: \"ntriples\",\n    ext: [\"nt\", \"nq\"]\n  }, {\n    name: \"Objective-C\",\n    mime: \"text/x-objectivec\",\n    mode: \"clike\",\n    ext: [\"m\", \"mm\"],\n    alias: [\"objective-c\", \"objc\"]\n  }, {\n    name: \"OCaml\",\n    mime: \"text/x-ocaml\",\n    mode: \"mllike\",\n    ext: [\"ml\", \"mli\", \"mll\", \"mly\"]\n  }, {\n    name: \"Octave\",\n    mime: \"text/x-octave\",\n    mode: \"octave\",\n    ext: [\"m\"]\n  }, {\n    name: \"Oz\",\n    mime: \"text/x-oz\",\n    mode: \"oz\",\n    ext: [\"oz\"]\n  }, {\n    name: \"Pascal\",\n    mime: \"text/x-pascal\",\n    mode: \"pascal\",\n    ext: [\"p\", \"pas\"]\n  }, {\n    name: \"PEG.js\",\n    mime: \"null\",\n    mode: \"pegjs\",\n    ext: [\"jsonld\"]\n  }, {\n    name: \"Perl\",\n    mime: \"text/x-perl\",\n    mode: \"perl\",\n    ext: [\"pl\", \"pm\"]\n  }, {\n    name: \"PHP\",\n    mimes: [\"text/x-php\", \"application/x-httpd-php\", \"application/x-httpd-php-open\"],\n    mode: \"php\",\n    ext: [\"php\", \"php3\", \"php4\", \"php5\", \"php7\", \"phtml\"]\n  }, {\n    name: \"Pig\",\n    mime: \"text/x-pig\",\n    mode: \"pig\",\n    ext: [\"pig\"]\n  }, {\n    name: \"Plain Text\",\n    mime: \"text/plain\",\n    mode: \"null\",\n    ext: [\"txt\", \"text\", \"conf\", \"def\", \"list\", \"log\"]\n  }, {\n    name: \"PLSQL\",\n    mime: \"text/x-plsql\",\n    mode: \"sql\",\n    ext: [\"pls\"]\n  }, {\n    name: \"PostgreSQL\",\n    mime: \"text/x-pgsql\",\n    mode: \"sql\"\n  }, {\n    name: \"PowerShell\",\n    mime: \"application/x-powershell\",\n    mode: \"powershell\",\n    ext: [\"ps1\", \"psd1\", \"psm1\"]\n  }, {\n    name: \"Properties files\",\n    mime: \"text/x-properties\",\n    mode: \"properties\",\n    ext: [\"properties\", \"ini\", \"in\"],\n    alias: [\"ini\", \"properties\"]\n  }, {\n    name: \"ProtoBuf\",\n    mime: \"text/x-protobuf\",\n    mode: \"protobuf\",\n    ext: [\"proto\"]\n  }, {\n    name: \"Python\",\n    mime: \"text/x-python\",\n    mode: \"python\",\n    ext: [\"BUILD\", \"bzl\", \"py\", \"pyw\"],\n    file: /^(BUCK|BUILD)$/\n  }, {\n    name: \"Puppet\",\n    mime: \"text/x-puppet\",\n    mode: \"puppet\",\n    ext: [\"pp\"]\n  }, {\n    name: \"Q\",\n    mime: \"text/x-q\",\n    mode: \"q\",\n    ext: [\"q\"]\n  }, {\n    name: \"R\",\n    mime: \"text/x-rsrc\",\n    mode: \"r\",\n    ext: [\"r\", \"R\"],\n    alias: [\"rscript\"]\n  }, {\n    name: \"reStructuredText\",\n    mime: \"text/x-rst\",\n    mode: \"rst\",\n    ext: [\"rst\"],\n    alias: [\"rst\"]\n  }, {\n    name: \"RPM Changes\",\n    mime: \"text/x-rpm-changes\",\n    mode: \"rpm\"\n  }, {\n    name: \"RPM Spec\",\n    mime: \"text/x-rpm-spec\",\n    mode: \"rpm\",\n    ext: [\"spec\"]\n  }, {\n    name: \"Ruby\",\n    mime: \"text/x-ruby\",\n    mode: \"ruby\",\n    ext: [\"rb\"],\n    alias: [\"jruby\", \"macruby\", \"rake\", \"rb\", \"rbx\"]\n  }, {\n    name: \"Rust\",\n    mime: \"text/x-rustsrc\",\n    mode: \"rust\",\n    ext: [\"rs\"]\n  }, {\n    name: \"SAS\",\n    mime: \"text/x-sas\",\n    mode: \"sas\",\n    ext: [\"sas\"]\n  }, {\n    name: \"Sass\",\n    mime: \"text/x-sass\",\n    mode: \"sass\",\n    ext: [\"sass\"]\n  }, {\n    name: \"Scala\",\n    mime: \"text/x-scala\",\n    mode: \"clike\",\n    ext: [\"scala\"]\n  }, {\n    name: \"Scheme\",\n    mime: \"text/x-scheme\",\n    mode: \"scheme\",\n    ext: [\"scm\", \"ss\"]\n  }, {\n    name: \"SCSS\",\n    mime: \"text/x-scss\",\n    mode: \"css\",\n    ext: [\"scss\"]\n  }, {\n    name: \"Shell\",\n    mimes: [\"text/x-sh\", \"application/x-sh\"],\n    mode: \"shell\",\n    ext: [\"sh\", \"ksh\", \"bash\"],\n    alias: [\"bash\", \"sh\", \"zsh\"],\n    file: /^PKGBUILD$/\n  }, {\n    name: \"Sieve\",\n    mime: \"application/sieve\",\n    mode: \"sieve\",\n    ext: [\"siv\", \"sieve\"]\n  }, {\n    name: \"Slim\",\n    mimes: [\"text/x-slim\", \"application/x-slim\"],\n    mode: \"slim\",\n    ext: [\"slim\"]\n  }, {\n    name: \"Smalltalk\",\n    mime: \"text/x-stsrc\",\n    mode: \"smalltalk\",\n    ext: [\"st\"]\n  }, {\n    name: \"Smarty\",\n    mime: \"text/x-smarty\",\n    mode: \"smarty\",\n    ext: [\"tpl\"]\n  }, {\n    name: \"Solr\",\n    mime: \"text/x-solr\",\n    mode: \"solr\"\n  }, {\n    name: \"SML\",\n    mime: \"text/x-sml\",\n    mode: \"mllike\",\n    ext: [\"sml\", \"sig\", \"fun\", \"smackspec\"]\n  }, {\n    name: \"Soy\",\n    mime: \"text/x-soy\",\n    mode: \"soy\",\n    ext: [\"soy\"],\n    alias: [\"closure template\"]\n  }, {\n    name: \"SPARQL\",\n    mime: \"application/sparql-query\",\n    mode: \"sparql\",\n    ext: [\"rq\", \"sparql\"],\n    alias: [\"sparul\"]\n  }, {\n    name: \"Spreadsheet\",\n    mime: \"text/x-spreadsheet\",\n    mode: \"spreadsheet\",\n    alias: [\"excel\", \"formula\"]\n  }, {\n    name: \"SQL\",\n    mime: \"text/x-sql\",\n    mode: \"sql\",\n    ext: [\"sql\"]\n  }, {\n    name: \"SQLite\",\n    mime: \"text/x-sqlite\",\n    mode: \"sql\"\n  }, {\n    name: \"Squirrel\",\n    mime: \"text/x-squirrel\",\n    mode: \"clike\",\n    ext: [\"nut\"]\n  }, {\n    name: \"Stylus\",\n    mime: \"text/x-styl\",\n    mode: \"stylus\",\n    ext: [\"styl\"]\n  }, {\n    name: \"Swift\",\n    mime: \"text/x-swift\",\n    mode: \"swift\",\n    ext: [\"swift\"]\n  }, {\n    name: \"sTeX\",\n    mime: \"text/x-stex\",\n    mode: \"stex\"\n  }, {\n    name: \"LaTeX\",\n    mime: \"text/x-latex\",\n    mode: \"stex\",\n    ext: [\"text\", \"ltx\", \"tex\"],\n    alias: [\"tex\"]\n  }, {\n    name: \"SystemVerilog\",\n    mime: \"text/x-systemverilog\",\n    mode: \"verilog\",\n    ext: [\"v\", \"sv\", \"svh\"]\n  }, {\n    name: \"Tcl\",\n    mime: \"text/x-tcl\",\n    mode: \"tcl\",\n    ext: [\"tcl\"]\n  }, {\n    name: \"Textile\",\n    mime: \"text/x-textile\",\n    mode: \"textile\",\n    ext: [\"textile\"]\n  }, {\n    name: \"TiddlyWiki \",\n    mime: \"text/x-tiddlywiki\",\n    mode: \"tiddlywiki\"\n  }, {\n    name: \"Tiki wiki\",\n    mime: \"text/tiki\",\n    mode: \"tiki\"\n  }, {\n    name: \"TOML\",\n    mime: \"text/x-toml\",\n    mode: \"toml\",\n    ext: [\"toml\"]\n  }, {\n    name: \"Tornado\",\n    mime: \"text/x-tornado\",\n    mode: \"tornado\"\n  }, {\n    name: \"troff\",\n    mime: \"text/troff\",\n    mode: \"troff\",\n    ext: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"]\n  }, {\n    name: \"TTCN\",\n    mime: \"text/x-ttcn\",\n    mode: \"ttcn\",\n    ext: [\"ttcn\", \"ttcn3\", \"ttcnpp\"]\n  }, {\n    name: \"TTCN_CFG\",\n    mime: \"text/x-ttcn-cfg\",\n    mode: \"ttcn-cfg\",\n    ext: [\"cfg\"]\n  }, {\n    name: \"Turtle\",\n    mime: \"text/turtle\",\n    mode: \"turtle\",\n    ext: [\"ttl\"]\n  }, {\n    name: \"TypeScript\",\n    mime: \"application/typescript\",\n    mode: \"javascript\",\n    ext: [\"ts\"],\n    alias: [\"ts\"]\n  }, {\n    name: \"TypeScript-JSX\",\n    mime: \"text/typescript-jsx\",\n    mode: \"jsx\",\n    ext: [\"tsx\"],\n    alias: [\"tsx\"]\n  }, {\n    name: \"Twig\",\n    mime: \"text/x-twig\",\n    mode: \"twig\"\n  }, {\n    name: \"Web IDL\",\n    mime: \"text/x-webidl\",\n    mode: \"webidl\",\n    ext: [\"webidl\"]\n  }, {\n    name: \"VB.NET\",\n    mime: \"text/x-vb\",\n    mode: \"vb\",\n    ext: [\"vb\"]\n  }, {\n    name: \"VBScript\",\n    mime: \"text/vbscript\",\n    mode: \"vbscript\",\n    ext: [\"vbs\"]\n  }, {\n    name: \"Velocity\",\n    mime: \"text/velocity\",\n    mode: \"velocity\",\n    ext: [\"vtl\"]\n  }, {\n    name: \"Verilog\",\n    mime: \"text/x-verilog\",\n    mode: \"verilog\",\n    ext: [\"v\"]\n  }, {\n    name: \"VHDL\",\n    mime: \"text/x-vhdl\",\n    mode: \"vhdl\",\n    ext: [\"vhd\", \"vhdl\"]\n  }, {\n    name: \"Vue.js Component\",\n    mimes: [\"script/x-vue\", \"text/x-vue\"],\n    mode: \"vue\",\n    ext: [\"vue\"]\n  }, {\n    name: \"XML\",\n    mimes: [\"application/xml\", \"text/xml\"],\n    mode: \"xml\",\n    ext: [\"xml\", \"xsl\", \"xsd\", \"svg\"],\n    alias: [\"rss\", \"wsdl\", \"xsd\"]\n  }, {\n    name: \"XQuery\",\n    mime: \"application/xquery\",\n    mode: \"xquery\",\n    ext: [\"xy\", \"xquery\"]\n  }, {\n    name: \"Yacas\",\n    mime: \"text/x-yacas\",\n    mode: \"yacas\",\n    ext: [\"ys\"]\n  }, {\n    name: \"YAML\",\n    mimes: [\"text/x-yaml\", \"text/yaml\"],\n    mode: \"yaml\",\n    ext: [\"yaml\", \"yml\"],\n    alias: [\"yml\"]\n  }, {\n    name: \"Z80\",\n    mime: \"text/x-z80\",\n    mode: \"z80\",\n    ext: [\"z80\"]\n  }, {\n    name: \"mscgen\",\n    mime: \"text/x-mscgen\",\n    mode: \"mscgen\",\n    ext: [\"mscgen\", \"mscin\", \"msc\"]\n  }, {\n    name: \"xu\",\n    mime: \"text/x-xu\",\n    mode: \"mscgen\",\n    ext: [\"xu\"]\n  }, {\n    name: \"msgenny\",\n    mime: \"text/x-msgenny\",\n    mode: \"mscgen\",\n    ext: [\"msgenny\"]\n  }]; // Ensure all modes have a mime property for backwards compatibility\n\n  for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n    var info = CodeMirror.modeInfo[i];\n    if (info.mimes) info.mime = info.mimes[0];\n  }\n\n  CodeMirror.findModeByMIME = function (mime) {\n    mime = mime.toLowerCase();\n\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.mime == mime) return info;\n      if (info.mimes) for (var j = 0; j < info.mimes.length; j++) {\n        if (info.mimes[j] == mime) return info;\n      }\n    }\n\n    if (/\\+xml$/.test(mime)) return CodeMirror.findModeByMIME(\"application/xml\");\n    if (/\\+json$/.test(mime)) return CodeMirror.findModeByMIME(\"application/json\");\n  };\n\n  CodeMirror.findModeByExtension = function (ext) {\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.ext) for (var j = 0; j < info.ext.length; j++) {\n        if (info.ext[j] == ext) return info;\n      }\n    }\n  };\n\n  CodeMirror.findModeByFileName = function (filename) {\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.file && info.file.test(filename)) return info;\n    }\n\n    var dot = filename.lastIndexOf(\".\");\n    var ext = dot > -1 && filename.substring(dot + 1, filename.length);\n    if (ext) return CodeMirror.findModeByExtension(ext);\n  };\n\n  CodeMirror.findModeByName = function (name) {\n    name = name.toLowerCase();\n\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.name.toLowerCase() == name) return info;\n      if (info.alias) for (var j = 0; j < info.alias.length; j++) {\n        if (info.alias[j].toLowerCase() == name) return info;\n      }\n    }\n  };\n});","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);else // Plain browser env\n    mod(CodeMirror);\n})(function (CodeMirror) {\n  CodeMirror.defineOption(\"placeholder\", \"\", function (cm, val, old) {\n    var prev = old && old != CodeMirror.Init;\n\n    if (val && !prev) {\n      cm.on(\"blur\", onBlur);\n      cm.on(\"change\", onChange);\n      cm.on(\"swapDoc\", onChange);\n      onChange(cm);\n    } else if (!val && prev) {\n      cm.off(\"blur\", onBlur);\n      cm.off(\"change\", onChange);\n      cm.off(\"swapDoc\", onChange);\n      clearPlaceholder(cm);\n      var wrapper = cm.getWrapperElement();\n      wrapper.className = wrapper.className.replace(\" CodeMirror-empty\", \"\");\n    }\n\n    if (val && !cm.hasFocus()) onBlur(cm);\n  });\n\n  function clearPlaceholder(cm) {\n    if (cm.state.placeholder) {\n      cm.state.placeholder.parentNode.removeChild(cm.state.placeholder);\n      cm.state.placeholder = null;\n    }\n  }\n\n  function setPlaceholder(cm) {\n    clearPlaceholder(cm);\n    var elt = cm.state.placeholder = document.createElement(\"pre\");\n    elt.style.cssText = \"height: 0; overflow: visible\";\n    elt.style.direction = cm.getOption(\"direction\");\n    elt.className = \"CodeMirror-placeholder CodeMirror-line-like\";\n    var placeHolder = cm.getOption(\"placeholder\");\n    if (typeof placeHolder == \"string\") placeHolder = document.createTextNode(placeHolder);\n    elt.appendChild(placeHolder);\n    cm.display.lineSpace.insertBefore(elt, cm.display.lineSpace.firstChild);\n  }\n\n  function onBlur(cm) {\n    if (isEmpty(cm)) setPlaceholder(cm);\n  }\n\n  function onChange(cm) {\n    var wrapper = cm.getWrapperElement(),\n        empty = isEmpty(cm);\n    wrapper.className = wrapper.className.replace(\" CodeMirror-empty\", \"\") + (empty ? \" CodeMirror-empty\" : \"\");\n    if (empty) setPlaceholder(cm);else clearPlaceholder(cm);\n  }\n\n  function isEmpty(cm) {\n    return cm.lineCount() === 1 && cm.getLine(0) === \"\";\n  }\n});","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n// Because sometimes you need to mark the selected *text*.\n//\n// Adds an option 'styleSelectedText' which, when enabled, gives\n// selected text the CSS class given as option value, or\n// \"CodeMirror-selectedtext\" when the value is not a string.\n(function (mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);else // Plain browser env\n    mod(CodeMirror);\n})(function (CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"styleSelectedText\", false, function (cm, val, old) {\n    var prev = old && old != CodeMirror.Init;\n\n    if (val && !prev) {\n      cm.state.markedSelection = [];\n      cm.state.markedSelectionStyle = typeof val == \"string\" ? val : \"CodeMirror-selectedtext\";\n      reset(cm);\n      cm.on(\"cursorActivity\", onCursorActivity);\n      cm.on(\"change\", onChange);\n    } else if (!val && prev) {\n      cm.off(\"cursorActivity\", onCursorActivity);\n      cm.off(\"change\", onChange);\n      clear(cm);\n      cm.state.markedSelection = cm.state.markedSelectionStyle = null;\n    }\n  });\n\n  function onCursorActivity(cm) {\n    if (cm.state.markedSelection) cm.operation(function () {\n      update(cm);\n    });\n  }\n\n  function onChange(cm) {\n    if (cm.state.markedSelection && cm.state.markedSelection.length) cm.operation(function () {\n      clear(cm);\n    });\n  }\n\n  var CHUNK_SIZE = 8;\n  var Pos = CodeMirror.Pos;\n  var cmp = CodeMirror.cmpPos;\n\n  function coverRange(cm, from, to, addAt) {\n    if (cmp(from, to) == 0) return;\n    var array = cm.state.markedSelection;\n    var cls = cm.state.markedSelectionStyle;\n\n    for (var line = from.line;;) {\n      var start = line == from.line ? from : Pos(line, 0);\n      var endLine = line + CHUNK_SIZE,\n          atEnd = endLine >= to.line;\n      var end = atEnd ? to : Pos(endLine, 0);\n      var mark = cm.markText(start, end, {\n        className: cls\n      });\n      if (addAt == null) array.push(mark);else array.splice(addAt++, 0, mark);\n      if (atEnd) break;\n      line = endLine;\n    }\n  }\n\n  function clear(cm) {\n    var array = cm.state.markedSelection;\n\n    for (var i = 0; i < array.length; ++i) {\n      array[i].clear();\n    }\n\n    array.length = 0;\n  }\n\n  function reset(cm) {\n    clear(cm);\n    var ranges = cm.listSelections();\n\n    for (var i = 0; i < ranges.length; i++) {\n      coverRange(cm, ranges[i].from(), ranges[i].to());\n    }\n  }\n\n  function update(cm) {\n    if (!cm.somethingSelected()) return clear(cm);\n    if (cm.listSelections().length > 1) return reset(cm);\n    var from = cm.getCursor(\"start\"),\n        to = cm.getCursor(\"end\");\n    var array = cm.state.markedSelection;\n    if (!array.length) return coverRange(cm, from, to);\n    var coverStart = array[0].find(),\n        coverEnd = array[array.length - 1].find();\n    if (!coverStart || !coverEnd || to.line - from.line <= CHUNK_SIZE || cmp(from, coverEnd.to) >= 0 || cmp(to, coverStart.from) <= 0) return reset(cm);\n\n    while (cmp(from, coverStart.from) > 0) {\n      array.shift().clear();\n      coverStart = array[0].find();\n    }\n\n    if (cmp(from, coverStart.from) < 0) {\n      if (coverStart.to.line - from.line < CHUNK_SIZE) {\n        array.shift().clear();\n        coverRange(cm, from, coverStart.to, 0);\n      } else {\n        coverRange(cm, from, coverStart.from, 0);\n      }\n    }\n\n    while (cmp(to, coverEnd.to) < 0) {\n      array.pop().clear();\n      coverEnd = array[array.length - 1].find();\n    }\n\n    if (cmp(to, coverEnd.to) > 0) {\n      if (to.line - coverEnd.from.line < CHUNK_SIZE) {\n        array.pop().clear();\n        coverRange(cm, coverEnd.from, to);\n      } else {\n        coverRange(cm, coverEnd.to, to);\n      }\n    }\n  }\n});","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);else // Plain browser env\n    mod(CodeMirror);\n})(function (CodeMirror) {\n  \"use strict\";\n\n  var Pos = CodeMirror.Pos;\n\n  function regexpFlags(regexp) {\n    var flags = regexp.flags;\n    return flags != null ? flags : (regexp.ignoreCase ? \"i\" : \"\") + (regexp.global ? \"g\" : \"\") + (regexp.multiline ? \"m\" : \"\");\n  }\n\n  function ensureFlags(regexp, flags) {\n    var current = regexpFlags(regexp),\n        target = current;\n\n    for (var i = 0; i < flags.length; i++) {\n      if (target.indexOf(flags.charAt(i)) == -1) target += flags.charAt(i);\n    }\n\n    return current == target ? regexp : new RegExp(regexp.source, target);\n  }\n\n  function maybeMultiline(regexp) {\n    return /\\\\s|\\\\n|\\n|\\\\W|\\\\D|\\[\\^/.test(regexp.source);\n  }\n\n  function searchRegexpForward(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"g\");\n\n    for (var line = start.line, ch = start.ch, last = doc.lastLine(); line <= last; line++, ch = 0) {\n      regexp.lastIndex = ch;\n      var string = doc.getLine(line),\n          match = regexp.exec(string);\n      if (match) return {\n        from: Pos(line, match.index),\n        to: Pos(line, match.index + match[0].length),\n        match: match\n      };\n    }\n  }\n\n  function searchRegexpForwardMultiline(doc, regexp, start) {\n    if (!maybeMultiline(regexp)) return searchRegexpForward(doc, regexp, start);\n    regexp = ensureFlags(regexp, \"gm\");\n    var string,\n        chunk = 1;\n\n    for (var line = start.line, last = doc.lastLine(); line <= last;) {\n      // This grows the search buffer in exponentially-sized chunks\n      // between matches, so that nearby matches are fast and don't\n      // require concatenating the whole document (in case we're\n      // searching for something that has tons of matches), but at the\n      // same time, the amount of retries is limited.\n      for (var i = 0; i < chunk; i++) {\n        if (line > last) break;\n        var curLine = doc.getLine(line++);\n        string = string == null ? curLine : string + \"\\n\" + curLine;\n      }\n\n      chunk = chunk * 2;\n      regexp.lastIndex = start.ch;\n      var match = regexp.exec(string);\n\n      if (match) {\n        var before = string.slice(0, match.index).split(\"\\n\"),\n            inside = match[0].split(\"\\n\");\n        var startLine = start.line + before.length - 1,\n            startCh = before[before.length - 1].length;\n        return {\n          from: Pos(startLine, startCh),\n          to: Pos(startLine + inside.length - 1, inside.length == 1 ? startCh + inside[0].length : inside[inside.length - 1].length),\n          match: match\n        };\n      }\n    }\n  }\n\n  function lastMatchIn(string, regexp) {\n    var cutOff = 0,\n        match;\n\n    for (;;) {\n      regexp.lastIndex = cutOff;\n      var newMatch = regexp.exec(string);\n      if (!newMatch) return match;\n      match = newMatch;\n      cutOff = match.index + (match[0].length || 1);\n      if (cutOff == string.length) return match;\n    }\n  }\n\n  function searchRegexpBackward(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"g\");\n\n    for (var line = start.line, ch = start.ch, first = doc.firstLine(); line >= first; line--, ch = -1) {\n      var string = doc.getLine(line);\n      if (ch > -1) string = string.slice(0, ch);\n      var match = lastMatchIn(string, regexp);\n      if (match) return {\n        from: Pos(line, match.index),\n        to: Pos(line, match.index + match[0].length),\n        match: match\n      };\n    }\n  }\n\n  function searchRegexpBackwardMultiline(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"gm\");\n    var string,\n        chunk = 1;\n\n    for (var line = start.line, first = doc.firstLine(); line >= first;) {\n      for (var i = 0; i < chunk; i++) {\n        var curLine = doc.getLine(line--);\n        string = string == null ? curLine.slice(0, start.ch) : curLine + \"\\n\" + string;\n      }\n\n      chunk *= 2;\n      var match = lastMatchIn(string, regexp);\n\n      if (match) {\n        var before = string.slice(0, match.index).split(\"\\n\"),\n            inside = match[0].split(\"\\n\");\n        var startLine = line + before.length,\n            startCh = before[before.length - 1].length;\n        return {\n          from: Pos(startLine, startCh),\n          to: Pos(startLine + inside.length - 1, inside.length == 1 ? startCh + inside[0].length : inside[inside.length - 1].length),\n          match: match\n        };\n      }\n    }\n  }\n\n  var doFold, noFold;\n\n  if (String.prototype.normalize) {\n    doFold = function doFold(str) {\n      return str.normalize(\"NFD\").toLowerCase();\n    };\n\n    noFold = function noFold(str) {\n      return str.normalize(\"NFD\");\n    };\n  } else {\n    doFold = function doFold(str) {\n      return str.toLowerCase();\n    };\n\n    noFold = function noFold(str) {\n      return str;\n    };\n  } // Maps a position in a case-folded line back to a position in the original line\n  // (compensating for codepoints increasing in number during folding)\n\n\n  function adjustPos(orig, folded, pos, foldFunc) {\n    if (orig.length == folded.length) return pos;\n\n    for (var min = 0, max = pos + Math.max(0, orig.length - folded.length);;) {\n      if (min == max) return min;\n      var mid = min + max >> 1;\n      var len = foldFunc(orig.slice(0, mid)).length;\n      if (len == pos) return mid;else if (len > pos) max = mid;else min = mid + 1;\n    }\n  }\n\n  function searchStringForward(doc, query, start, caseFold) {\n    // Empty string would match anything and never progress, so we\n    // define it to match nothing instead.\n    if (!query.length) return null;\n    var fold = caseFold ? doFold : noFold;\n    var lines = fold(query).split(/\\r|\\n\\r?/);\n\n    search: for (var line = start.line, ch = start.ch, last = doc.lastLine() + 1 - lines.length; line <= last; line++, ch = 0) {\n      var orig = doc.getLine(line).slice(ch),\n          string = fold(orig);\n\n      if (lines.length == 1) {\n        var found = string.indexOf(lines[0]);\n        if (found == -1) continue search;\n        var start = adjustPos(orig, string, found, fold) + ch;\n        return {\n          from: Pos(line, adjustPos(orig, string, found, fold) + ch),\n          to: Pos(line, adjustPos(orig, string, found + lines[0].length, fold) + ch)\n        };\n      } else {\n        var cutFrom = string.length - lines[0].length;\n        if (string.slice(cutFrom) != lines[0]) continue search;\n\n        for (var i = 1; i < lines.length - 1; i++) {\n          if (fold(doc.getLine(line + i)) != lines[i]) continue search;\n        }\n\n        var end = doc.getLine(line + lines.length - 1),\n            endString = fold(end),\n            lastLine = lines[lines.length - 1];\n        if (endString.slice(0, lastLine.length) != lastLine) continue search;\n        return {\n          from: Pos(line, adjustPos(orig, string, cutFrom, fold) + ch),\n          to: Pos(line + lines.length - 1, adjustPos(end, endString, lastLine.length, fold))\n        };\n      }\n    }\n  }\n\n  function searchStringBackward(doc, query, start, caseFold) {\n    if (!query.length) return null;\n    var fold = caseFold ? doFold : noFold;\n    var lines = fold(query).split(/\\r|\\n\\r?/);\n\n    search: for (var line = start.line, ch = start.ch, first = doc.firstLine() - 1 + lines.length; line >= first; line--, ch = -1) {\n      var orig = doc.getLine(line);\n      if (ch > -1) orig = orig.slice(0, ch);\n      var string = fold(orig);\n\n      if (lines.length == 1) {\n        var found = string.lastIndexOf(lines[0]);\n        if (found == -1) continue search;\n        return {\n          from: Pos(line, adjustPos(orig, string, found, fold)),\n          to: Pos(line, adjustPos(orig, string, found + lines[0].length, fold))\n        };\n      } else {\n        var lastLine = lines[lines.length - 1];\n        if (string.slice(0, lastLine.length) != lastLine) continue search;\n\n        for (var i = 1, start = line - lines.length + 1; i < lines.length - 1; i++) {\n          if (fold(doc.getLine(start + i)) != lines[i]) continue search;\n        }\n\n        var top = doc.getLine(line + 1 - lines.length),\n            topString = fold(top);\n        if (topString.slice(topString.length - lines[0].length) != lines[0]) continue search;\n        return {\n          from: Pos(line + 1 - lines.length, adjustPos(top, topString, top.length - lines[0].length, fold)),\n          to: Pos(line, adjustPos(orig, string, lastLine.length, fold))\n        };\n      }\n    }\n  }\n\n  function SearchCursor(doc, query, pos, options) {\n    this.atOccurrence = false;\n    this.doc = doc;\n    pos = pos ? doc.clipPos(pos) : Pos(0, 0);\n    this.pos = {\n      from: pos,\n      to: pos\n    };\n    var caseFold;\n\n    if (typeof options == \"object\") {\n      caseFold = options.caseFold;\n    } else {\n      // Backwards compat for when caseFold was the 4th argument\n      caseFold = options;\n      options = null;\n    }\n\n    if (typeof query == \"string\") {\n      if (caseFold == null) caseFold = false;\n\n      this.matches = function (reverse, pos) {\n        return (reverse ? searchStringBackward : searchStringForward)(doc, query, pos, caseFold);\n      };\n    } else {\n      query = ensureFlags(query, \"gm\");\n      if (!options || options.multiline !== false) this.matches = function (reverse, pos) {\n        return (reverse ? searchRegexpBackwardMultiline : searchRegexpForwardMultiline)(doc, query, pos);\n      };else this.matches = function (reverse, pos) {\n        return (reverse ? searchRegexpBackward : searchRegexpForward)(doc, query, pos);\n      };\n    }\n  }\n\n  SearchCursor.prototype = {\n    findNext: function findNext() {\n      return this.find(false);\n    },\n    findPrevious: function findPrevious() {\n      return this.find(true);\n    },\n    find: function find(reverse) {\n      var result = this.matches(reverse, this.doc.clipPos(reverse ? this.pos.from : this.pos.to)); // Implements weird auto-growing behavior on null-matches for\n      // backwards-compatiblity with the vim code (unfortunately)\n\n      while (result && CodeMirror.cmpPos(result.from, result.to) == 0) {\n        if (reverse) {\n          if (result.from.ch) result.from = Pos(result.from.line, result.from.ch - 1);else if (result.from.line == this.doc.firstLine()) result = null;else result = this.matches(reverse, this.doc.clipPos(Pos(result.from.line - 1)));\n        } else {\n          if (result.to.ch < this.doc.getLine(result.to.line).length) result.to = Pos(result.to.line, result.to.ch + 1);else if (result.to.line == this.doc.lastLine()) result = null;else result = this.matches(reverse, Pos(result.to.line + 1, 0));\n        }\n      }\n\n      if (result) {\n        this.pos = result;\n        this.atOccurrence = true;\n        return this.pos.match || true;\n      } else {\n        var end = Pos(reverse ? this.doc.firstLine() : this.doc.lastLine() + 1, 0);\n        this.pos = {\n          from: end,\n          to: end\n        };\n        return this.atOccurrence = false;\n      }\n    },\n    from: function from() {\n      if (this.atOccurrence) return this.pos.from;\n    },\n    to: function to() {\n      if (this.atOccurrence) return this.pos.to;\n    },\n    replace: function replace(newText, origin) {\n      if (!this.atOccurrence) return;\n      var lines = CodeMirror.splitLines(newText);\n      this.doc.replaceRange(lines, this.pos.from, this.pos.to, origin);\n      this.pos.to = Pos(this.pos.from.line + lines.length - 1, lines[lines.length - 1].length + (lines.length == 1 ? this.pos.from.ch : 0));\n    }\n  };\n  CodeMirror.defineExtension(\"getSearchCursor\", function (query, pos, caseFold) {\n    return new SearchCursor(this.doc, query, pos, caseFold);\n  });\n  CodeMirror.defineDocExtension(\"getSearchCursor\", function (query, pos, caseFold) {\n    return new SearchCursor(this, query, pos, caseFold);\n  });\n  CodeMirror.defineExtension(\"selectMatches\", function (query, caseFold) {\n    var ranges = [];\n    var cur = this.getSearchCursor(query, this.getCursor(\"from\"), caseFold);\n\n    while (cur.findNext()) {\n      if (CodeMirror.cmpPos(cur.to(), this.getCursor(\"to\")) > 0) break;\n      ranges.push({\n        anchor: cur.from(),\n        head: cur.to()\n      });\n    }\n\n    if (ranges.length) this.setSelections(ranges, 0);\n  });\n});","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../markdown/markdown\"), require(\"../../addon/mode/overlay\"));else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../markdown/markdown\", \"../../addon/mode/overlay\"], mod);else // Plain browser env\n    mod(CodeMirror);\n})(function (CodeMirror) {\n  \"use strict\";\n\n  var urlRE = /^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\\.beep|\\.lwz|\\.xpc|\\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\\.beeps?|xmpp|xri|ymsgr|z39\\.50[rs]?):(?:\\/{1,3}|[a-z0-9%])|www\\d{0,3}[.]|[a-z0-9.\\-]+[.][a-z]{2,4}\\/)(?:[^\\s()<>]|\\([^\\s()<>]*\\))+(?:\\([^\\s()<>]*\\)|[^\\s`*!()\\[\\]{};:'\".,<>?«»“”‘’]))/i;\n  CodeMirror.defineMode(\"gfm\", function (config, modeConfig) {\n    var codeDepth = 0;\n\n    function blankLine(state) {\n      state.code = false;\n      return null;\n    }\n\n    var gfmOverlay = {\n      startState: function startState() {\n        return {\n          code: false,\n          codeBlock: false,\n          ateSpace: false\n        };\n      },\n      copyState: function copyState(s) {\n        return {\n          code: s.code,\n          codeBlock: s.codeBlock,\n          ateSpace: s.ateSpace\n        };\n      },\n      token: function token(stream, state) {\n        state.combineTokens = null; // Hack to prevent formatting override inside code blocks (block and inline)\n\n        if (state.codeBlock) {\n          if (stream.match(/^```+/)) {\n            state.codeBlock = false;\n            return null;\n          }\n\n          stream.skipToEnd();\n          return null;\n        }\n\n        if (stream.sol()) {\n          state.code = false;\n        }\n\n        if (stream.sol() && stream.match(/^```+/)) {\n          stream.skipToEnd();\n          state.codeBlock = true;\n          return null;\n        } // If this block is changed, it may need to be updated in Markdown mode\n\n\n        if (stream.peek() === '`') {\n          stream.next();\n          var before = stream.pos;\n          stream.eatWhile('`');\n          var difference = 1 + stream.pos - before;\n\n          if (!state.code) {\n            codeDepth = difference;\n            state.code = true;\n          } else {\n            if (difference === codeDepth) {\n              // Must be exact\n              state.code = false;\n            }\n          }\n\n          return null;\n        } else if (state.code) {\n          stream.next();\n          return null;\n        } // Check if space. If so, links can be formatted later on\n\n\n        if (stream.eatSpace()) {\n          state.ateSpace = true;\n          return null;\n        }\n\n        if (stream.sol() || state.ateSpace) {\n          state.ateSpace = false;\n\n          if (modeConfig.gitHubSpice !== false) {\n            if (stream.match(/^(?:[a-zA-Z0-9\\-_]+\\/)?(?:[a-zA-Z0-9\\-_]+@)?(?=.{0,6}\\d)(?:[a-f0-9]{7,40}\\b)/)) {\n              // User/Project@SHA\n              // User@SHA\n              // SHA\n              state.combineTokens = true;\n              return \"link\";\n            } else if (stream.match(/^(?:[a-zA-Z0-9\\-_]+\\/)?(?:[a-zA-Z0-9\\-_]+)?#[0-9]+\\b/)) {\n              // User/Project#Num\n              // User#Num\n              // #Num\n              state.combineTokens = true;\n              return \"link\";\n            }\n          }\n        }\n\n        if (stream.match(urlRE) && stream.string.slice(stream.start - 2, stream.start) != \"](\" && (stream.start == 0 || /\\W/.test(stream.string.charAt(stream.start - 1)))) {\n          // URLs\n          // Taken from http://daringfireball.net/2010/07/improved_regex_for_matching_urls\n          // And then (issue #1160) simplified to make it not crash the Chrome Regexp engine\n          // And then limited url schemes to the CommonMark list, so foo:bar isn't matched as a URL\n          state.combineTokens = true;\n          return \"link\";\n        }\n\n        stream.next();\n        return null;\n      },\n      blankLine: blankLine\n    };\n    var markdownConfig = {\n      taskLists: true,\n      strikethrough: true,\n      emoji: true\n    };\n\n    for (var attr in modeConfig) {\n      markdownConfig[attr] = modeConfig[attr];\n    }\n\n    markdownConfig.name = \"markdown\";\n    return CodeMirror.overlayMode(CodeMirror.getMode(config, markdownConfig), gfmOverlay);\n  }, \"markdown\");\n  CodeMirror.defineMIME(\"text/x-gfm\", \"gfm\");\n});","// Use strict mode (https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode)\n\"use strict\"; // Requires\n\nvar Typo = require(\"typo-js\"); // Create function\n\n\nfunction CodeMirrorSpellChecker(options) {\n  // Initialize\n  options = options || {}; // Verify\n\n  if (typeof options.codeMirrorInstance !== \"function\" || typeof options.codeMirrorInstance.defineMode !== \"function\") {\n    console.log(\"CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`\");\n    return;\n  } // Because some browsers don't support this functionality yet\n\n\n  if (!String.prototype.includes) {\n    String.prototype.includes = function () {\n      \"use strict\";\n\n      return String.prototype.indexOf.apply(this, arguments) !== -1;\n    };\n  } // Define the new mode\n\n\n  options.codeMirrorInstance.defineMode(\"spell-checker\", function (config) {\n    // Load AFF/DIC data\n    if (!CodeMirrorSpellChecker.aff_loading) {\n      CodeMirrorSpellChecker.aff_loading = true;\n      var xhr_aff = new XMLHttpRequest();\n      xhr_aff.open(\"GET\", \"https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff\", true);\n\n      xhr_aff.onload = function () {\n        if (xhr_aff.readyState === 4 && xhr_aff.status === 200) {\n          CodeMirrorSpellChecker.aff_data = xhr_aff.responseText;\n          CodeMirrorSpellChecker.num_loaded++;\n\n          if (CodeMirrorSpellChecker.num_loaded == 2) {\n            CodeMirrorSpellChecker.typo = new Typo(\"en_US\", CodeMirrorSpellChecker.aff_data, CodeMirrorSpellChecker.dic_data, {\n              platform: \"any\"\n            });\n          }\n        }\n      };\n\n      xhr_aff.send(null);\n    }\n\n    if (!CodeMirrorSpellChecker.dic_loading) {\n      CodeMirrorSpellChecker.dic_loading = true;\n      var xhr_dic = new XMLHttpRequest();\n      xhr_dic.open(\"GET\", \"https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic\", true);\n\n      xhr_dic.onload = function () {\n        if (xhr_dic.readyState === 4 && xhr_dic.status === 200) {\n          CodeMirrorSpellChecker.dic_data = xhr_dic.responseText;\n          CodeMirrorSpellChecker.num_loaded++;\n\n          if (CodeMirrorSpellChecker.num_loaded == 2) {\n            CodeMirrorSpellChecker.typo = new Typo(\"en_US\", CodeMirrorSpellChecker.aff_data, CodeMirrorSpellChecker.dic_data, {\n              platform: \"any\"\n            });\n          }\n        }\n      };\n\n      xhr_dic.send(null);\n    } // Define what separates a word\n\n\n    var rx_word = \"!\\\"#$%&()*+,-./:;<=>?@[\\\\]^_`{|}~ \"; // Create the overlay and such\n\n    var overlay = {\n      token: function token(stream) {\n        var ch = stream.peek();\n        var word = \"\";\n\n        if (rx_word.includes(ch)) {\n          stream.next();\n          return null;\n        }\n\n        while ((ch = stream.peek()) != null && !rx_word.includes(ch)) {\n          word += ch;\n          stream.next();\n        }\n\n        if (CodeMirrorSpellChecker.typo && !CodeMirrorSpellChecker.typo.check(word)) return \"spell-error\"; // CSS class: cm-spell-error\n\n        return null;\n      }\n    };\n    var mode = options.codeMirrorInstance.getMode(config, config.backdrop || \"text/plain\");\n    return options.codeMirrorInstance.overlayMode(mode, overlay, true);\n  });\n} // Initialize data globally to reduce memory consumption\n\n\nCodeMirrorSpellChecker.num_loaded = 0;\nCodeMirrorSpellChecker.aff_loading = false;\nCodeMirrorSpellChecker.dic_loading = false;\nCodeMirrorSpellChecker.aff_data = \"\";\nCodeMirrorSpellChecker.dic_data = \"\";\nCodeMirrorSpellChecker.typo; // Export\n\nmodule.exports = CodeMirrorSpellChecker;","/* globals chrome: false */\n\n/* globals __dirname: false */\n\n/* globals require: false */\n\n/* globals Buffer: false */\n\n/* globals module: false */\n\n/**\n * Typo is a JavaScript implementation of a spellchecker using hunspell-style \n * dictionaries.\n */\nvar Typo;\n\n(function () {\n  \"use strict\";\n  /**\n   * Typo constructor.\n   *\n   * @param {String} [dictionary] The locale code of the dictionary being used. e.g.,\n   *                              \"en_US\". This is only used to auto-load dictionaries.\n   * @param {String} [affData]    The data from the dictionary's .aff file. If omitted\n   *                              and Typo.js is being used in a Chrome extension, the .aff\n   *                              file will be loaded automatically from\n   *                              lib/typo/dictionaries/[dictionary]/[dictionary].aff\n   *                              In other environments, it will be loaded from\n   *                              [settings.dictionaryPath]/dictionaries/[dictionary]/[dictionary].aff\n   * @param {String} [wordsData]  The data from the dictionary's .dic file. If omitted\n   *                              and Typo.js is being used in a Chrome extension, the .dic\n   *                              file will be loaded automatically from\n   *                              lib/typo/dictionaries/[dictionary]/[dictionary].dic\n   *                              In other environments, it will be loaded from\n   *                              [settings.dictionaryPath]/dictionaries/[dictionary]/[dictionary].dic\n   * @param {Object} [settings]   Constructor settings. Available properties are:\n   *                              {String} [dictionaryPath]: path to load dictionary from in non-chrome\n   *                              environment.\n   *                              {Object} [flags]: flag information.\n   *                              {Boolean} [asyncLoad]: If true, affData and wordsData will be loaded\n   *                              asynchronously.\n   *                              {Function} [loadedCallback]: Called when both affData and wordsData\n   *                              have been loaded. Only used if asyncLoad is set to true. The parameter\n   *                              is the instantiated Typo object.\n   *\n   * @returns {Typo} A Typo object.\n   */\n\n  Typo = function Typo(dictionary, affData, wordsData, settings) {\n    settings = settings || {};\n    this.dictionary = null;\n    this.rules = {};\n    this.dictionaryTable = {};\n    this.compoundRules = [];\n    this.compoundRuleCodes = {};\n    this.replacementTable = [];\n    this.flags = settings.flags || {};\n    this.memoized = {};\n    this.loaded = false;\n    var self = this;\n    var path; // Loop-control variables.\n\n    var i, j, _len, _jlen;\n\n    if (dictionary) {\n      self.dictionary = dictionary; // If the data is preloaded, just setup the Typo object.\n\n      if (affData && wordsData) {\n        setup();\n      } // Loading data for Chrome extentions.\n      else if (typeof window !== 'undefined' && 'chrome' in window && 'extension' in window.chrome && 'getURL' in window.chrome.extension) {\n          if (settings.dictionaryPath) {\n            path = settings.dictionaryPath;\n          } else {\n            path = \"typo/dictionaries\";\n          }\n\n          if (!affData) readDataFile(chrome.extension.getURL(path + \"/\" + dictionary + \"/\" + dictionary + \".aff\"), setAffData);\n          if (!wordsData) readDataFile(chrome.extension.getURL(path + \"/\" + dictionary + \"/\" + dictionary + \".dic\"), setWordsData);\n        } else {\n          if (settings.dictionaryPath) {\n            path = settings.dictionaryPath;\n          } else if (typeof __dirname !== 'undefined') {\n            path = __dirname + '/dictionaries';\n          } else {\n            path = './dictionaries';\n          }\n\n          if (!affData) readDataFile(path + \"/\" + dictionary + \"/\" + dictionary + \".aff\", setAffData);\n          if (!wordsData) readDataFile(path + \"/\" + dictionary + \"/\" + dictionary + \".dic\", setWordsData);\n        }\n    }\n\n    function readDataFile(url, setFunc) {\n      var response = self._readFile(url, null, settings.asyncLoad);\n\n      if (settings.asyncLoad) {\n        response.then(function (data) {\n          setFunc(data);\n        });\n      } else {\n        setFunc(response);\n      }\n    }\n\n    function setAffData(data) {\n      affData = data;\n\n      if (wordsData) {\n        setup();\n      }\n    }\n\n    function setWordsData(data) {\n      wordsData = data;\n\n      if (affData) {\n        setup();\n      }\n    }\n\n    function setup() {\n      self.rules = self._parseAFF(affData); // Save the rule codes that are used in compound rules.\n\n      self.compoundRuleCodes = {};\n\n      for (i = 0, _len = self.compoundRules.length; i < _len; i++) {\n        var rule = self.compoundRules[i];\n\n        for (j = 0, _jlen = rule.length; j < _jlen; j++) {\n          self.compoundRuleCodes[rule[j]] = [];\n        }\n      } // If we add this ONLYINCOMPOUND flag to self.compoundRuleCodes, then _parseDIC\n      // will do the work of saving the list of words that are compound-only.\n\n\n      if (\"ONLYINCOMPOUND\" in self.flags) {\n        self.compoundRuleCodes[self.flags.ONLYINCOMPOUND] = [];\n      }\n\n      self.dictionaryTable = self._parseDIC(wordsData); // Get rid of any codes from the compound rule codes that are never used \n      // (or that were special regex characters).  Not especially necessary... \n\n      for (i in self.compoundRuleCodes) {\n        if (self.compoundRuleCodes[i].length === 0) {\n          delete self.compoundRuleCodes[i];\n        }\n      } // Build the full regular expressions for each compound rule.\n      // I have a feeling (but no confirmation yet) that this method of \n      // testing for compound words is probably slow.\n\n\n      for (i = 0, _len = self.compoundRules.length; i < _len; i++) {\n        var ruleText = self.compoundRules[i];\n        var expressionText = \"\";\n\n        for (j = 0, _jlen = ruleText.length; j < _jlen; j++) {\n          var character = ruleText[j];\n\n          if (character in self.compoundRuleCodes) {\n            expressionText += \"(\" + self.compoundRuleCodes[character].join(\"|\") + \")\";\n          } else {\n            expressionText += character;\n          }\n        }\n\n        self.compoundRules[i] = new RegExp(expressionText, \"i\");\n      }\n\n      self.loaded = true;\n\n      if (settings.asyncLoad && settings.loadedCallback) {\n        settings.loadedCallback(self);\n      }\n    }\n\n    return this;\n  };\n\n  Typo.prototype = {\n    /**\n     * Loads a Typo instance from a hash of all of the Typo properties.\n     *\n     * @param object obj A hash of Typo properties, probably gotten from a JSON.parse(JSON.stringify(typo_instance)).\n     */\n    load: function load(obj) {\n      for (var i in obj) {\n        if (obj.hasOwnProperty(i)) {\n          this[i] = obj[i];\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Read the contents of a file.\n     * \n     * @param {String} path The path (relative) to the file.\n     * @param {String} [charset=\"ISO8859-1\"] The expected charset of the file\n     * @param {Boolean} async If true, the file will be read asynchronously. For node.js this does nothing, all\n     *        files are read synchronously.\n     * @returns {String} The file data if async is false, otherwise a promise object. If running node.js, the data is\n     *          always returned.\n     */\n    _readFile: function _readFile(path, charset, async) {\n      charset = charset || \"utf8\";\n\n      if (typeof XMLHttpRequest !== 'undefined') {\n        var promise;\n        var req = new XMLHttpRequest();\n        req.open(\"GET\", path, async);\n\n        if (async) {\n          promise = new Promise(function (resolve, reject) {\n            req.onload = function () {\n              if (req.status === 200) {\n                resolve(req.responseText);\n              } else {\n                reject(req.statusText);\n              }\n            };\n\n            req.onerror = function () {\n              reject(req.statusText);\n            };\n          });\n        }\n\n        if (req.overrideMimeType) req.overrideMimeType(\"text/plain; charset=\" + charset);\n        req.send(null);\n        return async ? promise : req.responseText;\n      } else if (typeof require !== 'undefined') {\n        // Node.js\n        var fs = require(\"fs\");\n\n        try {\n          if (fs.existsSync(path)) {\n            var stats = fs.statSync(path);\n            var fileDescriptor = fs.openSync(path, 'r');\n            var buffer = new Buffer(stats.size);\n            fs.readSync(fileDescriptor, buffer, 0, buffer.length, null);\n            return buffer.toString(charset, 0, buffer.length);\n          } else {\n            console.log(\"Path \" + path + \" does not exist.\");\n          }\n        } catch (e) {\n          console.log(e);\n          return '';\n        }\n      }\n    },\n\n    /**\n     * Parse the rules out from a .aff file.\n     *\n     * @param {String} data The contents of the affix file.\n     * @returns object The rules from the file.\n     */\n    _parseAFF: function _parseAFF(data) {\n      var rules = {};\n      var line, subline, numEntries, lineParts;\n\n      var i, j, _len, _jlen; // Remove comment lines\n\n\n      data = this._removeAffixComments(data);\n      var lines = data.split(\"\\n\");\n\n      for (i = 0, _len = lines.length; i < _len; i++) {\n        line = lines[i];\n        var definitionParts = line.split(/\\s+/);\n        var ruleType = definitionParts[0];\n\n        if (ruleType == \"PFX\" || ruleType == \"SFX\") {\n          var ruleCode = definitionParts[1];\n          var combineable = definitionParts[2];\n          numEntries = parseInt(definitionParts[3], 10);\n          var entries = [];\n\n          for (j = i + 1, _jlen = i + 1 + numEntries; j < _jlen; j++) {\n            subline = lines[j];\n            lineParts = subline.split(/\\s+/);\n            var charactersToRemove = lineParts[2];\n            var additionParts = lineParts[3].split(\"/\");\n            var charactersToAdd = additionParts[0];\n            if (charactersToAdd === \"0\") charactersToAdd = \"\";\n            var continuationClasses = this.parseRuleCodes(additionParts[1]);\n            var regexToMatch = lineParts[4];\n            var entry = {};\n            entry.add = charactersToAdd;\n            if (continuationClasses.length > 0) entry.continuationClasses = continuationClasses;\n\n            if (regexToMatch !== \".\") {\n              if (ruleType === \"SFX\") {\n                entry.match = new RegExp(regexToMatch + \"$\");\n              } else {\n                entry.match = new RegExp(\"^\" + regexToMatch);\n              }\n            }\n\n            if (charactersToRemove != \"0\") {\n              if (ruleType === \"SFX\") {\n                entry.remove = new RegExp(charactersToRemove + \"$\");\n              } else {\n                entry.remove = charactersToRemove;\n              }\n            }\n\n            entries.push(entry);\n          }\n\n          rules[ruleCode] = {\n            \"type\": ruleType,\n            \"combineable\": combineable == \"Y\",\n            \"entries\": entries\n          };\n          i += numEntries;\n        } else if (ruleType === \"COMPOUNDRULE\") {\n          numEntries = parseInt(definitionParts[1], 10);\n\n          for (j = i + 1, _jlen = i + 1 + numEntries; j < _jlen; j++) {\n            line = lines[j];\n            lineParts = line.split(/\\s+/);\n            this.compoundRules.push(lineParts[1]);\n          }\n\n          i += numEntries;\n        } else if (ruleType === \"REP\") {\n          lineParts = line.split(/\\s+/);\n\n          if (lineParts.length === 3) {\n            this.replacementTable.push([lineParts[1], lineParts[2]]);\n          }\n        } else {\n          // ONLYINCOMPOUND\n          // COMPOUNDMIN\n          // FLAG\n          // KEEPCASE\n          // NEEDAFFIX\n          this.flags[ruleType] = definitionParts[1];\n        }\n      }\n\n      return rules;\n    },\n\n    /**\n     * Removes comment lines and then cleans up blank lines and trailing whitespace.\n     *\n     * @param {String} data The data from an affix file.\n     * @return {String} The cleaned-up data.\n     */\n    _removeAffixComments: function _removeAffixComments(data) {\n      // Remove comments\n      // This used to remove any string starting with '#' up to the end of the line,\n      // but some COMPOUNDRULE definitions include '#' as part of the rule.\n      // I haven't seen any affix files that use comments on the same line as real data,\n      // so I don't think this will break anything.\n      data = data.replace(/^\\s*#.*$/mg, \"\"); // Trim each line\n\n      data = data.replace(/^\\s\\s*/m, '').replace(/\\s\\s*$/m, ''); // Remove blank lines.\n\n      data = data.replace(/\\n{2,}/g, \"\\n\"); // Trim the entire string\n\n      data = data.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n      return data;\n    },\n\n    /**\n     * Parses the words out from the .dic file.\n     *\n     * @param {String} data The data from the dictionary file.\n     * @returns object The lookup table containing all of the words and\n     *                 word forms from the dictionary.\n     */\n    _parseDIC: function _parseDIC(data) {\n      data = this._removeDicComments(data);\n      var lines = data.split(\"\\n\");\n      var dictionaryTable = {};\n\n      function addWord(word, rules) {\n        // Some dictionaries will list the same word multiple times with different rule sets.\n        if (!dictionaryTable.hasOwnProperty(word)) {\n          dictionaryTable[word] = null;\n        }\n\n        if (rules.length > 0) {\n          if (dictionaryTable[word] === null) {\n            dictionaryTable[word] = [];\n          }\n\n          dictionaryTable[word].push(rules);\n        }\n      } // The first line is the number of words in the dictionary.\n\n\n      for (var i = 1, _len = lines.length; i < _len; i++) {\n        var line = lines[i];\n        var parts = line.split(\"/\", 2);\n        var word = parts[0]; // Now for each affix rule, generate that form of the word.\n\n        if (parts.length > 1) {\n          var ruleCodesArray = this.parseRuleCodes(parts[1]); // Save the ruleCodes for compound word situations.\n\n          if (!(\"NEEDAFFIX\" in this.flags) || ruleCodesArray.indexOf(this.flags.NEEDAFFIX) == -1) {\n            addWord(word, ruleCodesArray);\n          }\n\n          for (var j = 0, _jlen = ruleCodesArray.length; j < _jlen; j++) {\n            var code = ruleCodesArray[j];\n            var rule = this.rules[code];\n\n            if (rule) {\n              var newWords = this._applyRule(word, rule);\n\n              for (var ii = 0, _iilen = newWords.length; ii < _iilen; ii++) {\n                var newWord = newWords[ii];\n                addWord(newWord, []);\n\n                if (rule.combineable) {\n                  for (var k = j + 1; k < _jlen; k++) {\n                    var combineCode = ruleCodesArray[k];\n                    var combineRule = this.rules[combineCode];\n\n                    if (combineRule) {\n                      if (combineRule.combineable && rule.type != combineRule.type) {\n                        var otherNewWords = this._applyRule(newWord, combineRule);\n\n                        for (var iii = 0, _iiilen = otherNewWords.length; iii < _iiilen; iii++) {\n                          var otherNewWord = otherNewWords[iii];\n                          addWord(otherNewWord, []);\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n\n            if (code in this.compoundRuleCodes) {\n              this.compoundRuleCodes[code].push(word);\n            }\n          }\n        } else {\n          addWord(word.trim(), []);\n        }\n      }\n\n      return dictionaryTable;\n    },\n\n    /**\n     * Removes comment lines and then cleans up blank lines and trailing whitespace.\n     *\n     * @param {String} data The data from a .dic file.\n     * @return {String} The cleaned-up data.\n     */\n    _removeDicComments: function _removeDicComments(data) {\n      // I can't find any official documentation on it, but at least the de_DE\n      // dictionary uses tab-indented lines as comments.\n      // Remove comments\n      data = data.replace(/^\\t.*$/mg, \"\");\n      return data;\n    },\n    parseRuleCodes: function parseRuleCodes(textCodes) {\n      if (!textCodes) {\n        return [];\n      } else if (!(\"FLAG\" in this.flags)) {\n        return textCodes.split(\"\");\n      } else if (this.flags.FLAG === \"long\") {\n        var flags = [];\n\n        for (var i = 0, _len = textCodes.length; i < _len; i += 2) {\n          flags.push(textCodes.substr(i, 2));\n        }\n\n        return flags;\n      } else if (this.flags.FLAG === \"num\") {\n        return textCodes.split(\",\");\n      }\n    },\n\n    /**\n     * Applies an affix rule to a word.\n     *\n     * @param {String} word The base word.\n     * @param {Object} rule The affix rule.\n     * @returns {String[]} The new words generated by the rule.\n     */\n    _applyRule: function _applyRule(word, rule) {\n      var entries = rule.entries;\n      var newWords = [];\n\n      for (var i = 0, _len = entries.length; i < _len; i++) {\n        var entry = entries[i];\n\n        if (!entry.match || word.match(entry.match)) {\n          var newWord = word;\n\n          if (entry.remove) {\n            newWord = newWord.replace(entry.remove, \"\");\n          }\n\n          if (rule.type === \"SFX\") {\n            newWord = newWord + entry.add;\n          } else {\n            newWord = entry.add + newWord;\n          }\n\n          newWords.push(newWord);\n\n          if (\"continuationClasses\" in entry) {\n            for (var j = 0, _jlen = entry.continuationClasses.length; j < _jlen; j++) {\n              var continuationRule = this.rules[entry.continuationClasses[j]];\n\n              if (continuationRule) {\n                newWords = newWords.concat(this._applyRule(newWord, continuationRule));\n              }\n              /*\n              else {\n              \t// This shouldn't happen, but it does, at least in the de_DE dictionary.\n              \t// I think the author mistakenly supplied lower-case rule codes instead \n              \t// of upper-case.\n              }\n              */\n\n            }\n          }\n        }\n      }\n\n      return newWords;\n    },\n\n    /**\n     * Checks whether a word or a capitalization variant exists in the current dictionary.\n     * The word is trimmed and several variations of capitalizations are checked.\n     * If you want to check a word without any changes made to it, call checkExact()\n     *\n     * @see http://blog.stevenlevithan.com/archives/faster-trim-javascript re:trimming function\n     *\n     * @param {String} aWord The word to check.\n     * @returns {Boolean}\n     */\n    check: function check(aWord) {\n      if (!this.loaded) {\n        throw \"Dictionary not loaded.\";\n      } // Remove leading and trailing whitespace\n\n\n      var trimmedWord = aWord.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n\n      if (this.checkExact(trimmedWord)) {\n        return true;\n      } // The exact word is not in the dictionary.\n\n\n      if (trimmedWord.toUpperCase() === trimmedWord) {\n        // The word was supplied in all uppercase.\n        // Check for a capitalized form of the word.\n        var capitalizedWord = trimmedWord[0] + trimmedWord.substring(1).toLowerCase();\n\n        if (this.hasFlag(capitalizedWord, \"KEEPCASE\")) {\n          // Capitalization variants are not allowed for this word.\n          return false;\n        }\n\n        if (this.checkExact(capitalizedWord)) {\n          return true;\n        }\n      }\n\n      var lowercaseWord = trimmedWord.toLowerCase();\n\n      if (lowercaseWord !== trimmedWord) {\n        if (this.hasFlag(lowercaseWord, \"KEEPCASE\")) {\n          // Capitalization variants are not allowed for this word.\n          return false;\n        } // Check for a lowercase form\n\n\n        if (this.checkExact(lowercaseWord)) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * Checks whether a word exists in the current dictionary.\n     *\n     * @param {String} word The word to check.\n     * @returns {Boolean}\n     */\n    checkExact: function checkExact(word) {\n      if (!this.loaded) {\n        throw \"Dictionary not loaded.\";\n      }\n\n      var ruleCodes = this.dictionaryTable[word];\n\n      var i, _len;\n\n      if (typeof ruleCodes === 'undefined') {\n        // Check if this might be a compound word.\n        if (\"COMPOUNDMIN\" in this.flags && word.length >= this.flags.COMPOUNDMIN) {\n          for (i = 0, _len = this.compoundRules.length; i < _len; i++) {\n            if (word.match(this.compoundRules[i])) {\n              return true;\n            }\n          }\n        }\n      } else if (ruleCodes === null) {\n        // a null (but not undefined) value for an entry in the dictionary table\n        // means that the word is in the dictionary but has no flags.\n        return true;\n      } else if (typeof ruleCodes === 'object') {\n        // this.dictionary['hasOwnProperty'] will be a function.\n        for (i = 0, _len = ruleCodes.length; i < _len; i++) {\n          if (!this.hasFlag(word, \"ONLYINCOMPOUND\", ruleCodes[i])) {\n            return true;\n          }\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * Looks up whether a given word is flagged with a given flag.\n     *\n     * @param {String} word The word in question.\n     * @param {String} flag The flag in question.\n     * @return {Boolean}\n     */\n    hasFlag: function hasFlag(word, flag, wordFlags) {\n      if (!this.loaded) {\n        throw \"Dictionary not loaded.\";\n      }\n\n      if (flag in this.flags) {\n        if (typeof wordFlags === 'undefined') {\n          wordFlags = Array.prototype.concat.apply([], this.dictionaryTable[word]);\n        }\n\n        if (wordFlags && wordFlags.indexOf(this.flags[flag]) !== -1) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * Returns a list of suggestions for a misspelled word.\n     *\n     * @see http://www.norvig.com/spell-correct.html for the basis of this suggestor.\n     * This suggestor is primitive, but it works.\n     *\n     * @param {String} word The misspelling.\n     * @param {Number} [limit=5] The maximum number of suggestions to return.\n     * @returns {String[]} The array of suggestions.\n     */\n    alphabet: \"\",\n    suggest: function suggest(word, limit) {\n      if (!this.loaded) {\n        throw \"Dictionary not loaded.\";\n      }\n\n      limit = limit || 5;\n\n      if (this.memoized.hasOwnProperty(word)) {\n        var memoizedLimit = this.memoized[word]['limit']; // Only return the cached list if it's big enough or if there weren't enough suggestions\n        // to fill a smaller limit.\n\n        if (limit <= memoizedLimit || this.memoized[word]['suggestions'].length < memoizedLimit) {\n          return this.memoized[word]['suggestions'].slice(0, limit);\n        }\n      }\n\n      if (this.check(word)) return []; // Check the replacement table.\n\n      for (var i = 0, _len = this.replacementTable.length; i < _len; i++) {\n        var replacementEntry = this.replacementTable[i];\n\n        if (word.indexOf(replacementEntry[0]) !== -1) {\n          var correctedWord = word.replace(replacementEntry[0], replacementEntry[1]);\n\n          if (this.check(correctedWord)) {\n            return [correctedWord];\n          }\n        }\n      }\n\n      var self = this;\n      self.alphabet = \"abcdefghijklmnopqrstuvwxyz\";\n      /*\n      if (!self.alphabet) {\n      \t// Use the alphabet as implicitly defined by the words in the dictionary.\n      \tvar alphaHash = {};\n      \t\n      \tfor (var i in self.dictionaryTable) {\n      \t\tfor (var j = 0, _len = i.length; j < _len; j++) {\n      \t\t\talphaHash[i[j]] = true;\n      \t\t}\n      \t}\n      \t\n      \tfor (var i in alphaHash) {\n      \t\tself.alphabet += i;\n      \t}\n      \t\n      \tvar alphaArray = self.alphabet.split(\"\");\n      \talphaArray.sort();\n      \tself.alphabet = alphaArray.join(\"\");\n      }\n      */\n\n      function edits1(words) {\n        var rv = [];\n\n        var ii, i, j, _iilen, _len, _jlen;\n\n        for (ii = 0, _iilen = words.length; ii < _iilen; ii++) {\n          var word = words[ii];\n\n          for (i = 0, _len = word.length + 1; i < _len; i++) {\n            var s = [word.substring(0, i), word.substring(i)];\n\n            if (s[1]) {\n              rv.push(s[0] + s[1].substring(1));\n            } // Eliminate transpositions of identical letters\n\n\n            if (s[1].length > 1 && s[1][1] !== s[1][0]) {\n              rv.push(s[0] + s[1][1] + s[1][0] + s[1].substring(2));\n            }\n\n            if (s[1]) {\n              for (j = 0, _jlen = self.alphabet.length; j < _jlen; j++) {\n                // Eliminate replacement of a letter by itself\n                if (self.alphabet[j] != s[1].substring(0, 1)) {\n                  rv.push(s[0] + self.alphabet[j] + s[1].substring(1));\n                }\n              }\n            }\n\n            if (s[1]) {\n              for (j = 0, _jlen = self.alphabet.length; j < _jlen; j++) {\n                rv.push(s[0] + self.alphabet[j] + s[1]);\n              }\n            }\n          }\n        }\n\n        return rv;\n      }\n\n      function known(words) {\n        var rv = [];\n\n        for (var i = 0, _len = words.length; i < _len; i++) {\n          if (self.check(words[i])) {\n            rv.push(words[i]);\n          }\n        }\n\n        return rv;\n      }\n\n      function correct(word) {\n        // Get the edit-distance-1 and edit-distance-2 forms of this word.\n        var ed1 = edits1([word]);\n        var ed2 = edits1(ed1);\n        var corrections = known(ed1.concat(ed2));\n\n        var i, _len; // Sort the edits based on how many different ways they were created.\n\n\n        var weighted_corrections = {};\n\n        for (i = 0, _len = corrections.length; i < _len; i++) {\n          if (!(corrections[i] in weighted_corrections)) {\n            weighted_corrections[corrections[i]] = 1;\n          } else {\n            weighted_corrections[corrections[i]] += 1;\n          }\n        }\n\n        var sorted_corrections = [];\n\n        for (i in weighted_corrections) {\n          if (weighted_corrections.hasOwnProperty(i)) {\n            sorted_corrections.push([i, weighted_corrections[i]]);\n          }\n        }\n\n        function sorter(a, b) {\n          if (a[1] < b[1]) {\n            return -1;\n          }\n\n          return 1;\n        }\n\n        sorted_corrections.sort(sorter).reverse();\n        var rv = [];\n        var capitalization_scheme = \"lowercase\";\n\n        if (word.toUpperCase() === word) {\n          capitalization_scheme = \"uppercase\";\n        } else if (word.substr(0, 1).toUpperCase() + word.substr(1).toLowerCase() === word) {\n          capitalization_scheme = \"capitalized\";\n        }\n\n        for (i = 0, _len = Math.min(limit, sorted_corrections.length); i < _len; i++) {\n          if (\"uppercase\" === capitalization_scheme) {\n            sorted_corrections[i][0] = sorted_corrections[i][0].toUpperCase();\n          } else if (\"capitalized\" === capitalization_scheme) {\n            sorted_corrections[i][0] = sorted_corrections[i][0].substr(0, 1).toUpperCase() + sorted_corrections[i][0].substr(1);\n          }\n\n          if (!self.hasFlag(sorted_corrections[i][0], \"NOSUGGEST\")) {\n            rv.push(sorted_corrections[i][0]);\n          }\n        }\n\n        return rv;\n      }\n\n      this.memoized[word] = {\n        'suggestions': correct(word),\n        'limit': limit\n      };\n      return this.memoized[word]['suggestions'];\n    }\n  };\n})(); // Support for use as a node.js module.\n\n\nif (typeof module !== 'undefined') {\n  module.exports = Typo;\n}","/**\n * marked - a markdown parser\n * Copyright (c) 2011-2018, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n;\n\n(function (root) {\n  'use strict';\n  /**\n   * Block-Level Grammar\n   */\n\n  var block = {\n    newline: /^\\n+/,\n    code: /^( {4}[^\\n]+\\n*)+/,\n    fences: /^ {0,3}(`{3,}|~{3,})([^`~\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?:\\n+|$)|$)/,\n    hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n    heading: /^ {0,3}(#{1,6}) +([^\\n]*?)(?: +#+)? *(?:\\n+|$)/,\n    blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n    list: /^( {0,3})(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n    html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?\\\\?>\\\\n*' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?>\\\\n*' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\\\\n*' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (6)\n    + '|<(?!script|pre|style)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) open tag\n    + '|</(?!script|pre|style)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) closing tag\n    + ')',\n    def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n    nptable: noop,\n    table: noop,\n    lheading: /^([^\\n]+)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n    // regex template, placeholders will be replaced according to different paragraph\n    // interruption rules of commonmark and the original markdown spec:\n    _paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\\n]+)*)/,\n    text: /^[^\\n]+/\n  };\n  block._label = /(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/;\n  block._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\n  block.def = edit(block.def).replace('label', block._label).replace('title', block._title).getRegex();\n  block.bullet = /(?:[*+-]|\\d{1,9}\\.)/;\n  block.item = /^( *)(bull) ?[^\\n]*(?:\\n(?!\\1bull ?)[^\\n]*)*/;\n  block.item = edit(block.item, 'gm').replace(/bull/g, block.bullet).getRegex();\n  block.list = edit(block.list).replace(/bull/g, block.bullet).replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))').replace('def', '\\\\n+(?=' + block.def.source + ')').getRegex();\n  block._tag = 'address|article|aside|base|basefont|blockquote|body|caption' + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption' + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe' + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option' + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr' + '|track|ul';\n  block._comment = /<!--(?!-?>)[\\s\\S]*?-->/;\n  block.html = edit(block.html, 'i').replace('comment', block._comment).replace('tag', block._tag).replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/).getRegex();\n  block.paragraph = edit(block._paragraph).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} +').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n  .replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}|~{3,})[^`\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n  block.blockquote = edit(block.blockquote).replace('paragraph', block.paragraph).getRegex();\n  /**\n   * Normal Block Grammar\n   */\n\n  block.normal = merge({}, block);\n  /**\n   * GFM Block Grammar\n   */\n\n  block.gfm = merge({}, block.normal, {\n    nptable: /^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:.*[^>\\n ].*(?:\\n|$))*)\\n*|$)/,\n    table: /^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n((?: *[^>\\n ].*(?:\\n|$))*)\\n*|$)/\n  });\n  /**\n   * Pedantic grammar (original John Gruber's loose markdown specification)\n   */\n\n  block.pedantic = merge({}, block.normal, {\n    html: edit('^ *(?:comment *(?:\\\\n|\\\\s*$)' + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))').replace('comment', block._comment).replace(/tag/g, '(?!(?:' + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub' + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)' + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b').getRegex(),\n    def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,\n    heading: /^ *(#{1,6}) *([^\\n]+?) *(?:#+ *)?(?:\\n+|$)/,\n    fences: noop,\n    // fences not supported\n    paragraph: edit(block.normal._paragraph).replace('hr', block.hr).replace('heading', ' *#{1,6} *[^\\n]').replace('lheading', block.lheading).replace('blockquote', ' {0,3}>').replace('|fences', '').replace('|list', '').replace('|html', '').getRegex()\n  });\n  /**\n   * Block Lexer\n   */\n\n  function Lexer(options) {\n    this.tokens = [];\n    this.tokens.links = Object.create(null);\n    this.options = options || marked.defaults;\n    this.rules = block.normal;\n\n    if (this.options.pedantic) {\n      this.rules = block.pedantic;\n    } else if (this.options.gfm) {\n      this.rules = block.gfm;\n    }\n  }\n  /**\n   * Expose Block Rules\n   */\n\n\n  Lexer.rules = block;\n  /**\n   * Static Lex Method\n   */\n\n  Lexer.lex = function (src, options) {\n    var lexer = new Lexer(options);\n    return lexer.lex(src);\n  };\n  /**\n   * Preprocessing\n   */\n\n\n  Lexer.prototype.lex = function (src) {\n    src = src.replace(/\\r\\n|\\r/g, '\\n').replace(/\\t/g, '    ').replace(/\\u00a0/g, ' ').replace(/\\u2424/g, '\\n');\n    return this.token(src, true);\n  };\n  /**\n   * Lexing\n   */\n\n\n  Lexer.prototype.token = function (src, top) {\n    src = src.replace(/^ +$/gm, '');\n    var next, loose, cap, bull, b, item, listStart, listItems, t, space, i, tag, l, isordered, istask, ischecked;\n\n    while (src) {\n      // newline\n      if (cap = this.rules.newline.exec(src)) {\n        src = src.substring(cap[0].length);\n\n        if (cap[0].length > 1) {\n          this.tokens.push({\n            type: 'space'\n          });\n        }\n      } // code\n\n\n      if (cap = this.rules.code.exec(src)) {\n        var lastToken = this.tokens[this.tokens.length - 1];\n        src = src.substring(cap[0].length); // An indented code block cannot interrupt a paragraph.\n\n        if (lastToken && lastToken.type === 'paragraph') {\n          lastToken.text += '\\n' + cap[0].trimRight();\n        } else {\n          cap = cap[0].replace(/^ {4}/gm, '');\n          this.tokens.push({\n            type: 'code',\n            codeBlockStyle: 'indented',\n            text: !this.options.pedantic ? rtrim(cap, '\\n') : cap\n          });\n        }\n\n        continue;\n      } // fences\n\n\n      if (cap = this.rules.fences.exec(src)) {\n        src = src.substring(cap[0].length);\n        this.tokens.push({\n          type: 'code',\n          lang: cap[2] ? cap[2].trim() : cap[2],\n          text: cap[3] || ''\n        });\n        continue;\n      } // heading\n\n\n      if (cap = this.rules.heading.exec(src)) {\n        src = src.substring(cap[0].length);\n        this.tokens.push({\n          type: 'heading',\n          depth: cap[1].length,\n          text: cap[2]\n        });\n        continue;\n      } // table no leading pipe (gfm)\n\n\n      if (cap = this.rules.nptable.exec(src)) {\n        item = {\n          type: 'table',\n          header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n          align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n          cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n        };\n\n        if (item.header.length === item.align.length) {\n          src = src.substring(cap[0].length);\n\n          for (i = 0; i < item.align.length; i++) {\n            if (/^ *-+: *$/.test(item.align[i])) {\n              item.align[i] = 'right';\n            } else if (/^ *:-+: *$/.test(item.align[i])) {\n              item.align[i] = 'center';\n            } else if (/^ *:-+ *$/.test(item.align[i])) {\n              item.align[i] = 'left';\n            } else {\n              item.align[i] = null;\n            }\n          }\n\n          for (i = 0; i < item.cells.length; i++) {\n            item.cells[i] = splitCells(item.cells[i], item.header.length);\n          }\n\n          this.tokens.push(item);\n          continue;\n        }\n      } // hr\n\n\n      if (cap = this.rules.hr.exec(src)) {\n        src = src.substring(cap[0].length);\n        this.tokens.push({\n          type: 'hr'\n        });\n        continue;\n      } // blockquote\n\n\n      if (cap = this.rules.blockquote.exec(src)) {\n        src = src.substring(cap[0].length);\n        this.tokens.push({\n          type: 'blockquote_start'\n        });\n        cap = cap[0].replace(/^ *> ?/gm, ''); // Pass `top` to keep the current\n        // \"toplevel\" state. This is exactly\n        // how markdown.pl works.\n\n        this.token(cap, top);\n        this.tokens.push({\n          type: 'blockquote_end'\n        });\n        continue;\n      } // list\n\n\n      if (cap = this.rules.list.exec(src)) {\n        src = src.substring(cap[0].length);\n        bull = cap[2];\n        isordered = bull.length > 1;\n        listStart = {\n          type: 'list_start',\n          ordered: isordered,\n          start: isordered ? +bull : '',\n          loose: false\n        };\n        this.tokens.push(listStart); // Get each top-level item.\n\n        cap = cap[0].match(this.rules.item);\n        listItems = [];\n        next = false;\n        l = cap.length;\n        i = 0;\n\n        for (; i < l; i++) {\n          item = cap[i]; // Remove the list item's bullet\n          // so it is seen as the next token.\n\n          space = item.length;\n          item = item.replace(/^ *([*+-]|\\d+\\.) */, ''); // Outdent whatever the\n          // list item contains. Hacky.\n\n          if (~item.indexOf('\\n ')) {\n            space -= item.length;\n            item = !this.options.pedantic ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '') : item.replace(/^ {1,4}/gm, '');\n          } // Determine whether the next list item belongs here.\n          // Backpedal if it does not belong in this list.\n\n\n          if (i !== l - 1) {\n            b = block.bullet.exec(cap[i + 1])[0];\n\n            if (bull.length > 1 ? b.length === 1 : b.length > 1 || this.options.smartLists && b !== bull) {\n              src = cap.slice(i + 1).join('\\n') + src;\n              i = l - 1;\n            }\n          } // Determine whether item is loose or not.\n          // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n          // for discount behavior.\n\n\n          loose = next || /\\n\\n(?!\\s*$)/.test(item);\n\n          if (i !== l - 1) {\n            next = item.charAt(item.length - 1) === '\\n';\n            if (!loose) loose = next;\n          }\n\n          if (loose) {\n            listStart.loose = true;\n          } // Check for task list items\n\n\n          istask = /^\\[[ xX]\\] /.test(item);\n          ischecked = undefined;\n\n          if (istask) {\n            ischecked = item[1] !== ' ';\n            item = item.replace(/^\\[[ xX]\\] +/, '');\n          }\n\n          t = {\n            type: 'list_item_start',\n            task: istask,\n            checked: ischecked,\n            loose: loose\n          };\n          listItems.push(t);\n          this.tokens.push(t); // Recurse.\n\n          this.token(item, false);\n          this.tokens.push({\n            type: 'list_item_end'\n          });\n        }\n\n        if (listStart.loose) {\n          l = listItems.length;\n          i = 0;\n\n          for (; i < l; i++) {\n            listItems[i].loose = true;\n          }\n        }\n\n        this.tokens.push({\n          type: 'list_end'\n        });\n        continue;\n      } // html\n\n\n      if (cap = this.rules.html.exec(src)) {\n        src = src.substring(cap[0].length);\n        this.tokens.push({\n          type: this.options.sanitize ? 'paragraph' : 'html',\n          pre: !this.options.sanitizer && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n          text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]) : cap[0]\n        });\n        continue;\n      } // def\n\n\n      if (top && (cap = this.rules.def.exec(src))) {\n        src = src.substring(cap[0].length);\n        if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n        tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n\n        if (!this.tokens.links[tag]) {\n          this.tokens.links[tag] = {\n            href: cap[2],\n            title: cap[3]\n          };\n        }\n\n        continue;\n      } // table (gfm)\n\n\n      if (cap = this.rules.table.exec(src)) {\n        item = {\n          type: 'table',\n          header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n          align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n          cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n        };\n\n        if (item.header.length === item.align.length) {\n          src = src.substring(cap[0].length);\n\n          for (i = 0; i < item.align.length; i++) {\n            if (/^ *-+: *$/.test(item.align[i])) {\n              item.align[i] = 'right';\n            } else if (/^ *:-+: *$/.test(item.align[i])) {\n              item.align[i] = 'center';\n            } else if (/^ *:-+ *$/.test(item.align[i])) {\n              item.align[i] = 'left';\n            } else {\n              item.align[i] = null;\n            }\n          }\n\n          for (i = 0; i < item.cells.length; i++) {\n            item.cells[i] = splitCells(item.cells[i].replace(/^ *\\| *| *\\| *$/g, ''), item.header.length);\n          }\n\n          this.tokens.push(item);\n          continue;\n        }\n      } // lheading\n\n\n      if (cap = this.rules.lheading.exec(src)) {\n        src = src.substring(cap[0].length);\n        this.tokens.push({\n          type: 'heading',\n          depth: cap[2].charAt(0) === '=' ? 1 : 2,\n          text: cap[1]\n        });\n        continue;\n      } // top-level paragraph\n\n\n      if (top && (cap = this.rules.paragraph.exec(src))) {\n        src = src.substring(cap[0].length);\n        this.tokens.push({\n          type: 'paragraph',\n          text: cap[1].charAt(cap[1].length - 1) === '\\n' ? cap[1].slice(0, -1) : cap[1]\n        });\n        continue;\n      } // text\n\n\n      if (cap = this.rules.text.exec(src)) {\n        // Top-level should never reach here.\n        src = src.substring(cap[0].length);\n        this.tokens.push({\n          type: 'text',\n          text: cap[0]\n        });\n        continue;\n      }\n\n      if (src) {\n        throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n      }\n    }\n\n    return this.tokens;\n  };\n  /**\n   * Inline-Level Grammar\n   */\n\n\n  var inline = {\n    escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n    autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n    url: noop,\n    tag: '^comment' + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>',\n    // CDATA section\n    link: /^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/,\n    reflink: /^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,\n    nolink: /^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,\n    strong: /^__([^\\s_])__(?!_)|^\\*\\*([^\\s*])\\*\\*(?!\\*)|^__([^\\s][\\s\\S]*?[^\\s])__(?!_)|^\\*\\*([^\\s][\\s\\S]*?[^\\s])\\*\\*(?!\\*)/,\n    em: /^_([^\\s_])_(?!_)|^\\*([^\\s*<\\[])\\*(?!\\*)|^_([^\\s<][\\s\\S]*?[^\\s_])_(?!_|[^\\spunctuation])|^_([^\\s_<][\\s\\S]*?[^\\s])_(?!_|[^\\spunctuation])|^\\*([^\\s<\"][\\s\\S]*?[^\\s\\*])\\*(?!\\*|[^\\spunctuation])|^\\*([^\\s*\"<\\[][\\s\\S]*?[^\\s])\\*(?!\\*)/,\n    code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n    br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n    del: noop,\n    text: /^(`+|[^`])(?:[\\s\\S]*?(?:(?=[\\\\<!\\[`*]|\\b_|$)|[^ ](?= {2,}\\n))|(?= {2,}\\n))/\n  }; // list of punctuation marks from common mark spec\n  // without ` and ] to workaround Rule 17 (inline code blocks/links)\n\n  inline._punctuation = '!\"#$%&\\'()*+,\\\\-./:;<=>?@\\\\[^_{|}~';\n  inline.em = edit(inline.em).replace(/punctuation/g, inline._punctuation).getRegex();\n  inline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n  inline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\n  inline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\n  inline.autolink = edit(inline.autolink).replace('scheme', inline._scheme).replace('email', inline._email).getRegex();\n  inline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n  inline.tag = edit(inline.tag).replace('comment', block._comment).replace('attribute', inline._attribute).getRegex();\n  inline._label = /(?:\\[[^\\[\\]]*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/;\n  inline._href = /<(?:\\\\[<>]?|[^\\s<>\\\\])*>|[^\\s\\x00-\\x1f]*/;\n  inline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n  inline.link = edit(inline.link).replace('label', inline._label).replace('href', inline._href).replace('title', inline._title).getRegex();\n  inline.reflink = edit(inline.reflink).replace('label', inline._label).getRegex();\n  /**\n   * Normal Inline Grammar\n   */\n\n  inline.normal = merge({}, inline);\n  /**\n   * Pedantic Inline Grammar\n   */\n\n  inline.pedantic = merge({}, inline.normal, {\n    strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n    em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/,\n    link: edit(/^!?\\[(label)\\]\\((.*?)\\)/).replace('label', inline._label).getRegex(),\n    reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/).replace('label', inline._label).getRegex()\n  });\n  /**\n   * GFM Inline Grammar\n   */\n\n  inline.gfm = merge({}, inline.normal, {\n    escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n    _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n    url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n    _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n    del: /^~+(?=\\S)([\\s\\S]*?\\S)~+/,\n    text: /^(`+|[^`])(?:[\\s\\S]*?(?:(?=[\\\\<!\\[`*~]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))|(?= {2,}\\n|[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))/\n  });\n  inline.gfm.url = edit(inline.gfm.url, 'i').replace('email', inline.gfm._extended_email).getRegex();\n  /**\n   * GFM + Line Breaks Inline Grammar\n   */\n\n  inline.breaks = merge({}, inline.gfm, {\n    br: edit(inline.br).replace('{2,}', '*').getRegex(),\n    text: edit(inline.gfm.text).replace('\\\\b_', '\\\\b_| {2,}\\\\n').replace(/\\{2,\\}/g, '*').getRegex()\n  });\n  /**\n   * Inline Lexer & Compiler\n   */\n\n  function InlineLexer(links, options) {\n    this.options = options || marked.defaults;\n    this.links = links;\n    this.rules = inline.normal;\n    this.renderer = this.options.renderer || new Renderer();\n    this.renderer.options = this.options;\n\n    if (!this.links) {\n      throw new Error('Tokens array requires a `links` property.');\n    }\n\n    if (this.options.pedantic) {\n      this.rules = inline.pedantic;\n    } else if (this.options.gfm) {\n      if (this.options.breaks) {\n        this.rules = inline.breaks;\n      } else {\n        this.rules = inline.gfm;\n      }\n    }\n  }\n  /**\n   * Expose Inline Rules\n   */\n\n\n  InlineLexer.rules = inline;\n  /**\n   * Static Lexing/Compiling Method\n   */\n\n  InlineLexer.output = function (src, links, options) {\n    var inline = new InlineLexer(links, options);\n    return inline.output(src);\n  };\n  /**\n   * Lexing/Compiling\n   */\n\n\n  InlineLexer.prototype.output = function (src) {\n    var out = '',\n        link,\n        text,\n        href,\n        title,\n        cap,\n        prevCapZero;\n\n    while (src) {\n      // escape\n      if (cap = this.rules.escape.exec(src)) {\n        src = src.substring(cap[0].length);\n        out += escape(cap[1]);\n        continue;\n      } // tag\n\n\n      if (cap = this.rules.tag.exec(src)) {\n        if (!this.inLink && /^<a /i.test(cap[0])) {\n          this.inLink = true;\n        } else if (this.inLink && /^<\\/a>/i.test(cap[0])) {\n          this.inLink = false;\n        }\n\n        if (!this.inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n          this.inRawBlock = true;\n        } else if (this.inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n          this.inRawBlock = false;\n        }\n\n        src = src.substring(cap[0].length);\n        out += this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]) : cap[0];\n        continue;\n      } // link\n\n\n      if (cap = this.rules.link.exec(src)) {\n        var lastParenIndex = findClosingBracket(cap[2], '()');\n\n        if (lastParenIndex > -1) {\n          var linkLen = 4 + cap[1].length + lastParenIndex;\n          cap[2] = cap[2].substring(0, lastParenIndex);\n          cap[0] = cap[0].substring(0, linkLen).trim();\n          cap[3] = '';\n        }\n\n        src = src.substring(cap[0].length);\n        this.inLink = true;\n        href = cap[2];\n\n        if (this.options.pedantic) {\n          link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n          if (link) {\n            href = link[1];\n            title = link[3];\n          } else {\n            title = '';\n          }\n        } else {\n          title = cap[3] ? cap[3].slice(1, -1) : '';\n        }\n\n        href = href.trim().replace(/^<([\\s\\S]*)>$/, '$1');\n        out += this.outputLink(cap, {\n          href: InlineLexer.escapes(href),\n          title: InlineLexer.escapes(title)\n        });\n        this.inLink = false;\n        continue;\n      } // reflink, nolink\n\n\n      if ((cap = this.rules.reflink.exec(src)) || (cap = this.rules.nolink.exec(src))) {\n        src = src.substring(cap[0].length);\n        link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n        link = this.links[link.toLowerCase()];\n\n        if (!link || !link.href) {\n          out += cap[0].charAt(0);\n          src = cap[0].substring(1) + src;\n          continue;\n        }\n\n        this.inLink = true;\n        out += this.outputLink(cap, link);\n        this.inLink = false;\n        continue;\n      } // strong\n\n\n      if (cap = this.rules.strong.exec(src)) {\n        src = src.substring(cap[0].length);\n        out += this.renderer.strong(this.output(cap[4] || cap[3] || cap[2] || cap[1]));\n        continue;\n      } // em\n\n\n      if (cap = this.rules.em.exec(src)) {\n        src = src.substring(cap[0].length);\n        out += this.renderer.em(this.output(cap[6] || cap[5] || cap[4] || cap[3] || cap[2] || cap[1]));\n        continue;\n      } // code\n\n\n      if (cap = this.rules.code.exec(src)) {\n        src = src.substring(cap[0].length);\n        out += this.renderer.codespan(escape(cap[2].trim(), true));\n        continue;\n      } // br\n\n\n      if (cap = this.rules.br.exec(src)) {\n        src = src.substring(cap[0].length);\n        out += this.renderer.br();\n        continue;\n      } // del (gfm)\n\n\n      if (cap = this.rules.del.exec(src)) {\n        src = src.substring(cap[0].length);\n        out += this.renderer.del(this.output(cap[1]));\n        continue;\n      } // autolink\n\n\n      if (cap = this.rules.autolink.exec(src)) {\n        src = src.substring(cap[0].length);\n\n        if (cap[2] === '@') {\n          text = escape(this.mangle(cap[1]));\n          href = 'mailto:' + text;\n        } else {\n          text = escape(cap[1]);\n          href = text;\n        }\n\n        out += this.renderer.link(href, null, text);\n        continue;\n      } // url (gfm)\n\n\n      if (!this.inLink && (cap = this.rules.url.exec(src))) {\n        if (cap[2] === '@') {\n          text = escape(cap[0]);\n          href = 'mailto:' + text;\n        } else {\n          // do extended autolink path validation\n          do {\n            prevCapZero = cap[0];\n            cap[0] = this.rules._backpedal.exec(cap[0])[0];\n          } while (prevCapZero !== cap[0]);\n\n          text = escape(cap[0]);\n\n          if (cap[1] === 'www.') {\n            href = 'http://' + text;\n          } else {\n            href = text;\n          }\n        }\n\n        src = src.substring(cap[0].length);\n        out += this.renderer.link(href, null, text);\n        continue;\n      } // text\n\n\n      if (cap = this.rules.text.exec(src)) {\n        src = src.substring(cap[0].length);\n\n        if (this.inRawBlock) {\n          out += this.renderer.text(this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]) : cap[0]);\n        } else {\n          out += this.renderer.text(escape(this.smartypants(cap[0])));\n        }\n\n        continue;\n      }\n\n      if (src) {\n        throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n      }\n    }\n\n    return out;\n  };\n\n  InlineLexer.escapes = function (text) {\n    return text ? text.replace(InlineLexer.rules._escapes, '$1') : text;\n  };\n  /**\n   * Compile Link\n   */\n\n\n  InlineLexer.prototype.outputLink = function (cap, link) {\n    var href = link.href,\n        title = link.title ? escape(link.title) : null;\n    return cap[0].charAt(0) !== '!' ? this.renderer.link(href, title, this.output(cap[1])) : this.renderer.image(href, title, escape(cap[1]));\n  };\n  /**\n   * Smartypants Transformations\n   */\n\n\n  InlineLexer.prototype.smartypants = function (text) {\n    if (!this.options.smartypants) return text;\n    return text // em-dashes\n    .replace(/---/g, \"\\u2014\") // en-dashes\n    .replace(/--/g, \"\\u2013\") // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, \"$1\\u2018\") // closing singles & apostrophes\n    .replace(/'/g, \"\\u2019\") // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, \"$1\\u201C\") // closing doubles\n    .replace(/\"/g, \"\\u201D\") // ellipses\n    .replace(/\\.{3}/g, \"\\u2026\");\n  };\n  /**\n   * Mangle Links\n   */\n\n\n  InlineLexer.prototype.mangle = function (text) {\n    if (!this.options.mangle) return text;\n    var out = '',\n        l = text.length,\n        i = 0,\n        ch;\n\n    for (; i < l; i++) {\n      ch = text.charCodeAt(i);\n\n      if (Math.random() > 0.5) {\n        ch = 'x' + ch.toString(16);\n      }\n\n      out += '&#' + ch + ';';\n    }\n\n    return out;\n  };\n  /**\n   * Renderer\n   */\n\n\n  function Renderer(options) {\n    this.options = options || marked.defaults;\n  }\n\n  Renderer.prototype.code = function (code, infostring, escaped) {\n    var lang = (infostring || '').match(/\\S*/)[0];\n\n    if (this.options.highlight) {\n      var out = this.options.highlight(code, lang);\n\n      if (out != null && out !== code) {\n        escaped = true;\n        code = out;\n      }\n    }\n\n    if (!lang) {\n      return '<pre><code>' + (escaped ? code : escape(code, true)) + '</code></pre>';\n    }\n\n    return '<pre><code class=\"' + this.options.langPrefix + escape(lang, true) + '\">' + (escaped ? code : escape(code, true)) + '</code></pre>\\n';\n  };\n\n  Renderer.prototype.blockquote = function (quote) {\n    return '<blockquote>\\n' + quote + '</blockquote>\\n';\n  };\n\n  Renderer.prototype.html = function (html) {\n    return html;\n  };\n\n  Renderer.prototype.heading = function (text, level, raw, slugger) {\n    if (this.options.headerIds) {\n      return '<h' + level + ' id=\"' + this.options.headerPrefix + slugger.slug(raw) + '\">' + text + '</h' + level + '>\\n';\n    } // ignore IDs\n\n\n    return '<h' + level + '>' + text + '</h' + level + '>\\n';\n  };\n\n  Renderer.prototype.hr = function () {\n    return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n  };\n\n  Renderer.prototype.list = function (body, ordered, start) {\n    var type = ordered ? 'ol' : 'ul',\n        startatt = ordered && start !== 1 ? ' start=\"' + start + '\"' : '';\n    return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n  };\n\n  Renderer.prototype.listitem = function (text) {\n    return '<li>' + text + '</li>\\n';\n  };\n\n  Renderer.prototype.checkbox = function (checked) {\n    return '<input ' + (checked ? 'checked=\"\" ' : '') + 'disabled=\"\" type=\"checkbox\"' + (this.options.xhtml ? ' /' : '') + '> ';\n  };\n\n  Renderer.prototype.paragraph = function (text) {\n    return '<p>' + text + '</p>\\n';\n  };\n\n  Renderer.prototype.table = function (header, body) {\n    if (body) body = '<tbody>' + body + '</tbody>';\n    return '<table>\\n' + '<thead>\\n' + header + '</thead>\\n' + body + '</table>\\n';\n  };\n\n  Renderer.prototype.tablerow = function (content) {\n    return '<tr>\\n' + content + '</tr>\\n';\n  };\n\n  Renderer.prototype.tablecell = function (content, flags) {\n    var type = flags.header ? 'th' : 'td';\n    var tag = flags.align ? '<' + type + ' align=\"' + flags.align + '\">' : '<' + type + '>';\n    return tag + content + '</' + type + '>\\n';\n  }; // span level renderer\n\n\n  Renderer.prototype.strong = function (text) {\n    return '<strong>' + text + '</strong>';\n  };\n\n  Renderer.prototype.em = function (text) {\n    return '<em>' + text + '</em>';\n  };\n\n  Renderer.prototype.codespan = function (text) {\n    return '<code>' + text + '</code>';\n  };\n\n  Renderer.prototype.br = function () {\n    return this.options.xhtml ? '<br/>' : '<br>';\n  };\n\n  Renderer.prototype.del = function (text) {\n    return '<del>' + text + '</del>';\n  };\n\n  Renderer.prototype.link = function (href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n\n    if (href === null) {\n      return text;\n    }\n\n    var out = '<a href=\"' + escape(href) + '\"';\n\n    if (title) {\n      out += ' title=\"' + title + '\"';\n    }\n\n    out += '>' + text + '</a>';\n    return out;\n  };\n\n  Renderer.prototype.image = function (href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n\n    if (href === null) {\n      return text;\n    }\n\n    var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n\n    if (title) {\n      out += ' title=\"' + title + '\"';\n    }\n\n    out += this.options.xhtml ? '/>' : '>';\n    return out;\n  };\n\n  Renderer.prototype.text = function (text) {\n    return text;\n  };\n  /**\n   * TextRenderer\n   * returns only the textual part of the token\n   */\n\n\n  function TextRenderer() {} // no need for block level renderers\n\n\n  TextRenderer.prototype.strong = TextRenderer.prototype.em = TextRenderer.prototype.codespan = TextRenderer.prototype.del = TextRenderer.prototype.text = function (text) {\n    return text;\n  };\n\n  TextRenderer.prototype.link = TextRenderer.prototype.image = function (href, title, text) {\n    return '' + text;\n  };\n\n  TextRenderer.prototype.br = function () {\n    return '';\n  };\n  /**\n   * Parsing & Compiling\n   */\n\n\n  function Parser(options) {\n    this.tokens = [];\n    this.token = null;\n    this.options = options || marked.defaults;\n    this.options.renderer = this.options.renderer || new Renderer();\n    this.renderer = this.options.renderer;\n    this.renderer.options = this.options;\n    this.slugger = new Slugger();\n  }\n  /**\n   * Static Parse Method\n   */\n\n\n  Parser.parse = function (src, options) {\n    var parser = new Parser(options);\n    return parser.parse(src);\n  };\n  /**\n   * Parse Loop\n   */\n\n\n  Parser.prototype.parse = function (src) {\n    this.inline = new InlineLexer(src.links, this.options); // use an InlineLexer with a TextRenderer to extract pure text\n\n    this.inlineText = new InlineLexer(src.links, merge({}, this.options, {\n      renderer: new TextRenderer()\n    }));\n    this.tokens = src.reverse();\n    var out = '';\n\n    while (this.next()) {\n      out += this.tok();\n    }\n\n    return out;\n  };\n  /**\n   * Next Token\n   */\n\n\n  Parser.prototype.next = function () {\n    this.token = this.tokens.pop();\n    return this.token;\n  };\n  /**\n   * Preview Next Token\n   */\n\n\n  Parser.prototype.peek = function () {\n    return this.tokens[this.tokens.length - 1] || 0;\n  };\n  /**\n   * Parse Text Tokens\n   */\n\n\n  Parser.prototype.parseText = function () {\n    var body = this.token.text;\n\n    while (this.peek().type === 'text') {\n      body += '\\n' + this.next().text;\n    }\n\n    return this.inline.output(body);\n  };\n  /**\n   * Parse Current Token\n   */\n\n\n  Parser.prototype.tok = function () {\n    switch (this.token.type) {\n      case 'space':\n        {\n          return '';\n        }\n\n      case 'hr':\n        {\n          return this.renderer.hr();\n        }\n\n      case 'heading':\n        {\n          return this.renderer.heading(this.inline.output(this.token.text), this.token.depth, unescape(this.inlineText.output(this.token.text)), this.slugger);\n        }\n\n      case 'code':\n        {\n          return this.renderer.code(this.token.text, this.token.lang, this.token.escaped);\n        }\n\n      case 'table':\n        {\n          var header = '',\n              body = '',\n              i,\n              row,\n              cell,\n              j; // header\n\n          cell = '';\n\n          for (i = 0; i < this.token.header.length; i++) {\n            cell += this.renderer.tablecell(this.inline.output(this.token.header[i]), {\n              header: true,\n              align: this.token.align[i]\n            });\n          }\n\n          header += this.renderer.tablerow(cell);\n\n          for (i = 0; i < this.token.cells.length; i++) {\n            row = this.token.cells[i];\n            cell = '';\n\n            for (j = 0; j < row.length; j++) {\n              cell += this.renderer.tablecell(this.inline.output(row[j]), {\n                header: false,\n                align: this.token.align[j]\n              });\n            }\n\n            body += this.renderer.tablerow(cell);\n          }\n\n          return this.renderer.table(header, body);\n        }\n\n      case 'blockquote_start':\n        {\n          body = '';\n\n          while (this.next().type !== 'blockquote_end') {\n            body += this.tok();\n          }\n\n          return this.renderer.blockquote(body);\n        }\n\n      case 'list_start':\n        {\n          body = '';\n          var ordered = this.token.ordered,\n              start = this.token.start;\n\n          while (this.next().type !== 'list_end') {\n            body += this.tok();\n          }\n\n          return this.renderer.list(body, ordered, start);\n        }\n\n      case 'list_item_start':\n        {\n          body = '';\n          var loose = this.token.loose;\n          var checked = this.token.checked;\n          var task = this.token.task;\n\n          if (this.token.task) {\n            body += this.renderer.checkbox(checked);\n          }\n\n          while (this.next().type !== 'list_item_end') {\n            body += !loose && this.token.type === 'text' ? this.parseText() : this.tok();\n          }\n\n          return this.renderer.listitem(body, task, checked);\n        }\n\n      case 'html':\n        {\n          // TODO parse inline content if parameter markdown=1\n          return this.renderer.html(this.token.text);\n        }\n\n      case 'paragraph':\n        {\n          return this.renderer.paragraph(this.inline.output(this.token.text));\n        }\n\n      case 'text':\n        {\n          return this.renderer.paragraph(this.parseText());\n        }\n\n      default:\n        {\n          var errMsg = 'Token with \"' + this.token.type + '\" type was not found.';\n\n          if (this.options.silent) {\n            console.log(errMsg);\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n    }\n  };\n  /**\n   * Slugger generates header id\n   */\n\n\n  function Slugger() {\n    this.seen = {};\n  }\n  /**\n   * Convert string to unique id\n   */\n\n\n  Slugger.prototype.slug = function (value) {\n    var slug = value.toLowerCase().trim().replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '').replace(/\\s/g, '-');\n\n    if (this.seen.hasOwnProperty(slug)) {\n      var originalSlug = slug;\n\n      do {\n        this.seen[originalSlug]++;\n        slug = originalSlug + '-' + this.seen[originalSlug];\n      } while (this.seen.hasOwnProperty(slug));\n    }\n\n    this.seen[slug] = 0;\n    return slug;\n  };\n  /**\n   * Helpers\n   */\n\n\n  function escape(html, encode) {\n    if (encode) {\n      if (escape.escapeTest.test(html)) {\n        return html.replace(escape.escapeReplace, function (ch) {\n          return escape.replacements[ch];\n        });\n      }\n    } else {\n      if (escape.escapeTestNoEncode.test(html)) {\n        return html.replace(escape.escapeReplaceNoEncode, function (ch) {\n          return escape.replacements[ch];\n        });\n      }\n    }\n\n    return html;\n  }\n\n  escape.escapeTest = /[&<>\"']/;\n  escape.escapeReplace = /[&<>\"']/g;\n  escape.replacements = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n  escape.escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\n  escape.escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\n\n  function unescape(html) {\n    // explicitly match decimal, hex, and named HTML entities\n    return html.replace(/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig, function (_, n) {\n      n = n.toLowerCase();\n      if (n === 'colon') return ':';\n\n      if (n.charAt(0) === '#') {\n        return n.charAt(1) === 'x' ? String.fromCharCode(parseInt(n.substring(2), 16)) : String.fromCharCode(+n.substring(1));\n      }\n\n      return '';\n    });\n  }\n\n  function edit(regex, opt) {\n    regex = regex.source || regex;\n    opt = opt || '';\n    return {\n      replace: function replace(name, val) {\n        val = val.source || val;\n        val = val.replace(/(^|[^\\[])\\^/g, '$1');\n        regex = regex.replace(name, val);\n        return this;\n      },\n      getRegex: function getRegex() {\n        return new RegExp(regex, opt);\n      }\n    };\n  }\n\n  function cleanUrl(sanitize, base, href) {\n    if (sanitize) {\n      try {\n        var prot = decodeURIComponent(unescape(href)).replace(/[^\\w:]/g, '').toLowerCase();\n      } catch (e) {\n        return null;\n      }\n\n      if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n        return null;\n      }\n    }\n\n    if (base && !originIndependentUrl.test(href)) {\n      href = resolveUrl(base, href);\n    }\n\n    try {\n      href = encodeURI(href).replace(/%25/g, '%');\n    } catch (e) {\n      return null;\n    }\n\n    return href;\n  }\n\n  function resolveUrl(base, href) {\n    if (!baseUrls[' ' + base]) {\n      // we can ignore everything in base after the last slash of its path component,\n      // but we might need to add _that_\n      // https://tools.ietf.org/html/rfc3986#section-3\n      if (/^[^:]+:\\/*[^/]*$/.test(base)) {\n        baseUrls[' ' + base] = base + '/';\n      } else {\n        baseUrls[' ' + base] = rtrim(base, '/', true);\n      }\n    }\n\n    base = baseUrls[' ' + base];\n\n    if (href.slice(0, 2) === '//') {\n      return base.replace(/:[\\s\\S]*/, ':') + href;\n    } else if (href.charAt(0) === '/') {\n      return base.replace(/(:\\/*[^/]*)[\\s\\S]*/, '$1') + href;\n    } else {\n      return base + href;\n    }\n  }\n\n  var baseUrls = {};\n  var originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\n  function noop() {}\n\n  noop.exec = noop;\n\n  function merge(obj) {\n    var i = 1,\n        target,\n        key;\n\n    for (; i < arguments.length; i++) {\n      target = arguments[i];\n\n      for (key in target) {\n        if (Object.prototype.hasOwnProperty.call(target, key)) {\n          obj[key] = target[key];\n        }\n      }\n    }\n\n    return obj;\n  }\n\n  function splitCells(tableRow, count) {\n    // ensure that every cell-delimiting pipe has a space\n    // before it to distinguish it from an escaped pipe\n    var row = tableRow.replace(/\\|/g, function (match, offset, str) {\n      var escaped = false,\n          curr = offset;\n\n      while (--curr >= 0 && str[curr] === '\\\\') {\n        escaped = !escaped;\n      }\n\n      if (escaped) {\n        // odd number of slashes means | is escaped\n        // so we leave it alone\n        return '|';\n      } else {\n        // add space before unescaped |\n        return ' |';\n      }\n    }),\n        cells = row.split(/ \\|/),\n        i = 0;\n\n    if (cells.length > count) {\n      cells.splice(count);\n    } else {\n      while (cells.length < count) {\n        cells.push('');\n      }\n    }\n\n    for (; i < cells.length; i++) {\n      // leading or trailing whitespace is ignored per the gfm spec\n      cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n    }\n\n    return cells;\n  } // Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n  // /c*$/ is vulnerable to REDOS.\n  // invert: Remove suffix of non-c chars instead. Default falsey.\n\n\n  function rtrim(str, c, invert) {\n    if (str.length === 0) {\n      return '';\n    } // Length of suffix matching the invert condition.\n\n\n    var suffLen = 0; // Step left until we fail to match the invert condition.\n\n    while (suffLen < str.length) {\n      var currChar = str.charAt(str.length - suffLen - 1);\n\n      if (currChar === c && !invert) {\n        suffLen++;\n      } else if (currChar !== c && invert) {\n        suffLen++;\n      } else {\n        break;\n      }\n    }\n\n    return str.substr(0, str.length - suffLen);\n  }\n\n  function findClosingBracket(str, b) {\n    if (str.indexOf(b[1]) === -1) {\n      return -1;\n    }\n\n    var level = 0;\n\n    for (var i = 0; i < str.length; i++) {\n      if (str[i] === '\\\\') {\n        i++;\n      } else if (str[i] === b[0]) {\n        level++;\n      } else if (str[i] === b[1]) {\n        level--;\n\n        if (level < 0) {\n          return i;\n        }\n      }\n    }\n\n    return -1;\n  }\n\n  function checkSanitizeDeprecation(opt) {\n    if (opt && opt.sanitize && !opt.silent) {\n      console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');\n    }\n  }\n  /**\n   * Marked\n   */\n\n\n  function marked(src, opt, callback) {\n    // throw error in case of non string input\n    if (typeof src === 'undefined' || src === null) {\n      throw new Error('marked(): input parameter is undefined or null');\n    }\n\n    if (typeof src !== 'string') {\n      throw new Error('marked(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');\n    }\n\n    if (callback || typeof opt === 'function') {\n      if (!callback) {\n        callback = opt;\n        opt = null;\n      }\n\n      opt = merge({}, marked.defaults, opt || {});\n      checkSanitizeDeprecation(opt);\n      var highlight = opt.highlight,\n          tokens,\n          pending,\n          i = 0;\n\n      try {\n        tokens = Lexer.lex(src, opt);\n      } catch (e) {\n        return callback(e);\n      }\n\n      pending = tokens.length;\n\n      var done = function done(err) {\n        if (err) {\n          opt.highlight = highlight;\n          return callback(err);\n        }\n\n        var out;\n\n        try {\n          out = Parser.parse(tokens, opt);\n        } catch (e) {\n          err = e;\n        }\n\n        opt.highlight = highlight;\n        return err ? callback(err) : callback(null, out);\n      };\n\n      if (!highlight || highlight.length < 3) {\n        return done();\n      }\n\n      delete opt.highlight;\n      if (!pending) return done();\n\n      for (; i < tokens.length; i++) {\n        (function (token) {\n          if (token.type !== 'code') {\n            return --pending || done();\n          }\n\n          return highlight(token.text, token.lang, function (err, code) {\n            if (err) return done(err);\n\n            if (code == null || code === token.text) {\n              return --pending || done();\n            }\n\n            token.text = code;\n            token.escaped = true;\n            --pending || done();\n          });\n        })(tokens[i]);\n      }\n\n      return;\n    }\n\n    try {\n      if (opt) opt = merge({}, marked.defaults, opt);\n      checkSanitizeDeprecation(opt);\n      return Parser.parse(Lexer.lex(src, opt), opt);\n    } catch (e) {\n      e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n      if ((opt || marked.defaults).silent) {\n        return '<p>An error occurred:</p><pre>' + escape(e.message + '', true) + '</pre>';\n      }\n\n      throw e;\n    }\n  }\n  /**\n   * Options\n   */\n\n\n  marked.options = marked.setOptions = function (opt) {\n    merge(marked.defaults, opt);\n    return marked;\n  };\n\n  marked.getDefaults = function () {\n    return {\n      baseUrl: null,\n      breaks: false,\n      gfm: true,\n      headerIds: true,\n      headerPrefix: '',\n      highlight: null,\n      langPrefix: 'language-',\n      mangle: true,\n      pedantic: false,\n      renderer: new Renderer(),\n      sanitize: false,\n      sanitizer: null,\n      silent: false,\n      smartLists: false,\n      smartypants: false,\n      xhtml: false\n    };\n  };\n\n  marked.defaults = marked.getDefaults();\n  /**\n   * Expose\n   */\n\n  marked.Parser = Parser;\n  marked.parser = Parser.parse;\n  marked.Renderer = Renderer;\n  marked.TextRenderer = TextRenderer;\n  marked.Lexer = Lexer;\n  marked.lexer = Lexer.lex;\n  marked.InlineLexer = InlineLexer;\n  marked.inlineLexer = InlineLexer.output;\n  marked.Slugger = Slugger;\n  marked.parse = marked;\n\n  if (typeof module !== 'undefined' && typeof exports === 'object') {\n    module.exports = marked;\n  } else if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return marked;\n    });\n  } else {\n    root.marked = marked;\n  }\n})(this || (typeof window !== 'undefined' ? window : global));","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as PropTypes from 'prop-types';\nexport var eventPropTypes = {\n  onActivate: PropTypes.func,\n  onAddUndo: PropTypes.func,\n  onBeforeAddUndo: PropTypes.func,\n  onBeforeExecCommand: PropTypes.func,\n  onBeforeGetContent: PropTypes.func,\n  onBeforeRenderUI: PropTypes.func,\n  onBeforeSetContent: PropTypes.func,\n  onBeforePaste: PropTypes.func,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onClearUndos: PropTypes.func,\n  onClick: PropTypes.func,\n  onContextMenu: PropTypes.func,\n  onCopy: PropTypes.func,\n  onCut: PropTypes.func,\n  onDblclick: PropTypes.func,\n  onDeactivate: PropTypes.func,\n  onDirty: PropTypes.func,\n  onDrag: PropTypes.func,\n  onDragDrop: PropTypes.func,\n  onDragEnd: PropTypes.func,\n  onDragGesture: PropTypes.func,\n  onDragOver: PropTypes.func,\n  onDrop: PropTypes.func,\n  onExecCommand: PropTypes.func,\n  onFocus: PropTypes.func,\n  onFocusIn: PropTypes.func,\n  onFocusOut: PropTypes.func,\n  onGetContent: PropTypes.func,\n  onHide: PropTypes.func,\n  onInit: PropTypes.func,\n  onKeyDown: PropTypes.func,\n  onKeyPress: PropTypes.func,\n  onKeyUp: PropTypes.func,\n  onLoadContent: PropTypes.func,\n  onMouseDown: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  onMouseOver: PropTypes.func,\n  onMouseUp: PropTypes.func,\n  onNodeChange: PropTypes.func,\n  onObjectResizeStart: PropTypes.func,\n  onObjectResized: PropTypes.func,\n  onObjectSelected: PropTypes.func,\n  onPaste: PropTypes.func,\n  onPostProcess: PropTypes.func,\n  onPostRender: PropTypes.func,\n  onPreProcess: PropTypes.func,\n  onProgressState: PropTypes.func,\n  onRedo: PropTypes.func,\n  onRemove: PropTypes.func,\n  onReset: PropTypes.func,\n  onSaveContent: PropTypes.func,\n  onSelectionChange: PropTypes.func,\n  onSetAttrib: PropTypes.func,\n  onSetContent: PropTypes.func,\n  onShow: PropTypes.func,\n  onSubmit: PropTypes.func,\n  onUndo: PropTypes.func,\n  onVisualAid: PropTypes.func\n};\nexport var EditorPropTypes = __assign({\n  apiKey: PropTypes.string,\n  id: PropTypes.string,\n  inline: PropTypes.bool,\n  init: PropTypes.object,\n  initialValue: PropTypes.string,\n  onEditorChange: PropTypes.func,\n  value: PropTypes.string,\n  tagName: PropTypes.string,\n  cloudChannel: PropTypes.string,\n  plugins: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  toolbar: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  disabled: PropTypes.bool,\n  textareaName: PropTypes.string\n}, eventPropTypes);","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nimport { eventPropTypes } from './components/EditorPropTypes';\nexport var isFunction = function isFunction(x) {\n  return typeof x === 'function';\n};\n\nvar isEventProp = function isEventProp(name) {\n  return name in eventPropTypes;\n};\n\nvar findEventHandlers = function findEventHandlers(props) {\n  return Object.keys(props).filter(isEventProp).filter(function (name) {\n    return isFunction(props[name]);\n  }).map(function (name) {\n    return {\n      handler: props[name],\n      eventName: name.substring(2)\n    };\n  });\n};\n\nexport var bindHandlers = function bindHandlers(editor, props, boundHandlers) {\n  findEventHandlers(props).forEach(function (found) {\n    // Unbind old handler\n    var oldHandler = boundHandlers[found.eventName];\n\n    if (isFunction(oldHandler)) {\n      editor.off(found.eventName, oldHandler);\n    } // Bind new handler\n\n\n    var newHandler = function newHandler(e) {\n      return found.handler(e, editor);\n    };\n\n    boundHandlers[found.eventName] = newHandler;\n    editor.on(found.eventName, newHandler);\n  });\n};\nvar unique = 0;\nexport var uuid = function uuid(prefix) {\n  var date = new Date();\n  var time = date.getTime();\n  var random = Math.floor(Math.random() * 1000000000);\n  unique++;\n  return prefix + '_' + random + unique + String(time);\n};\nexport var isTextarea = function isTextarea(element) {\n  return element !== null && element.tagName.toLowerCase() === 'textarea';\n};\n\nvar normalizePluginArray = function normalizePluginArray(plugins) {\n  if (typeof plugins === 'undefined' || plugins === '') {\n    return [];\n  }\n\n  return Array.isArray(plugins) ? plugins : plugins.split(' ');\n};\n\nexport var mergePlugins = function mergePlugins(initPlugins, inputPlugins) {\n  return normalizePluginArray(initPlugins).concat(normalizePluginArray(inputPlugins));\n};","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport * as ScriptLoader from '../ScriptLoader';\nimport { getTinymce } from '../TinyMCE';\nimport { bindHandlers, isFunction, isTextarea, mergePlugins, uuid } from '../Utils';\nimport { EditorPropTypes } from './EditorPropTypes';\nvar scriptState = ScriptLoader.create();\n\nvar Editor =\n/** @class */\nfunction (_super) {\n  __extends(Editor, _super);\n\n  function Editor(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.initialise = function () {\n      var finalInit = __assign({}, _this.props.init, {\n        target: _this.elementRef.current,\n        readonly: _this.props.disabled,\n        inline: _this.inline,\n        plugins: mergePlugins(_this.props.init && _this.props.init.plugins, _this.props.plugins),\n        toolbar: _this.props.toolbar || _this.props.init && _this.props.init.toolbar,\n        setup: function setup(editor) {\n          _this.editor = editor;\n          editor.on('init', function (e) {\n            _this.initEditor(e, editor);\n          });\n\n          if (_this.props.init && typeof _this.props.init.setup === 'function') {\n            _this.props.init.setup(editor);\n          }\n        }\n      });\n\n      if (isTextarea(_this.elementRef.current)) {\n        _this.elementRef.current.style.visibility = '';\n      }\n\n      getTinymce().init(finalInit);\n    };\n\n    _this.id = _this.props.id || uuid('tiny-react');\n    _this.elementRef = React.createRef();\n    _this.inline = _this.props.inline ? _this.props.inline : _this.props.init && _this.props.init.inline;\n    _this.boundHandlers = {};\n    return _this;\n  }\n\n  Editor.prototype.componentDidUpdate = function (prevProps) {\n    if (this.editor && this.editor.initialized) {\n      bindHandlers(this.editor, this.props, this.boundHandlers);\n      this.currentContent = this.currentContent || this.editor.getContent();\n\n      if (typeof this.props.value === 'string' && this.props.value !== prevProps.value && this.props.value !== this.currentContent) {\n        this.editor.setContent(this.props.value);\n      }\n\n      if (typeof this.props.disabled === 'boolean' && this.props.disabled !== prevProps.disabled) {\n        this.editor.setMode(this.props.disabled ? 'readonly' : 'design');\n      }\n    }\n  };\n\n  Editor.prototype.componentDidMount = function () {\n    if (getTinymce() !== null) {\n      this.initialise();\n    } else if (this.elementRef.current && this.elementRef.current.ownerDocument) {\n      var doc = this.elementRef.current.ownerDocument;\n      var channel = this.props.cloudChannel;\n      var apiKey = this.props.apiKey ? this.props.apiKey : 'no-api-key';\n      ScriptLoader.load(scriptState, doc, \"https://cdn.tiny.cloud/1/\" + apiKey + \"/tinymce/\" + channel + \"/tinymce.min.js\", this.initialise);\n    }\n  };\n\n  Editor.prototype.componentWillUnmount = function () {\n    if (getTinymce() !== null) {\n      getTinymce().remove(this.editor);\n    }\n  };\n\n  Editor.prototype.render = function () {\n    return this.inline ? this.renderInline() : this.renderIframe();\n  };\n\n  Editor.prototype.initEditor = function (initEvent, editor) {\n    var _this = this;\n\n    var value = typeof this.props.value === 'string' ? this.props.value : typeof this.props.initialValue === 'string' ? this.props.initialValue : '';\n    editor.setContent(value);\n\n    if (isFunction(this.props.onEditorChange)) {\n      editor.on('change keyup setcontent', function (e) {\n        var newContent = editor.getContent();\n\n        if (newContent !== _this.currentContent) {\n          _this.currentContent = newContent;\n\n          if (isFunction(_this.props.onEditorChange)) {\n            _this.props.onEditorChange(_this.currentContent, editor);\n          }\n        }\n      });\n    }\n\n    if (isFunction(this.props.onInit)) {\n      this.props.onInit(initEvent, editor);\n    }\n\n    bindHandlers(editor, this.props, this.boundHandlers);\n  };\n\n  Editor.prototype.renderInline = function () {\n    var _a = this.props.tagName,\n        tagName = _a === void 0 ? 'div' : _a;\n    return React.createElement(tagName, {\n      ref: this.elementRef,\n      id: this.id\n    });\n  };\n\n  Editor.prototype.renderIframe = function () {\n    return React.createElement('textarea', {\n      ref: this.elementRef,\n      style: {\n        visibility: 'hidden'\n      },\n      name: this.props.textareaName,\n      id: this.id\n    });\n  };\n\n  Editor.propTypes = EditorPropTypes;\n  Editor.defaultProps = {\n    cloudChannel: '5'\n  };\n  return Editor;\n}(React.Component);\n\nexport { Editor };","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nimport { uuid } from './Utils';\n\nvar injectScriptTag = function injectScriptTag(scriptId, doc, url, callback) {\n  var scriptTag = doc.createElement('script');\n  scriptTag.referrerPolicy = 'origin';\n  scriptTag.type = 'application/javascript';\n  scriptTag.id = scriptId;\n  scriptTag.addEventListener('load', callback);\n  scriptTag.src = url;\n\n  if (doc.head) {\n    doc.head.appendChild(scriptTag);\n  }\n};\n\nexport var create = function create() {\n  return {\n    listeners: [],\n    scriptId: uuid('tiny-script'),\n    scriptLoaded: false\n  };\n};\nexport var load = function load(state, doc, url, callback) {\n  if (state.scriptLoaded) {\n    callback();\n  } else {\n    state.listeners.push(callback);\n\n    if (!doc.getElementById(state.scriptId)) {\n      injectScriptTag(state.scriptId, doc, url, function () {\n        state.listeners.forEach(function (fn) {\n          return fn();\n        });\n        state.scriptLoaded = true;\n      });\n    }\n  }\n};","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nimport { Editor } from './components/Editor';\nexport { Editor };","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n// This is CodeMirror (https://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : global.CodeMirror = factory();\n})(this, function () {\n  'use strict'; // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = !edge && /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n  var ios = !edge && /AppleWebKit/.test(userAgent) && /Mobile\\/\\w+/.test(userAgent);\n  var android = /Android/.test(userAgent); // This is woefully incomplete. Suggestions for alternative methods welcome.\n\n  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n\n  if (presto_version) {\n    presto_version = Number(presto_version[1]);\n  }\n\n  if (presto_version && presto_version >= 15) {\n    presto = false;\n    webkit = true;\n  } // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n\n\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || ie && ie_version >= 9;\n\n  function classTest(cls) {\n    return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\");\n  }\n\n  var rmClass = function rmClass(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count) {\n      e.removeChild(e.firstChild);\n    }\n\n    return e;\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e);\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n\n    if (className) {\n      e.className = className;\n    }\n\n    if (style) {\n      e.style.cssText = style;\n    }\n\n    if (typeof content == \"string\") {\n      e.appendChild(document.createTextNode(content));\n    } else if (content) {\n      for (var i = 0; i < content.length; ++i) {\n        e.appendChild(content[i]);\n      }\n    }\n\n    return e;\n  } // wrapper for elt, which removes the elt from the accessibility tree\n\n\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e;\n  }\n\n  var range;\n\n  if (document.createRange) {\n    range = function range(node, start, end, endNode) {\n      var r = document.createRange();\n      r.setEnd(endNode || node, end);\n      r.setStart(node, start);\n      return r;\n    };\n  } else {\n    range = function range(node, start, end) {\n      var r = document.body.createTextRange();\n\n      try {\n        r.moveToElementText(node.parentNode);\n      } catch (e) {\n        return r;\n      }\n\n      r.collapse(true);\n      r.moveEnd(\"character\", end);\n      r.moveStart(\"character\", start);\n      return r;\n    };\n  }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      {\n        child = child.parentNode;\n      }\n\n    if (parent.contains) {\n      return parent.contains(child);\n    }\n\n    do {\n      if (child.nodeType == 11) {\n        child = child.host;\n      }\n\n      if (child == parent) {\n        return true;\n      }\n    } while (child = child.parentNode);\n  }\n\n  function activeElt() {\n    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n\n    try {\n      activeElement = document.activeElement;\n    } catch (e) {\n      activeElement = document.body || null;\n    }\n\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement) {\n      activeElement = activeElement.shadowRoot.activeElement;\n    }\n\n    return activeElement;\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n\n    if (!classTest(cls).test(current)) {\n      node.className += (current ? \" \" : \"\") + cls;\n    }\n  }\n\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n\n    for (var i = 0; i < as.length; i++) {\n      if (as[i] && !classTest(as[i]).test(b)) {\n        b += \" \" + as[i];\n      }\n    }\n\n    return b;\n  }\n\n  var selectInput = function selectInput(node) {\n    node.select();\n  };\n\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    {\n      selectInput = function selectInput(node) {\n        node.selectionStart = 0;\n        node.selectionEnd = node.value.length;\n      };\n    } else if (ie) // Suppress mysterious IE10 errors\n    {\n      selectInput = function selectInput(node) {\n        try {\n          node.select();\n        } catch (_e) {}\n      };\n    }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function () {\n      return f.apply(null, args);\n    };\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) {\n      target = {};\n    }\n\n    for (var prop in obj) {\n      if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop))) {\n        target[prop] = obj[prop];\n      }\n    }\n\n    return target;\n  } // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n\n\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n\n      if (end == -1) {\n        end = string.length;\n      }\n    }\n\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n\n      if (nextTab < 0 || nextTab >= end) {\n        return n + (end - i);\n      }\n\n      n += nextTab - i;\n      n += tabSize - n % tabSize;\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function Delayed() {\n    this.id = null;\n  };\n\n  Delayed.prototype.set = function (ms, f) {\n    clearTimeout(this.id);\n    this.id = setTimeout(f, ms);\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i) {\n      if (array[i] == elt) {\n        return i;\n      }\n    }\n\n    return -1;\n  } // Number of pixels added to scroller and sizer to hide scrollbar\n\n\n  var scrollerGap = 30; // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n\n  var Pass = {\n    toString: function toString() {\n      return \"CodeMirror.Pass\";\n    }\n  }; // Reused option objects for setSelection & friends\n\n  var sel_dontScroll = {\n    scroll: false\n  },\n      sel_mouse = {\n    origin: \"*mouse\"\n  },\n      sel_move = {\n    origin: \"+move\"\n  }; // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n\n      if (nextTab == -1) {\n        nextTab = string.length;\n      }\n\n      var skipped = nextTab - pos;\n\n      if (nextTab == string.length || col + skipped >= goal) {\n        return pos + Math.min(skipped, goal - col);\n      }\n\n      col += nextTab - pos;\n      col += tabSize - col % tabSize;\n      pos = nextTab + 1;\n\n      if (col >= goal) {\n        return pos;\n      }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n\n  function spaceStr(n) {\n    while (spaceStrs.length <= n) {\n      spaceStrs.push(lst(spaceStrs) + \" \");\n    }\n\n    return spaceStrs[n];\n  }\n\n  function lst(arr) {\n    return arr[arr.length - 1];\n  }\n\n  function map(array, f) {\n    var out = [];\n\n    for (var i = 0; i < array.length; i++) {\n      out[i] = f(array[i], i);\n    }\n\n    return out;\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0,\n        priority = score(value);\n\n    while (pos < array.length && score(array[pos]) <= priority) {\n      pos++;\n    }\n\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n\n    if (props) {\n      copyObj(props, inst);\n    }\n\n    return inst;\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n\n  function isWordCharBasic(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" && (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch));\n  }\n\n  function isWordChar(ch, helper) {\n    if (!helper) {\n      return isWordCharBasic(ch);\n    }\n\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) {\n      return true;\n    }\n\n    return helper.test(ch);\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) {\n      if (obj.hasOwnProperty(n) && obj[n]) {\n        return false;\n      }\n    }\n\n    return true;\n  } // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n\n\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n\n  function isExtendingChar(ch) {\n    return ch.charCodeAt(0) >= 768 && extendingChars.test(ch);\n  } // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n\n\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) {\n      pos += dir;\n    }\n\n    return pos;\n  } // Returns the value from the range [`from`; `to`] that satisfies\n  // `pred` and is closest to `from`. Assumes that at least `to`\n  // satisfies `pred`. Supports `from` being greater than `to`.\n\n\n  function findFirst(pred, from, to) {\n    // At any point we are certain `to` satisfies `pred`, don't know\n    // whether `from` does.\n    var dir = from > to ? -1 : 1;\n\n    for (;;) {\n      if (from == to) {\n        return from;\n      }\n\n      var midF = (from + to) / 2,\n          mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n\n      if (mid == from) {\n        return pred(mid) ? from : to;\n      }\n\n      if (pred(mid)) {\n        to = mid;\n      } else {\n        from = mid + dir;\n      }\n    }\n  } // BIDI HELPERS\n\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) {\n      return f(from, to, \"ltr\", 0);\n    }\n\n    var found = false;\n\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n\n    if (!found) {\n      f(from, to, \"ltr\");\n    }\n  }\n\n  var bidiOther = null;\n\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n\n      if (cur.from < ch && cur.to > ch) {\n        return i;\n      }\n\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") {\n          found = i;\n        } else {\n          bidiOther = i;\n        }\n      }\n\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") {\n          found = i;\n        } else {\n          bidiOther = i;\n        }\n      }\n    }\n\n    return found != null ? found : bidiOther;\n  } // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n\n\n  var bidiOrdering = function () {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\"; // Character types for codepoints 0x600 to 0x6f9\n\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n\n    function charType(code) {\n      if (code <= 0xf7) {\n        return lowTypes.charAt(code);\n      } else if (0x590 <= code && code <= 0x5f4) {\n        return \"R\";\n      } else if (0x600 <= code && code <= 0x6f9) {\n        return arabicTypes.charAt(code - 0x600);\n      } else if (0x6ee <= code && code <= 0x8ac) {\n        return \"r\";\n      } else if (0x2000 <= code && code <= 0x200b) {\n        return \"w\";\n      } else if (code == 0x200c) {\n        return \"b\";\n      } else {\n        return \"L\";\n      }\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/,\n        isStrong = /[LRr]/,\n        countsAsLeft = /[Lb1n]/,\n        countsAsNum = /[1n]/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from;\n      this.to = to;\n    }\n\n    return function (str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) {\n        return false;\n      }\n\n      var len = str.length,\n          types = [];\n\n      for (var i = 0; i < len; ++i) {\n        types.push(charType(str.charCodeAt(i)));\n      } // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n\n\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n\n        if (type == \"m\") {\n          types[i$1] = prev;\n        } else {\n          prev = type;\n        }\n      } // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n\n\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n\n        if (type$1 == \"1\" && cur == \"r\") {\n          types[i$2] = \"n\";\n        } else if (isStrong.test(type$1)) {\n          cur = type$1;\n\n          if (type$1 == \"r\") {\n            types[i$2] = \"R\";\n          }\n        }\n      } // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n\n\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3 + 1] == \"1\") {\n          types[i$3] = \"1\";\n        } else if (type$2 == \",\" && prev$1 == types[i$3 + 1] && (prev$1 == \"1\" || prev$1 == \"n\")) {\n          types[i$3] = prev$1;\n        }\n\n        prev$1 = type$2;\n      } // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n\n\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n\n        if (type$3 == \",\") {\n          types[i$4] = \"N\";\n        } else if (type$3 == \"%\") {\n          var end = void 0;\n\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n\n          var replace = i$4 && types[i$4 - 1] == \"!\" || end < len && types[end] == \"1\" ? \"1\" : \"N\";\n\n          for (var j = i$4; j < end; ++j) {\n            types[j] = replace;\n          }\n\n          i$4 = end - 1;\n        }\n      } // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n\n\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n\n        if (cur$1 == \"L\" && type$4 == \"1\") {\n          types[i$5] = \"L\";\n        } else if (isStrong.test(type$4)) {\n          cur$1 = type$4;\n        }\n      } // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n\n\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = void 0;\n\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n\n          var before = (i$6 ? types[i$6 - 1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? before ? \"L\" : \"R\" : outerType;\n\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) {\n            types[j$1] = replace$1;\n          }\n\n          i$6 = end$1 - 1;\n        }\n      } // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n\n\n      var order = [],\n          m;\n\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7,\n              at = order.length;\n\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) {\n                order.splice(at, 0, new BidiSpan(1, pos, j$2));\n              }\n\n              var nstart = j$2;\n\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              pos = j$2;\n            } else {\n              ++j$2;\n            }\n          }\n\n          if (pos < i$7) {\n            order.splice(at, 0, new BidiSpan(1, pos, i$7));\n          }\n        }\n      }\n\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n\n        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order;\n    };\n  }(); // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n\n\n  function getOrder(line, direction) {\n    var order = line.order;\n\n    if (order == null) {\n      order = line.order = bidiOrdering(line.text, direction);\n    }\n\n    return order;\n  } // EVENT HANDLING\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n\n  var noHandlers = [];\n\n  var on = function on(emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map$$1 = emitter._handlers || (emitter._handlers = {});\n      map$$1[type] = (map$$1[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers;\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map$$1 = emitter._handlers,\n          arr = map$$1 && map$$1[type];\n\n      if (arr) {\n        var index = indexOf(arr, f);\n\n        if (index > -1) {\n          map$$1[type] = arr.slice(0, index).concat(arr.slice(index + 1));\n        }\n      }\n    }\n  }\n\n  function signal(emitter, type\n  /*, values...*/\n  ) {\n    var handlers = getHandlers(emitter, type);\n\n    if (!handlers.length) {\n      return;\n    }\n\n    var args = Array.prototype.slice.call(arguments, 2);\n\n    for (var i = 0; i < handlers.length; ++i) {\n      handlers[i].apply(null, args);\n    }\n  } // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n\n\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\") {\n      e = {\n        type: e,\n        preventDefault: function preventDefault() {\n          this.defaultPrevented = true;\n        }\n      };\n    }\n\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore;\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n\n    if (!arr) {\n      return;\n    }\n\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n\n    for (var i = 0; i < arr.length; ++i) {\n      if (indexOf(set, arr[i]) == -1) {\n        set.push(arr[i]);\n      }\n    }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0;\n  } // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n\n\n  function eventMixin(ctor) {\n    ctor.prototype.on = function (type, f) {\n      on(this, type, f);\n    };\n\n    ctor.prototype.off = function (type, f) {\n      off(this, type, f);\n    };\n  } // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) {\n      e.preventDefault();\n    } else {\n      e.returnValue = false;\n    }\n  }\n\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    } else {\n      e.cancelBubble = true;\n    }\n  }\n\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false;\n  }\n\n  function e_stop(e) {\n    e_preventDefault(e);\n    e_stopPropagation(e);\n  }\n\n  function e_target(e) {\n    return e.target || e.srcElement;\n  }\n\n  function e_button(e) {\n    var b = e.which;\n\n    if (b == null) {\n      if (e.button & 1) {\n        b = 1;\n      } else if (e.button & 2) {\n        b = 3;\n      } else if (e.button & 4) {\n        b = 2;\n      }\n    }\n\n    if (mac && e.ctrlKey && b == 1) {\n      b = 3;\n    }\n\n    return b;\n  } // Detect drag-and-drop\n\n\n  var dragAndDrop = function () {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) {\n      return false;\n    }\n\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div;\n  }();\n\n  var zwspSupported;\n\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200B\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n\n      if (measure.firstChild.offsetHeight != 0) {\n        zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8);\n      }\n    }\n\n    var node = zwspSupported ? elt(\"span\", \"\\u200B\") : elt(\"span\", \"\\xA0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node;\n  } // Feature-detect IE's crummy client rect reporting for bidi text\n\n\n  var badBidiRects;\n\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) {\n      return badBidiRects;\n    }\n\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062EA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n\n    if (!r0 || r0.left == r0.right) {\n      return false;\n    } // Safari returns null in some cases (#2780)\n\n\n    return badBidiRects = r1.right - r0.right < 3;\n  } // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n\n\n  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n    var pos = 0,\n        result = [],\n        l = string.length;\n\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n\n      if (nl == -1) {\n        nl = string.length;\n      }\n\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n\n    return result;\n  } : function (string) {\n    return string.split(/\\r\\n?|\\n/);\n  };\n  var hasSelection = window.getSelection ? function (te) {\n    try {\n      return te.selectionStart != te.selectionEnd;\n    } catch (e) {\n      return false;\n    }\n  } : function (te) {\n    var range$$1;\n\n    try {\n      range$$1 = te.ownerDocument.selection.createRange();\n    } catch (e) {}\n\n    if (!range$$1 || range$$1.parentElement() != te) {\n      return false;\n    }\n\n    return range$$1.compareEndPoints(\"StartToEnd\", range$$1) != 0;\n  };\n\n  var hasCopyEvent = function () {\n    var e = elt(\"div\");\n\n    if (\"oncopy\" in e) {\n      return true;\n    }\n\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\";\n  }();\n\n  var badZoomedRects = null;\n\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) {\n      return badZoomedRects;\n    }\n\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1;\n  } // Known modes, by name and by MIME\n\n\n  var modes = {},\n      mimeModes = {}; // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n\n  function defineMode(name, mode) {\n    if (arguments.length > 2) {\n      mode.dependencies = Array.prototype.slice.call(arguments, 2);\n    }\n\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  } // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n\n\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n\n      if (typeof found == \"string\") {\n        found = {\n          name: found\n        };\n      }\n\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return resolveMode(\"application/xml\");\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n      return resolveMode(\"application/json\");\n    }\n\n    if (typeof spec == \"string\") {\n      return {\n        name: spec\n      };\n    } else {\n      return spec || {\n        name: \"null\"\n      };\n    }\n  } // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n\n\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n\n    if (!mfactory) {\n      return getMode(options, \"text/plain\");\n    }\n\n    var modeObj = mfactory(options, spec);\n\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) {\n          continue;\n        }\n\n        if (modeObj.hasOwnProperty(prop)) {\n          modeObj[\"_\" + prop] = modeObj[prop];\n        }\n\n        modeObj[prop] = exts[prop];\n      }\n    }\n\n    modeObj.name = spec.name;\n\n    if (spec.helperType) {\n      modeObj.helperType = spec.helperType;\n    }\n\n    if (spec.modeProps) {\n      for (var prop$1 in spec.modeProps) {\n        modeObj[prop$1] = spec.modeProps[prop$1];\n      }\n    }\n\n    return modeObj;\n  } // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n\n\n  var modeExtensions = {};\n\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : modeExtensions[mode] = {};\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) {\n      return state;\n    }\n\n    if (mode.copyState) {\n      return mode.copyState(state);\n    }\n\n    var nstate = {};\n\n    for (var n in state) {\n      var val = state[n];\n\n      if (val instanceof Array) {\n        val = val.concat([]);\n      }\n\n      nstate[n] = val;\n    }\n\n    return nstate;\n  } // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n\n\n  function innerMode(mode, state) {\n    var info;\n\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n\n      if (!info || info.mode == mode) {\n        break;\n      }\n\n      state = info.state;\n      mode = info.mode;\n    }\n\n    return info || {\n      mode: mode,\n      state: state\n    };\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true;\n  } // STRING STREAM\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n\n  var StringStream = function StringStream(string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {\n    return this.pos >= this.string.length;\n  };\n\n  StringStream.prototype.sol = function () {\n    return this.pos == this.lineStart;\n  };\n\n  StringStream.prototype.peek = function () {\n    return this.string.charAt(this.pos) || undefined;\n  };\n\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length) {\n      return this.string.charAt(this.pos++);\n    }\n  };\n\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n\n    if (typeof match == \"string\") {\n      ok = ch == match;\n    } else {\n      ok = ch && (match.test ? match.test(ch) : match(ch));\n    }\n\n    if (ok) {\n      ++this.pos;\n      return ch;\n    }\n  };\n\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n\n    while (this.eat(match)) {}\n\n    return this.pos > start;\n  };\n\n  StringStream.prototype.eatSpace = function () {\n    var this$1 = this;\n    var start = this.pos;\n\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) {\n      ++this$1.pos;\n    }\n\n    return this.pos > start;\n  };\n\n  StringStream.prototype.skipToEnd = function () {\n    this.pos = this.string.length;\n  };\n\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n\n    if (found > -1) {\n      this.pos = found;\n      return true;\n    }\n  };\n\n  StringStream.prototype.backUp = function (n) {\n    this.pos -= n;\n  };\n\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0);\n  };\n\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0);\n  };\n\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function cased(str) {\n        return caseInsensitive ? str.toLowerCase() : str;\n      };\n\n      var substr = this.string.substr(this.pos, pattern.length);\n\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) {\n          this.pos += pattern.length;\n        }\n\n        return true;\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n\n      if (match && match.index > 0) {\n        return null;\n      }\n\n      if (match && consume !== false) {\n        this.pos += match[0].length;\n      }\n\n      return match;\n    }\n  };\n\n  StringStream.prototype.current = function () {\n    return this.string.slice(this.start, this.pos);\n  };\n\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n\n    try {\n      return inner();\n    } finally {\n      this.lineStart -= n;\n    }\n  };\n\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n);\n  };\n\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos);\n  }; // Find the line object corresponding to the given line number.\n\n\n  function getLine(doc, n) {\n    n -= doc.first;\n\n    if (n < 0 || n >= doc.size) {\n      throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\");\n    }\n\n    var chunk = doc;\n\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i],\n            sz = child.chunkSize();\n\n        if (n < sz) {\n          chunk = child;\n          break;\n        }\n\n        n -= sz;\n      }\n    }\n\n    return chunk.lines[n];\n  } // Get the part of a document between two positions, as an array of\n  // strings.\n\n\n  function getBetween(doc, start, end) {\n    var out = [],\n        n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n\n      if (n == end.line) {\n        text = text.slice(0, end.ch);\n      }\n\n      if (n == start.line) {\n        text = text.slice(start.ch);\n      }\n\n      out.push(text);\n      ++n;\n    });\n    return out;\n  } // Get the lines between from and to, as array of strings.\n\n\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) {\n      out.push(line.text);\n    }); // iter aborts when callback returns truthy value\n\n    return out;\n  } // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n\n\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n\n    if (diff) {\n      for (var n = line; n; n = n.parent) {\n        n.height += diff;\n      }\n    }\n  } // Given a line object, find its line number by walking up through\n  // its parent links.\n\n\n  function lineNo(line) {\n    if (line.parent == null) {\n      return null;\n    }\n\n    var cur = line.parent,\n        no = indexOf(cur.lines, line);\n\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) {\n          break;\n        }\n\n        no += chunk.children[i].chunkSize();\n      }\n    }\n\n    return no + cur.first;\n  } // Find the line at the given vertical position, using the height\n  // information in the document tree.\n\n\n  function _lineAtHeight(chunk, h) {\n    var n = chunk.first;\n\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1],\n            ch = child.height;\n\n        if (h < ch) {\n          chunk = child;\n          continue outer;\n        }\n\n        h -= ch;\n        n += child.chunkSize();\n      }\n\n      return n;\n    } while (!chunk.lines);\n\n    var i = 0;\n\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i],\n          lh = line.height;\n\n      if (h < lh) {\n        break;\n      }\n\n      h -= lh;\n    }\n\n    return n + i;\n  }\n\n  function isLine(doc, l) {\n    return l >= doc.first && l < doc.first + doc.size;\n  }\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber));\n  } // A Pos instance represents a position within the text.\n\n\n  function Pos(line, ch, sticky) {\n    if (sticky === void 0) sticky = null;\n\n    if (!(this instanceof Pos)) {\n      return new Pos(line, ch, sticky);\n    }\n\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  } // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n\n\n  function cmp(a, b) {\n    return a.line - b.line || a.ch - b.ch;\n  }\n\n  function equalCursorPos(a, b) {\n    return a.sticky == b.sticky && cmp(a, b) == 0;\n  }\n\n  function copyPos(x) {\n    return Pos(x.line, x.ch);\n  }\n\n  function maxPos(a, b) {\n    return cmp(a, b) < 0 ? b : a;\n  }\n\n  function minPos(a, b) {\n    return cmp(a, b) < 0 ? a : b;\n  } // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n\n\n  function clipLine(doc, n) {\n    return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1));\n  }\n\n  function _clipPos(doc, pos) {\n    if (pos.line < doc.first) {\n      return Pos(doc.first, 0);\n    }\n\n    var last = doc.first + doc.size - 1;\n\n    if (pos.line > last) {\n      return Pos(last, getLine(doc, last).text.length);\n    }\n\n    return clipToLen(pos, getLine(doc, pos.line).text.length);\n  }\n\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n\n    if (ch == null || ch > linelen) {\n      return Pos(pos.line, linelen);\n    } else if (ch < 0) {\n      return Pos(pos.line, 0);\n    } else {\n      return pos;\n    }\n  }\n\n  function clipPosArray(doc, array) {\n    var out = [];\n\n    for (var i = 0; i < array.length; i++) {\n      out[i] = _clipPos(doc, array[i]);\n    }\n\n    return out;\n  }\n\n  var SavedContext = function SavedContext(state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function Context(doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n\n    if (line != null && n > this.maxLookAhead) {\n      this.maxLookAhead = n;\n    }\n\n    return line;\n  };\n\n  Context.prototype.baseToken = function (n) {\n    var this$1 = this;\n\n    if (!this.baseTokens) {\n      return null;\n    }\n\n    while (this.baseTokens[this.baseTokenPos] <= n) {\n      this$1.baseTokenPos += 2;\n    }\n\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {\n      type: type && type.replace(/( |^)overlay .*/, \"\"),\n      size: this.baseTokens[this.baseTokenPos] - n\n    };\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n\n    if (this.maxLookAhead > 0) {\n      this.maxLookAhead--;\n    }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext) {\n      return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead);\n    } else {\n      return new Context(doc, copyState(doc.mode, saved), line);\n    }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state;\n  }; // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n\n\n  function highlightLine(cm, line, context, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen],\n        lineClasses = {}; // Compute the base array of styles\n\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) {\n      return st.push(end, style);\n    }, lineClasses, forceToEnd);\n    var state = context.state; // Run overlays, adjust style array.\n\n    var loop = function loop(o) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o],\n          i = 1,\n          at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i; // Ensure there's a token end at the current position, and that i points at it\n\n        while (at < end) {\n          var i_end = st[i];\n\n          if (i_end > end) {\n            st.splice(i, 1, end, st[i + 1], i_end);\n          }\n\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n\n        if (!style) {\n          return;\n        }\n\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start + 1];\n            st[start + 1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) {\n      loop(o);\n    }\n\n    return {\n      styles: st,\n      classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null\n    };\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n\n      if (resetState) {\n        context.state = resetState;\n      }\n\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n\n      if (result.classes) {\n        line.styleClasses = result.classes;\n      } else if (line.styleClasses) {\n        line.styleClasses = null;\n      }\n\n      if (updateFrontier === cm.doc.highlightFrontier) {\n        cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier);\n      }\n    }\n\n    return line.styles;\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc,\n        display = cm.display;\n\n    if (!doc.mode.startState) {\n      return new Context(doc, true, n);\n    }\n\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n\n    if (precise) {\n      doc.modeFrontier = context.line;\n    }\n\n    return context;\n  } // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n\n\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n\n    if (text == \"\") {\n      callBlankLine(mode, context.state);\n    }\n\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) {\n      return mode.blankLine(state);\n    }\n\n    if (!mode.innerMode) {\n      return;\n    }\n\n    var inner = innerMode(mode, state);\n\n    if (inner.mode.blankLine) {\n      return inner.mode.blankLine(inner.state);\n    }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) {\n        inner[0] = innerMode(mode, state).mode;\n      }\n\n      var style = mode.token(stream, state);\n\n      if (stream.pos > stream.start) {\n        return style;\n      }\n    }\n\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\");\n  }\n\n  var Token = function Token(stream, type, state) {\n    this.start = stream.start;\n    this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  }; // Utility for getTokenAt and getLineTokens\n\n\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc,\n        mode = doc.mode,\n        style;\n    pos = _clipPos(doc, pos);\n    var line = getLine(doc, pos.line),\n        context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context),\n        tokens;\n\n    if (asArray) {\n      tokens = [];\n    }\n\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n\n      if (asArray) {\n        tokens.push(new Token(stream, style, copyState(doc.mode, context.state)));\n      }\n    }\n\n    return asArray ? tokens : new Token(stream, style, context.state);\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) {\n      for (;;) {\n        var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n\n        if (!lineClass) {\n          break;\n        }\n\n        type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n        var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n\n        if (output[prop] == null) {\n          output[prop] = lineClass[2];\n        } else if (!new RegExp(\"(?:^|\\s)\" + lineClass[2] + \"(?:$|\\s)\").test(output[prop])) {\n          output[prop] += \" \" + lineClass[2];\n        }\n      }\n    }\n\n    return type;\n  } // Run the given mode's parser over a line, calling f for each token.\n\n\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n\n    if (flattenSpans == null) {\n      flattenSpans = cm.options.flattenSpans;\n    }\n\n    var curStart = 0,\n        curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context),\n        style;\n    var inner = cm.options.addModeClass && [null];\n\n    if (text == \"\") {\n      extractLineClasses(callBlankLine(mode, context.state), lineClasses);\n    }\n\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n\n        if (forceToEnd) {\n          processLine(cm, text, context, stream.pos);\n        }\n\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n\n      if (inner) {\n        var mName = inner[0].name;\n\n        if (mName) {\n          style = \"m-\" + (style ? mName + \" \" + style : mName);\n        }\n      }\n\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n\n        curStyle = style;\n      }\n\n      stream.start = stream.pos;\n    }\n\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444\n      // characters, and returns inaccurate measurements in nodes\n      // starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  } // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n\n\n  function findStartLine(cm, n, precise) {\n    var minindent,\n        minline,\n        doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) {\n        return doc.first;\n      }\n\n      var line = getLine(doc, search - 1),\n          after = line.stateAfter;\n\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier)) {\n        return search;\n      }\n\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n\n    return minline;\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n\n    if (doc.highlightFrontier < n - 10) {\n      return;\n    }\n\n    var start = doc.first;\n\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter; // change is on 3\n      // state on line 1 looked ahead 2 -- so saw 3\n      // test 1 + 2 < 3 should cover this\n\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break;\n      }\n    }\n\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  } // Optimize some code when these features are not used.\n\n\n  var sawReadOnlySpans = false,\n      sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  } // TEXTMARKER SPANS\n\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from;\n    this.to = to;\n  } // Search an array of spans for a span matching the given marker.\n\n\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) {\n      for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n\n        if (span.marker == marker) {\n          return span;\n        }\n      }\n    }\n  } // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n\n\n  function removeMarkedSpan(spans, span) {\n    var r;\n\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i] != span) {\n        (r || (r = [])).push(spans[i]);\n      }\n    }\n\n    return r;\n  } // Add a span to a line.\n\n\n  function addMarkedSpan(line, span) {\n    line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n    span.marker.attachLine(line);\n  } // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n\n\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n\n    if (old) {\n      for (var i = 0; i < old.length; ++i) {\n        var span = old[i],\n            marker = span.marker;\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n\n        if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n          var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh);\n          (nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n        }\n      }\n    }\n\n    return nw;\n  }\n\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n\n    if (old) {\n      for (var i = 0; i < old.length; ++i) {\n        var span = old[i],\n            marker = span.marker;\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n\n        if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n          var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh);\n          (nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh, span.to == null ? null : span.to - endCh));\n        }\n      }\n    }\n\n    return nw;\n  } // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n\n\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) {\n      return null;\n    }\n\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n\n    if (!oldFirst && !oldLast) {\n      return null;\n    }\n\n    var startCh = change.from.ch,\n        endCh = change.to.ch,\n        isInsert = cmp(change.from, change.to) == 0; // Get the spans that 'stick out' on both sides\n\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert); // Next, merge those two ends\n\n    var sameLine = change.text.length == 1,\n        offset = lst(change.text).length + (sameLine ? startCh : 0);\n\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n\n          if (!found) {\n            span.to = startCh;\n          } else if (sameLine) {\n            span.to = found.to == null ? null : found.to + offset;\n          }\n        }\n      }\n    }\n\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n\n        if (span$1.to != null) {\n          span$1.to += offset;\n        }\n\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n\n          if (!found$1) {\n            span$1.from = offset;\n\n            if (sameLine) {\n              (first || (first = [])).push(span$1);\n            }\n          }\n        } else {\n          span$1.from += offset;\n\n          if (sameLine) {\n            (first || (first = [])).push(span$1);\n          }\n        }\n      }\n    } // Make sure we didn't create any zero-length spans\n\n\n    if (first) {\n      first = clearEmptySpans(first);\n    }\n\n    if (last && last != first) {\n      last = clearEmptySpans(last);\n    }\n\n    var newMarkers = [first];\n\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2,\n          gapMarkers;\n\n      if (gap > 0 && first) {\n        for (var i$2 = 0; i$2 < first.length; ++i$2) {\n          if (first[i$2].to == null) {\n            (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null));\n          }\n        }\n      }\n\n      for (var i$3 = 0; i$3 < gap; ++i$3) {\n        newMarkers.push(gapMarkers);\n      }\n\n      newMarkers.push(last);\n    }\n\n    return newMarkers;\n  } // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n\n\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false) {\n        spans.splice(i--, 1);\n      }\n    }\n\n    if (!spans.length) {\n      return null;\n    }\n\n    return spans;\n  } // Used to 'clip' out readOnly ranges when making a change.\n\n\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) {\n        for (var i = 0; i < line.markedSpans.length; ++i) {\n          var mark = line.markedSpans[i].marker;\n\n          if (mark.readOnly && (!markers || indexOf(markers, mark) == -1)) {\n            (markers || (markers = [])).push(mark);\n          }\n        }\n      }\n    });\n\n    if (!markers) {\n      return null;\n    }\n\n    var parts = [{\n      from: from,\n      to: to\n    }];\n\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i],\n          m = mk.find(0);\n\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) {\n          continue;\n        }\n\n        var newParts = [j, 1],\n            dfrom = cmp(p.from, m.from),\n            dto = cmp(p.to, m.to);\n\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom) {\n          newParts.push({\n            from: p.from,\n            to: m.from\n          });\n        }\n\n        if (dto > 0 || !mk.inclusiveRight && !dto) {\n          newParts.push({\n            from: m.to,\n            to: p.to\n          });\n        }\n\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n\n    return parts;\n  } // Connect or disconnect spans from a line.\n\n\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n\n    if (!spans) {\n      return;\n    }\n\n    for (var i = 0; i < spans.length; ++i) {\n      spans[i].marker.detachLine(line);\n    }\n\n    line.markedSpans = null;\n  }\n\n  function attachMarkedSpans(line, spans) {\n    if (!spans) {\n      return;\n    }\n\n    for (var i = 0; i < spans.length; ++i) {\n      spans[i].marker.attachLine(line);\n    }\n\n    line.markedSpans = spans;\n  } // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n\n\n  function extraLeft(marker) {\n    return marker.inclusiveLeft ? -1 : 0;\n  }\n\n  function extraRight(marker) {\n    return marker.inclusiveRight ? 1 : 0;\n  } // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n\n\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n\n    if (lenDiff != 0) {\n      return lenDiff;\n    }\n\n    var aPos = a.find(),\n        bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n\n    if (fromCmp) {\n      return -fromCmp;\n    }\n\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n\n    if (toCmp) {\n      return toCmp;\n    }\n\n    return b.id - a.id;\n  } // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n\n\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans,\n        found;\n\n    if (sps) {\n      for (var sp = void 0, i = 0; i < sps.length; ++i) {\n        sp = sps[i];\n\n        if (sp.marker.collapsed && (start ? sp.from : sp.to) == null && (!found || compareCollapsedMarkers(found, sp.marker) < 0)) {\n          found = sp.marker;\n        }\n      }\n    }\n\n    return found;\n  }\n\n  function collapsedSpanAtStart(line) {\n    return collapsedSpanAtSide(line, true);\n  }\n\n  function collapsedSpanAtEnd(line) {\n    return collapsedSpanAtSide(line, false);\n  }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans,\n        found;\n\n    if (sps) {\n      for (var i = 0; i < sps.length; ++i) {\n        var sp = sps[i];\n\n        if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) && (!found || compareCollapsedMarkers(found, sp.marker) < 0)) {\n          found = sp.marker;\n        }\n      }\n    }\n\n    return found;\n  } // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n\n\n  function conflictingCollapsedRange(doc, lineNo$$1, from, to, marker) {\n    var line = getLine(doc, lineNo$$1);\n    var sps = sawCollapsedSpans && line.markedSpans;\n\n    if (sps) {\n      for (var i = 0; i < sps.length; ++i) {\n        var sp = sps[i];\n\n        if (!sp.marker.collapsed) {\n          continue;\n        }\n\n        var found = sp.marker.find(0);\n        var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n        var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n\n        if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) {\n          continue;\n        }\n\n        if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) || fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0)) {\n          return true;\n        }\n      }\n    }\n  } // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n\n\n  function visualLine(line) {\n    var merged;\n\n    while (merged = collapsedSpanAtStart(line)) {\n      line = merged.find(-1, true).line;\n    }\n\n    return line;\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line;\n    }\n\n    return line;\n  } // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n\n\n  function visualLineContinued(line) {\n    var merged, lines;\n\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line;\n      (lines || (lines = [])).push(line);\n    }\n\n    return lines;\n  } // Get the line number of the start of the visual line that the\n  // given line number is part of.\n\n\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN),\n        vis = visualLine(line);\n\n    if (line == vis) {\n      return lineN;\n    }\n\n    return lineNo(vis);\n  } // Get the line number of the start of the next visual line after\n  // the given line.\n\n\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) {\n      return lineN;\n    }\n\n    var line = getLine(doc, lineN),\n        merged;\n\n    if (!lineIsHidden(doc, line)) {\n      return lineN;\n    }\n\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line;\n    }\n\n    return lineNo(line) + 1;\n  } // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n\n\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n\n    if (sps) {\n      for (var sp = void 0, i = 0; i < sps.length; ++i) {\n        sp = sps[i];\n\n        if (!sp.marker.collapsed) {\n          continue;\n        }\n\n        if (sp.from == null) {\n          return true;\n        }\n\n        if (sp.marker.widgetNode) {\n          continue;\n        }\n\n        if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp)) {\n          return true;\n        }\n      }\n    }\n  }\n\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker));\n    }\n\n    if (span.marker.inclusiveRight && span.to == line.text.length) {\n      return true;\n    }\n\n    for (var sp = void 0, i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to && (sp.to == null || sp.to != span.from) && (sp.marker.inclusiveLeft || span.marker.inclusiveRight) && lineIsHiddenInner(doc, line, sp)) {\n        return true;\n      }\n    }\n  } // Find the height above the given line.\n\n\n  function _heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n    var h = 0,\n        chunk = lineObj.parent;\n\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n\n      if (line == lineObj) {\n        break;\n      } else {\n        h += line.height;\n      }\n    }\n\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n\n        if (cur == chunk) {\n          break;\n        } else {\n          h += cur.height;\n        }\n      }\n    }\n\n    return h;\n  } // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n\n\n  function lineLength(line) {\n    if (line.height == 0) {\n      return 0;\n    }\n\n    var len = line.text.length,\n        merged,\n        cur = line;\n\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n\n    cur = line;\n\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n\n    return len;\n  } // Find the longest line in the document.\n\n\n  function findMaxLine(cm) {\n    var d = cm.display,\n        doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  } // LINE DATA STRUCTURE\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n\n\n  var Line = function Line(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () {\n    return lineNo(this);\n  };\n\n  eventMixin(Line); // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n\n    if (line.stateAfter) {\n      line.stateAfter = null;\n    }\n\n    if (line.styles) {\n      line.styles = null;\n    }\n\n    if (line.order != null) {\n      line.order = null;\n    }\n\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n\n    if (estHeight != line.height) {\n      updateLineHeight(line, estHeight);\n    }\n  } // Detach a line from the document tree and its markers.\n\n\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  } // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n\n\n  var styleToClassCache = {},\n      styleToClassCacheWithMode = {};\n\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) {\n      return null;\n    }\n\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] || (cache[style] = style.replace(/\\S+/g, \"cm-$&\"));\n  } // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n\n\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {\n      pre: eltP(\"pre\", [content], \"CodeMirror-line\"),\n      content: content,\n      col: 0,\n      pos: 0,\n      cm: cm,\n      trailingSpace: false,\n      splitSpaces: cm.getOption(\"lineWrapping\")\n    };\n    lineView.measure = {}; // Iterate over the logical lines that make up this visual line.\n\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line,\n          order = void 0;\n      builder.pos = 0;\n      builder.addToken = buildToken; // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction))) {\n        builder.addToken = buildTokenBadBidi(builder.addToken, order);\n      }\n\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass) {\n          builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\");\n        }\n\n        if (line.styleClasses.textClass) {\n          builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\");\n        }\n      } // Ensure at least a single node is present, for measuring.\n\n\n      if (builder.map.length == 0) {\n        builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure)));\n      } // Store the map and a cache object for the current logical line\n\n\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n        (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map);\n        (lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    } // See issue #2901\n\n\n    if (webkit) {\n      var last = builder.content.lastChild;\n\n      if (/\\bcm-tab\\b/.test(last.className) || last.querySelector && last.querySelector(\".cm-tab\")) {\n        builder.content.className = \"cm-tab-wrap-hack\";\n      }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n\n    if (builder.pre.className) {\n      builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\");\n    }\n\n    return builder;\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token;\n  } // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n\n\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) {\n      return;\n    }\n\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars,\n        mustWrap = false;\n    var content;\n\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n\n      if (ie && ie_version < 9) {\n        mustWrap = true;\n      }\n\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n\n          if (ie && ie_version < 9) {\n            content.appendChild(elt(\"span\", [txt]));\n          } else {\n            content.appendChild(txt);\n          }\n\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n\n        if (!m) {\n          break;\n        }\n\n        pos += skipped + 1;\n        var txt$1 = void 0;\n\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize,\n              tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240D\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n\n          if (ie && ie_version < 9) {\n            content.appendChild(elt(\"span\", [txt$1]));\n          } else {\n            content.appendChild(txt$1);\n          }\n\n          builder.col += 1;\n        }\n\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n\n    if (style || startStyle || endStyle || mustWrap || css) {\n      var fullStyle = style || \"\";\n\n      if (startStyle) {\n        fullStyle += startStyle;\n      }\n\n      if (endStyle) {\n        fullStyle += endStyle;\n      }\n\n      var token = elt(\"span\", [content], fullStyle, css);\n\n      if (attributes) {\n        for (var attr in attributes) {\n          if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\") {\n            token.setAttribute(attr, attributes[attr]);\n          }\n        }\n      }\n\n      return builder.content.appendChild(token);\n    }\n\n    builder.content.appendChild(content);\n  } // Change some spaces to NBSP to prevent the browser from collapsing\n  // trailing spaces at the end of a line when rendering text (issue #1362).\n\n\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) {\n      return text;\n    }\n\n    var spaceBefore = trailingBefore,\n        result = \"\";\n\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32)) {\n        ch = \"\\xA0\";\n      }\n\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n\n    return result;\n  } // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n\n\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos,\n          end = start + text.length;\n\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        var part = void 0;\n\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n\n          if (part.to > start && part.from <= start) {\n            break;\n          }\n        }\n\n        if (part.to >= end) {\n          return inner(builder, text, style, startStyle, endStyle, css, attributes);\n        }\n\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    };\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n\n    if (widget) {\n      builder.map.push(builder.pos, builder.pos + size, widget);\n    }\n\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget) {\n        widget = builder.content.appendChild(document.createElement(\"span\"));\n      }\n\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n\n    builder.pos += size;\n    builder.trailingSpace = false;\n  } // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n\n\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans,\n        allText = line.text,\n        at = 0;\n\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1 += 2) {\n        builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1 + 1], builder.cm.options));\n      }\n\n      return;\n    }\n\n    var len = allText.length,\n        pos = 0,\n        i = 1,\n        text = \"\",\n        style,\n        css;\n    var nextChange = 0,\n        spanStyle,\n        spanEndStyle,\n        spanStartStyle,\n        collapsed,\n        attributes;\n\n    for (;;) {\n      if (nextChange == pos) {\n        // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null;\n        nextChange = Infinity;\n        var foundBookmarks = [],\n            endStyles = void 0;\n\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j],\n              m = sp.marker;\n\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n\n            if (m.className) {\n              spanStyle += \" \" + m.className;\n            }\n\n            if (m.css) {\n              css = (css ? css + \";\" : \"\") + m.css;\n            }\n\n            if (m.startStyle && sp.from == pos) {\n              spanStartStyle += \" \" + m.startStyle;\n            }\n\n            if (m.endStyle && sp.to == nextChange) {\n              (endStyles || (endStyles = [])).push(m.endStyle, sp.to);\n            } // support for the old title property\n            // https://github.com/codemirror/CodeMirror/pull/5673\n\n\n            if (m.title) {\n              (attributes || (attributes = {})).title = m.title;\n            }\n\n            if (m.attributes) {\n              for (var attr in m.attributes) {\n                (attributes || (attributes = {}))[attr] = m.attributes[attr];\n              }\n            }\n\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0)) {\n              collapsed = sp;\n            }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n\n        if (endStyles) {\n          for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2) {\n            if (endStyles[j$1 + 1] == nextChange) {\n              spanEndStyle += \" \" + endStyles[j$1];\n            }\n          }\n        }\n\n        if (!collapsed || collapsed.from == pos) {\n          for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2) {\n            buildCollapsedSpan(builder, 0, foundBookmarks[j$2]);\n          }\n        }\n\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos, collapsed.marker, collapsed.from == null);\n\n          if (collapsed.to == null) {\n            return;\n          }\n\n          if (collapsed.to == pos) {\n            collapsed = false;\n          }\n        }\n      }\n\n      if (pos >= len) {\n        break;\n      }\n\n      var upto = Math.min(len, nextChange);\n\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle, spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n\n          if (end >= upto) {\n            text = text.slice(upto - pos);\n            pos = upto;\n            break;\n          }\n\n          pos = end;\n          spanStartStyle = \"\";\n        }\n\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  } // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n\n\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line; // Continuing lines, if any\n\n    this.rest = visualLineContinued(line); // Number of logical lines in this visual line\n\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  } // Create a range of LineView objects for the given lines.\n\n\n  function buildViewArray(cm, from, to) {\n    var array = [],\n        nextPos;\n\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n\n    return array;\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks,\n        i = 0;\n\n    do {\n      for (; i < callbacks.length; i++) {\n        callbacks[i].call(null);\n      }\n\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n\n        if (op.cursorActivityHandlers) {\n          while (op.cursorActivityCalled < op.cursorActivityHandlers.length) {\n            op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm);\n          }\n        }\n      }\n    } while (i < callbacks.length);\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n\n    if (!group) {\n      return;\n    }\n\n    try {\n      fireCallbacksForOps(group);\n    } finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null; // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n\n  function signalLater(emitter, type\n  /*, values...*/\n  ) {\n    var arr = getHandlers(emitter, type);\n\n    if (!arr.length) {\n      return;\n    }\n\n    var args = Array.prototype.slice.call(arguments, 2),\n        list;\n\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n\n    var loop = function loop(i) {\n      list.push(function () {\n        return arr[i].apply(null, args);\n      });\n    };\n\n    for (var i = 0; i < arr.length; ++i) {\n      loop(i);\n    }\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n\n    for (var i = 0; i < delayed.length; ++i) {\n      delayed[i]();\n    }\n  } // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n\n\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n\n      if (type == \"text\") {\n        updateLineText(cm, lineView);\n      } else if (type == \"gutter\") {\n        updateLineGutter(cm, lineView, lineN, dims);\n      } else if (type == \"class\") {\n        updateLineClasses(cm, lineView);\n      } else if (type == \"widget\") {\n        updateLineWidgets(cm, lineView, dims);\n      }\n    }\n\n    lineView.changes = null;\n  } // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n\n\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n\n      if (lineView.text.parentNode) {\n        lineView.text.parentNode.replaceChild(lineView.node, lineView.text);\n      }\n\n      lineView.node.appendChild(lineView.text);\n\n      if (ie && ie_version < 8) {\n        lineView.node.style.zIndex = 2;\n      }\n    }\n\n    return lineView.node;\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n\n    if (cls) {\n      cls += \" CodeMirror-linebackground\";\n    }\n\n    if (lineView.background) {\n      if (cls) {\n        lineView.background.className = cls;\n      } else {\n        lineView.background.parentNode.removeChild(lineView.background);\n        lineView.background = null;\n      }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  } // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n\n\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built;\n    }\n\n    return buildLineContent(cm, lineView);\n  } // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n\n\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n\n    if (lineView.text == lineView.node) {\n      lineView.node = built.pre;\n    }\n\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n\n    if (lineView.line.wrapClass) {\n      ensureLineWrapped(lineView).className = lineView.line.wrapClass;\n    } else if (lineView.node != lineView.text) {\n      lineView.node.className = \"\";\n    }\n\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass, \"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + dims.gutterTotalWidth + \"px\");\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n\n    var markers = lineView.line.gutterMarkers;\n\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", \"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\");\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n\n      if (lineView.line.gutterClass) {\n        gutterWrap.className += \" \" + lineView.line.gutterClass;\n      }\n\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"])) {\n        lineView.lineNumber = gutterWrap.appendChild(elt(\"div\", lineNumberFor(cm.options, lineN), \"CodeMirror-linenumber CodeMirror-gutter-elt\", \"left: \" + dims.gutterLeft[\"CodeMirror-linenumbers\"] + \"px; width: \" + cm.display.lineNumInnerWidth + \"px\"));\n      }\n\n      if (markers) {\n        for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n          var id = cm.display.gutterSpecs[k].className,\n              found = markers.hasOwnProperty(id) && markers[id];\n\n          if (found) {\n            gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\", \"left: \" + dims.gutterLeft[id] + \"px; width: \" + dims.gutterWidth[id] + \"px\"));\n          }\n        }\n      }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) {\n      lineView.alignable = null;\n    }\n\n    for (var node = lineView.node.firstChild, next = void 0; node; node = next) {\n      next = node.nextSibling;\n\n      if (node.className == \"CodeMirror-linewidget\") {\n        lineView.node.removeChild(node);\n      }\n    }\n\n    insertLineWidgets(cm, lineView, dims);\n  } // Build a line's DOM representation from scratch\n\n\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n\n    if (built.bgClass) {\n      lineView.bgClass = built.bgClass;\n    }\n\n    if (built.textClass) {\n      lineView.textClass = built.textClass;\n    }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node;\n  } // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n\n\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n\n    if (lineView.rest) {\n      for (var i = 0; i < lineView.rest.length; i++) {\n        insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false);\n      }\n    }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) {\n      return;\n    }\n\n    var wrap = ensureLineWrapped(lineView);\n\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i],\n          node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\");\n\n      if (!widget.handleMouseEvents) {\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n      }\n\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n\n      if (allowAbove && widget.above) {\n        wrap.insertBefore(node, lineView.gutter || lineView.text);\n      } else {\n        wrap.appendChild(node);\n      }\n\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n      (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n\n      node.style.width = width + \"px\";\n    }\n\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n\n      if (!widget.noHScroll) {\n        node.style.marginLeft = -dims.gutterTotalWidth + \"px\";\n      }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) {\n      return widget.height;\n    }\n\n    var cm = widget.doc.cm;\n\n    if (!cm) {\n      return 0;\n    }\n\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n\n      if (widget.coverGutter) {\n        parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\";\n      }\n\n      if (widget.noHScroll) {\n        parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\";\n      }\n\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n\n    return widget.height = widget.node.parentNode.offsetHeight;\n  } // Return true when the given mouse event happened in a widget\n\n\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\" || n.parentNode == display.sizer && n != display.mover) {\n        return true;\n      }\n    }\n  } // POSITION MEASUREMENT\n\n\n  function paddingTop(display) {\n    return display.lineSpace.offsetTop;\n  }\n\n  function paddingVert(display) {\n    return display.mover.offsetHeight - display.lineSpace.offsetHeight;\n  }\n\n  function paddingH(display) {\n    if (display.cachedPaddingH) {\n      return display.cachedPaddingH;\n    }\n\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\", \"CodeMirror-line-like\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {\n      left: parseInt(style.paddingLeft),\n      right: parseInt(style.paddingRight)\n    };\n\n    if (!isNaN(data.left) && !isNaN(data.right)) {\n      display.cachedPaddingH = data;\n    }\n\n    return data;\n  }\n\n  function scrollGap(cm) {\n    return scrollerGap - cm.display.nativeBarWidth;\n  }\n\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth;\n  }\n\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight;\n  } // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n\n\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i],\n              next = rects[i + 1];\n\n          if (Math.abs(cur.bottom - next.bottom) > 2) {\n            heights.push((cur.bottom + next.top) / 2 - rect.top);\n          }\n        }\n      }\n\n      heights.push(rect.bottom - rect.top);\n    }\n  } // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n\n\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line) {\n      return {\n        map: lineView.measure.map,\n        cache: lineView.measure.cache\n      };\n    }\n\n    for (var i = 0; i < lineView.rest.length; i++) {\n      if (lineView.rest[i] == line) {\n        return {\n          map: lineView.measure.maps[i],\n          cache: lineView.measure.caches[i]\n        };\n      }\n    }\n\n    for (var i$1 = 0; i$1 < lineView.rest.length; i$1++) {\n      if (lineNo(lineView.rest[i$1]) > lineN) {\n        return {\n          map: lineView.measure.maps[i$1],\n          cache: lineView.measure.caches[i$1],\n          before: true\n        };\n      }\n    }\n  } // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n\n\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view;\n  } // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n\n\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias);\n  } // Find a line view that corresponds to the given line number.\n\n\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo) {\n      return cm.display.view[findViewIndex(cm, lineN)];\n    }\n\n    var ext = cm.display.externalMeasured;\n\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size) {\n      return ext;\n    }\n  } // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n\n\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n\n    if (!view) {\n      view = updateExternalMeasurement(cm, line);\n    }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line,\n      view: view,\n      rect: null,\n      map: info.map,\n      cache: info.cache,\n      before: info.before,\n      hasHeights: false\n    };\n  } // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n\n\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) {\n      ch = -1;\n    }\n\n    var key = ch + (bias || \"\"),\n        found;\n\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect) {\n        prepared.rect = prepared.view.text.getBoundingClientRect();\n      }\n\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n\n      found = measureCharInner(cm, prepared, ch, bias);\n\n      if (!found.bogus) {\n        prepared.cache[key] = found;\n      }\n    }\n\n    return {\n      left: found.left,\n      right: found.right,\n      top: varHeight ? found.rtop : found.top,\n      bottom: varHeight ? found.rbottom : found.bottom\n    };\n  }\n\n  var nullRect = {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  };\n\n  function nodeAndOffsetInLineMap(map$$1, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd; // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n\n    for (var i = 0; i < map$$1.length; i += 3) {\n      mStart = map$$1[i];\n      mEnd = map$$1[i + 1];\n\n      if (ch < mStart) {\n        start = 0;\n        end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map$$1.length - 3 || ch == mEnd && map$$1[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n\n        if (ch >= mEnd) {\n          collapse = \"right\";\n        }\n      }\n\n      if (start != null) {\n        node = map$$1[i + 2];\n\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\")) {\n          collapse = bias;\n        }\n\n        if (bias == \"left\" && start == 0) {\n          while (i && map$$1[i - 2] == map$$1[i - 3] && map$$1[i - 1].insertLeft) {\n            node = map$$1[(i -= 3) + 2];\n            collapse = \"left\";\n          }\n        }\n\n        if (bias == \"right\" && start == mEnd - mStart) {\n          while (i < map$$1.length - 3 && map$$1[i + 3] == map$$1[i + 4] && !map$$1[i + 5].insertLeft) {\n            node = map$$1[(i += 3) + 2];\n            collapse = \"right\";\n          }\n        }\n\n        break;\n      }\n    }\n\n    return {\n      node: node,\n      start: start,\n      end: end,\n      collapse: collapse,\n      coverStart: mStart,\n      coverEnd: mEnd\n    };\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n\n    if (bias == \"left\") {\n      for (var i = 0; i < rects.length; i++) {\n        if ((rect = rects[i]).left != rect.right) {\n          break;\n        }\n      }\n    } else {\n      for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n        if ((rect = rects[i$1]).left != rect.right) {\n          break;\n        }\n      }\n    }\n\n    return rect;\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node,\n        start = place.start,\n        end = place.end,\n        collapse = place.collapse;\n    var rect;\n\n    if (node.nodeType == 3) {\n      // If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) {\n        // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) {\n          --start;\n        }\n\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) {\n          ++end;\n        }\n\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart) {\n          rect = node.parentNode.getBoundingClientRect();\n        } else {\n          rect = getUsefulRect(range(node, start, end).getClientRects(), bias);\n        }\n\n        if (rect.left || rect.right || start == 0) {\n          break;\n        }\n\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n\n      if (ie && ie_version < 11) {\n        rect = maybeUpdateRectForZooming(cm.display.measure, rect);\n      }\n    } else {\n      // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) {\n        collapse = bias = \"right\";\n      }\n\n      var rects;\n\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1) {\n        rect = rects[bias == \"right\" ? rects.length - 1 : 0];\n      } else {\n        rect = node.getBoundingClientRect();\n      }\n    }\n\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n\n      if (rSpan) {\n        rect = {\n          left: rSpan.left,\n          right: rSpan.left + charWidth(cm.display),\n          top: rSpan.top,\n          bottom: rSpan.bottom\n        };\n      } else {\n        rect = nullRect;\n      }\n    }\n\n    var rtop = rect.top - prepared.rect.top,\n        rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n\n    for (; i < heights.length - 1; i++) {\n      if (mid < heights[i]) {\n        break;\n      }\n    }\n\n    var top = i ? heights[i - 1] : 0,\n        bot = heights[i];\n    var result = {\n      left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n      right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n      top: top,\n      bottom: bot\n    };\n\n    if (!rect.left && !rect.right) {\n      result.bogus = true;\n    }\n\n    if (!cm.options.singleCursorHeightPerLine) {\n      result.rtop = rtop;\n      result.rbottom = rbot;\n    }\n\n    return result;\n  } // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n\n\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null || screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure)) {\n      return rect;\n    }\n\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {\n      left: rect.left * scaleX,\n      right: rect.right * scaleX,\n      top: rect.top * scaleY,\n      bottom: rect.bottom * scaleY\n    };\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n\n      if (lineView.rest) {\n        for (var i = 0; i < lineView.rest.length; i++) {\n          lineView.measure.caches[i] = {};\n        }\n      }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n\n    for (var i = 0; i < cm.display.view.length; i++) {\n      clearLineMeasurementCacheFor(cm.display.view[i]);\n    }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n\n    if (!cm.options.lineWrapping) {\n      cm.display.maxLineChanged = true;\n    }\n\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    // which causes page_Offset and bounding client rects to use\n    // different reference viewports and invalidate our calculations.\n    if (chrome && android) {\n      return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft));\n    }\n\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft;\n  }\n\n  function pageScrollY() {\n    if (chrome && android) {\n      return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop));\n    }\n\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop;\n  }\n\n  function widgetTopHeight(lineObj) {\n    var height = 0;\n\n    if (lineObj.widgets) {\n      for (var i = 0; i < lineObj.widgets.length; ++i) {\n        if (lineObj.widgets[i].above) {\n          height += widgetHeight(lineObj.widgets[i]);\n        }\n      }\n    }\n\n    return height;\n  } // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n  // or \"page\".\n\n\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height;\n      rect.bottom += height;\n    }\n\n    if (context == \"line\") {\n      return rect;\n    }\n\n    if (!context) {\n      context = \"local\";\n    }\n\n    var yOff = _heightAtLine(lineObj);\n\n    if (context == \"local\") {\n      yOff += paddingTop(cm.display);\n    } else {\n      yOff -= cm.display.viewOffset;\n    }\n\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff;\n      rect.right += xOff;\n    }\n\n    rect.top += yOff;\n    rect.bottom += yOff;\n    return rect;\n  } // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n\n\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") {\n      return coords;\n    }\n\n    var left = coords.left,\n        top = coords.top; // First move into \"page\" coordinate system\n\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {\n      left: left - lineSpaceBox.left,\n      top: top - lineSpaceBox.top\n    };\n  }\n\n  function _charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) {\n      lineObj = getLine(cm.doc, pos.line);\n    }\n\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context);\n  } // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  // and after `char - 1` in writing order of `char - 1`\n  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  // and before `char` in writing order of `char`\n  // Examples (upper-case letters are RTL, lower-case are LTR):\n  //     Pos(0, 1, ...)\n  //     before   after\n  // ab     a|b     a|b\n  // aB     a|B     aB|\n  // Ab     |Ab     A|b\n  // AB     B|A     B|A\n  // Every position after the last character on a line is considered to stick\n  // to the last character on the line.\n\n\n  function _cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n\n    if (!preparedMeasure) {\n      preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    }\n\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n\n      if (right) {\n        m.left = m.right;\n      } else {\n        m.right = m.left;\n      }\n\n      return intoCoordSystem(cm, lineObj, m, context);\n    }\n\n    var order = getOrder(lineObj, cm.doc.direction),\n        ch = pos.ch,\n        sticky = pos.sticky;\n\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n\n    if (!order) {\n      return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\");\n    }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos],\n          right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert);\n    }\n\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n\n    if (other != null) {\n      val.other = getBidi(ch, other, sticky != \"before\");\n    }\n\n    return val;\n  } // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n\n\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = _clipPos(cm.doc, pos);\n\n    if (!cm.options.lineWrapping) {\n      left = charWidth(cm.display) * pos.ch;\n    }\n\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = _heightAtLine(lineObj) + paddingTop(cm.display);\n    return {\n      left: left,\n      right: left,\n      top: top,\n      bottom: top + lineObj.height\n    };\n  } // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n\n\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n\n    if (outside) {\n      pos.outside = outside;\n    }\n\n    return pos;\n  } // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n\n\n  function _coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n\n    if (y < 0) {\n      return PosWithInfo(doc.first, 0, null, -1, -1);\n    }\n\n    var lineN = _lineAtHeight(doc, y),\n        last = doc.first + doc.size - 1;\n\n    if (lineN > last) {\n      return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1);\n    }\n\n    if (x < 0) {\n      x = 0;\n    }\n\n    var lineObj = getLine(doc, lineN);\n\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));\n\n      if (!collapsed) {\n        return found;\n      }\n\n      var rangeEnd = collapsed.find(1);\n\n      if (rangeEnd.line == lineN) {\n        return rangeEnd;\n      }\n\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) {\n      return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y;\n    }, end, 0);\n    end = findFirst(function (ch) {\n      return measureCharPrepared(cm, preparedMeasure, ch).top > y;\n    }, begin, end);\n    return {\n      begin: begin,\n      end: end\n    };\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) {\n      preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    }\n\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop);\n  } // Returns true if the given side of a box is after the given\n  // coordinates, in top-to-bottom, left-to-right order.\n\n\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x;\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo$$1, x, y) {\n    // Move y into line-local coordinate space\n    y -= _heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj); // When directly calling `measureCharPrepared`, we have to adjust\n    // for the widgets at this line.\n\n    var widgetHeight$$1 = widgetTopHeight(lineObj);\n    var begin = 0,\n        end = lineObj.text.length,\n        ltr = true;\n    var order = getOrder(lineObj, cm.doc.direction); // If the line isn't plain left-to-right text, first figure out\n    // which bidi section the coordinates fall into.\n\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)(cm, lineObj, lineNo$$1, preparedMeasure, order, x, y);\n      ltr = part.level != 1; // The awkward -1 offsets are needed because findFirst (called\n      // on these below) will treat its first bound as inclusive,\n      // second as exclusive, but we want to actually address the\n      // characters in the part's range\n\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    } // A binary search to find the first character whose bounding box\n    // starts after the coordinates. If we run across any whose box wrap\n    // the coordinates, store that.\n\n\n    var chAround = null,\n        boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight$$1;\n      box.bottom += widgetHeight$$1;\n\n      if (!boxIsAfter(box, x, y, false)) {\n        return false;\n      }\n\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n\n      return true;\n    }, begin, end);\n    var baseX,\n        sticky,\n        outside = false; // If a box around the coordinates was found, use that\n\n    if (boxAround) {\n      // Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x,\n          atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      // (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) {\n        ch++;\n      } // To determine which side to associate with, get the box to the\n      // left of the character and compare it's vertical position to the\n      // coordinates\n\n\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" : measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight$$1 <= y == ltr ? \"after\" : \"before\"; // Now get accurate coordinates for this place, in order to get a\n      // base X position\n\n      var coords = _cursorCoords(cm, Pos(lineNo$$1, ch, sticky), \"line\", lineObj, preparedMeasure);\n\n      baseX = coords.left;\n      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo$$1, ch, sticky, outside, x - baseX);\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo$$1, preparedMeasure, order, x, y) {\n    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    // situation, we can take this ordering to correspond to the visual\n    // ordering. This finds the first part whose end is after the given\n    // coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i],\n          ltr = part.level != 1;\n      return boxIsAfter(_cursorCoords(cm, Pos(lineNo$$1, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"), \"line\", lineObj, preparedMeasure), x, y, true);\n    }, 0, order.length - 1);\n    var part = order[index]; // If this isn't the first part, the part's start is also after\n    // the coordinates, and the coordinates aren't on the same line as\n    // that start, move one part back.\n\n    if (index > 0) {\n      var ltr = part.level != 1;\n\n      var start = _cursorCoords(cm, Pos(lineNo$$1, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"), \"line\", lineObj, preparedMeasure);\n\n      if (boxIsAfter(start, x, y, true) && start.top > y) {\n        part = order[index - 1];\n      }\n    }\n\n    return part;\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    // In a wrapped line, rtl text on wrapping boundaries can do things\n    // that don't correspond to the ordering in our `order` array at\n    // all, so a binary search doesn't work, and we want to return a\n    // part that only spans one line so that the binary search in\n    // coordsCharInner is safe. As such, we first find the extent of the\n    // wrapped line, and then do a flat search in which we discard any\n    // spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n\n    if (/\\s/.test(lineObj.text.charAt(end - 1))) {\n      end--;\n    }\n\n    var part = null,\n        closestDist = null;\n\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n\n      if (p.from >= end || p.to <= begin) {\n        continue;\n      }\n\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right; // Weigh against spans ending before this, so that they are only\n      // picked if nothing ends after\n\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n\n    if (!part) {\n      part = order[order.length - 1];\n    } // Clip the part to the wrapped line.\n\n\n    if (part.from < begin) {\n      part = {\n        from: begin,\n        to: part.to,\n        level: part.level\n      };\n    }\n\n    if (part.to > end) {\n      part = {\n        from: part.from,\n        to: end,\n        level: part.level\n      };\n    }\n\n    return part;\n  }\n\n  var measureText; // Compute the default text height.\n\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) {\n      return display.cachedTextHeight;\n    }\n\n    if (measureText == null) {\n      measureText = elt(\"pre\", null, \"CodeMirror-line-like\"); // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n\n    if (height > 3) {\n      display.cachedTextHeight = height;\n    }\n\n    removeChildren(display.measure);\n    return height || 1;\n  } // Compute the default character width.\n\n\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) {\n      return display.cachedCharWidth;\n    }\n\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor], \"CodeMirror-line-like\");\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(),\n        width = (rect.right - rect.left) / 10;\n\n    if (width > 2) {\n      display.cachedCharWidth = width;\n    }\n\n    return width || 10;\n  } // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n\n\n  function getDimensions(cm) {\n    var d = cm.display,\n        left = {},\n        width = {};\n    var gutterLeft = d.gutters.clientLeft;\n\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      var id = cm.display.gutterSpecs[i].className;\n      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[id] = n.clientWidth;\n    }\n\n    return {\n      fixedPos: compensateForHScroll(d),\n      gutterTotalWidth: d.gutters.offsetWidth,\n      gutterLeft: left,\n      gutterWidth: width,\n      wrapperWidth: d.wrapper.clientWidth\n    };\n  } // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n\n\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left;\n  } // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n\n\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display),\n        wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) {\n        return 0;\n      }\n\n      var widgetsHeight = 0;\n\n      if (line.widgets) {\n        for (var i = 0; i < line.widgets.length; i++) {\n          if (line.widgets[i].height) {\n            widgetsHeight += line.widgets[i].height;\n          }\n        }\n      }\n\n      if (wrapping) {\n        return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th;\n      } else {\n        return widgetsHeight + th;\n      }\n    };\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc,\n        est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n\n      if (estHeight != line.height) {\n        updateLineHeight(line, estHeight);\n      }\n    });\n  } // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n\n\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") {\n      return null;\n    }\n\n    var x,\n        y,\n        space = display.lineSpace.getBoundingClientRect(); // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n\n    try {\n      x = e.clientX - space.left;\n      y = e.clientY - space.top;\n    } catch (e) {\n      return null;\n    }\n\n    var coords = _coordsChar(cm, x, y),\n        line;\n\n    if (forRect && coords.xRel == 1 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n\n    return coords;\n  } // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n\n\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) {\n      return null;\n    }\n\n    n -= cm.display.viewFrom;\n\n    if (n < 0) {\n      return null;\n    }\n\n    var view = cm.display.view;\n\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n\n      if (n < 0) {\n        return i;\n      }\n    }\n  } // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n\n\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) {\n      from = cm.doc.first;\n    }\n\n    if (to == null) {\n      to = cm.doc.first + cm.doc.size;\n    }\n\n    if (!lendiff) {\n      lendiff = 0;\n    }\n\n    var display = cm.display;\n\n    if (lendiff && to < display.viewTo && (display.updateLineNumbers == null || display.updateLineNumbers > from)) {\n      display.updateLineNumbers = from;\n    }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) {\n      // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo) {\n        resetView(cm);\n      }\n    } else if (to <= display.viewFrom) {\n      // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) {\n      // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) {\n      // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) {\n      // Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else {\n      // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index).concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN)).concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n\n    if (ext) {\n      if (to < ext.lineN) {\n        ext.lineN += lendiff;\n      } else if (from < ext.lineN + ext.size) {\n        display.externalMeasured = null;\n      }\n    }\n  } // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n\n\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display,\n        ext = cm.display.externalMeasured;\n\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size) {\n      display.externalMeasured = null;\n    }\n\n    if (line < display.viewFrom || line >= display.viewTo) {\n      return;\n    }\n\n    var lineView = display.view[findViewIndex(cm, line)];\n\n    if (lineView.node == null) {\n      return;\n    }\n\n    var arr = lineView.changes || (lineView.changes = []);\n\n    if (indexOf(arr, type) == -1) {\n      arr.push(type);\n    }\n  } // Clear the view.\n\n\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN),\n        diff,\n        view = cm.display.view;\n\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size) {\n      return {\n        index: index,\n        lineN: newN\n      };\n    }\n\n    var n = cm.display.viewFrom;\n\n    for (var i = 0; i < index; i++) {\n      n += view[i].size;\n    }\n\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) {\n          return null;\n        }\n\n        diff = n + view[index].size - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n\n      oldN += diff;\n      newN += diff;\n    }\n\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) {\n        return null;\n      }\n\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n\n    return {\n      index: index,\n      lineN: newN\n    };\n  } // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n\n\n  function adjustView(cm, from, to) {\n    var display = cm.display,\n        view = display.view;\n\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from) {\n        display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view);\n      } else if (display.viewFrom < from) {\n        display.view = display.view.slice(findViewIndex(cm, from));\n      }\n\n      display.viewFrom = from;\n\n      if (display.viewTo < to) {\n        display.view = display.view.concat(buildViewArray(cm, display.viewTo, to));\n      } else if (display.viewTo > to) {\n        display.view = display.view.slice(0, findViewIndex(cm, to));\n      }\n    }\n\n    display.viewTo = to;\n  } // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n\n\n  function countDirtyView(cm) {\n    var view = cm.display.view,\n        dirty = 0;\n\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) {\n        ++dirty;\n      }\n    }\n\n    return dirty;\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if (primary === void 0) primary = true;\n    var doc = cm.doc,\n        result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) {\n        continue;\n      }\n\n      var range$$1 = doc.sel.ranges[i];\n\n      if (range$$1.from().line >= cm.display.viewTo || range$$1.to().line < cm.display.viewFrom) {\n        continue;\n      }\n\n      var collapsed = range$$1.empty();\n\n      if (collapsed || cm.options.showCursorWhenSelecting) {\n        drawSelectionCursor(cm, range$$1.head, curFragment);\n      }\n\n      if (!collapsed) {\n        drawSelectionRange(cm, range$$1, selFragment);\n      }\n    }\n\n    return result;\n  } // Draws a cursor for the given range\n\n\n  function drawSelectionCursor(cm, head, output) {\n    var pos = _cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\xA0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\xA0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) {\n    return a.top - b.top || a.left - b.left;\n  } // Draws the given range as a highlighted selection\n\n\n  function drawSelectionRange(cm, range$$1, output) {\n    var display = cm.display,\n        doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display),\n        leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) {\n        top = 0;\n      }\n\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", \"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\"));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n\n      function coords(ch, bias) {\n        return _charCoords(cm, Pos(line, ch), \"div\", lineObj, bias);\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = dir == \"ltr\" == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop];\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n        var openStart = fromArg == null && from == 0,\n            openEnd = toArg == null && to == lineLen;\n        var first = i == 0,\n            last = !order || i == order.length - 1;\n\n        if (toPos.top - fromPos.top <= 3) {\n          // Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else {\n          // Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n\n          if (fromPos.bottom < toPos.top) {\n            add(leftSide, fromPos.bottom, null, toPos.top);\n          }\n\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) {\n          start = fromPos;\n        }\n\n        if (cmpCoords(toPos, start) < 0) {\n          start = toPos;\n        }\n\n        if (!end || cmpCoords(fromPos, end) < 0) {\n          end = fromPos;\n        }\n\n        if (cmpCoords(toPos, end) < 0) {\n          end = toPos;\n        }\n      });\n      return {\n        start: start,\n        end: end\n      };\n    }\n\n    var sFrom = range$$1.from(),\n        sTo = range$$1.to();\n\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line),\n          toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n\n      if (leftEnd.bottom < rightStart.top) {\n        add(leftSide, leftEnd.bottom, null, rightStart.top);\n      }\n    }\n\n    output.appendChild(fragment);\n  } // Cursor-blinking\n\n\n  function restartBlink(cm) {\n    if (!cm.state.focused) {\n      return;\n    }\n\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n\n    if (cm.options.cursorBlinkRate > 0) {\n      display.blinker = setInterval(function () {\n        return display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\";\n      }, cm.options.cursorBlinkRate);\n    } else if (cm.options.cursorBlinkRate < 0) {\n      display.cursorDiv.style.visibility = \"hidden\";\n    }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.state.focused) {\n      cm.display.input.focus();\n      onFocus(cm);\n    }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () {\n      if (cm.state.delayingBlurEvent) {\n        cm.state.delayingBlurEvent = false;\n        onBlur(cm);\n      }\n    }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n    }\n\n    if (cm.options.readOnly == \"nocursor\") {\n      return;\n    }\n\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\"); // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n\n        if (webkit) {\n          setTimeout(function () {\n            return cm.display.input.reset(true);\n          }, 20);\n        } // Issue #1730\n\n      }\n\n      cm.display.input.receivedFocus();\n    }\n\n    restartBlink(cm);\n  }\n\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) {\n      return;\n    }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n\n    clearInterval(cm.display.blinker);\n    setTimeout(function () {\n      if (!cm.state.focused) {\n        cm.display.shift = false;\n      }\n    }, 150);\n  } // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n\n\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i],\n          wrapping = cm.options.lineWrapping;\n      var height = void 0,\n          width = 0;\n\n      if (cur.hidden) {\n        continue;\n      }\n\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top; // Check that lines don't extend past the right of the current\n        // editor width\n\n        if (!wrapping && cur.text.firstChild) {\n          width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1;\n        }\n      }\n\n      var diff = cur.line.height - height;\n\n      if (diff > .005 || diff < -.005) {\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n\n        if (cur.rest) {\n          for (var j = 0; j < cur.rest.length; j++) {\n            updateWidgetHeight(cur.rest[j]);\n          }\n        }\n      }\n\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width / charWidth(cm.display));\n\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n  } // Read and store the height of line widgets associated with the\n  // given line.\n\n\n  function updateWidgetHeight(line) {\n    if (line.widgets) {\n      for (var i = 0; i < line.widgets.length; ++i) {\n        var w = line.widgets[i],\n            parent = w.node.parentNode;\n\n        if (parent) {\n          w.height = parent.offsetHeight;\n        }\n      }\n    }\n  } // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n\n\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = _lineAtHeight(doc, top),\n        to = _lineAtHeight(doc, bottom); // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n\n\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line,\n          ensureTo = viewport.ensure.to.line;\n\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = _lineAtHeight(doc, _heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = _lineAtHeight(doc, _heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n\n    return {\n      from: from,\n      to: Math.max(to, from + 1)\n    };\n  } // SCROLLING THINGS INTO VIEW\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n\n\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) {\n      return;\n    }\n\n    var display = cm.display,\n        box = display.sizer.getBoundingClientRect(),\n        doScroll = null;\n\n    if (rect.top + box.top < 0) {\n      doScroll = true;\n    } else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) {\n      doScroll = false;\n    }\n\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200B\", null, \"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + rect.left + \"px; width: \" + Math.max(2, rect.right - rect.left) + \"px;\");\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  } // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n\n\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) {\n      margin = 0;\n    }\n\n    var rect;\n\n    if (!cm.options.lineWrapping && pos == end) {\n      // Set pos and end to the cursor positions around the character pos sticks to\n      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n    }\n\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n\n      var coords = _cursorCoords(cm, pos);\n\n      var endCoords = !end || end == pos ? coords : _cursorCoords(cm, end);\n      rect = {\n        left: Math.min(coords.left, endCoords.left),\n        top: Math.min(coords.top, endCoords.top) - margin,\n        right: Math.max(coords.left, endCoords.left),\n        bottom: Math.max(coords.bottom, endCoords.bottom) + margin\n      };\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop,\n          startLeft = cm.doc.scrollLeft;\n\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) {\n          changed = true;\n        }\n      }\n\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) {\n          changed = true;\n        }\n      }\n\n      if (!changed) {\n        break;\n      }\n    }\n\n    return rect;\n  } // Scroll a given set of coordinates into view (immediately).\n\n\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n\n    if (scrollPos.scrollTop != null) {\n      updateScrollTop(cm, scrollPos.scrollTop);\n    }\n\n    if (scrollPos.scrollLeft != null) {\n      setScrollLeft(cm, scrollPos.scrollLeft);\n    }\n  } // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n\n\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display,\n        snapMargin = textHeight(cm.display);\n\n    if (rect.top < 0) {\n      rect.top = 0;\n    }\n\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm),\n        result = {};\n\n    if (rect.bottom - rect.top > screen) {\n      rect.bottom = rect.top + screen;\n    }\n\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin,\n        atBottom = rect.bottom > docBottom - snapMargin;\n\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n\n      if (newTop != screentop) {\n        result.scrollTop = newTop;\n      }\n    }\n\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft;\n    var screenw = displayWidth(cm) - (cm.options.fixedGutter ? display.gutters.offsetWidth : 0);\n    var tooWide = rect.right - rect.left > screenw;\n\n    if (tooWide) {\n      rect.right = rect.left + screenw;\n    }\n\n    if (rect.left < 10) {\n      result.scrollLeft = 0;\n    } else if (rect.left < screenleft) {\n      result.scrollLeft = Math.max(0, rect.left - (tooWide ? 0 : 10));\n    } else if (rect.right > screenw + screenleft - 3) {\n      result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw;\n    }\n\n    return result;\n  } // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n\n\n  function addToScrollTop(cm, top) {\n    if (top == null) {\n      return;\n    }\n\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  } // Make sure that at the end of the operation the current cursor is\n  // shown.\n\n\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {\n      from: cur,\n      to: cur,\n      margin: cm.options.cursorScrollMargin\n    };\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) {\n      resolveScrollToPos(cm);\n    }\n\n    if (x != null) {\n      cm.curOp.scrollLeft = x;\n    }\n\n    if (y != null) {\n      cm.curOp.scrollTop = y;\n    }\n  }\n\n  function scrollToRange(cm, range$$1) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range$$1;\n  } // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n\n\n  function resolveScrollToPos(cm) {\n    var range$$1 = cm.curOp.scrollToPos;\n\n    if (range$$1) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range$$1.from),\n          to = estimateCoords(cm, range$$1.to);\n      scrollToCoordsRange(cm, from, to, range$$1.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  } // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n\n\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) {\n      return;\n    }\n\n    if (!gecko) {\n      updateDisplaySimple(cm, {\n        top: val\n      });\n    }\n\n    setScrollTop(cm, val, true);\n\n    if (gecko) {\n      updateDisplaySimple(cm);\n    }\n\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val);\n\n    if (cm.display.scroller.scrollTop == val && !forceScroll) {\n      return;\n    }\n\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n\n    if (cm.display.scroller.scrollTop != val) {\n      cm.display.scroller.scrollTop = val;\n    }\n  } // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n\n\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth);\n\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) {\n      return;\n    }\n\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n\n    if (cm.display.scroller.scrollLeft != val) {\n      cm.display.scroller.scrollLeft = val;\n    }\n\n    cm.display.scrollbars.setScrollLeft(val);\n  } // SCROLLBARS\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n\n\n  function measureForScrollbars(cm) {\n    var d = cm.display,\n        gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth,\n      clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    };\n  }\n\n  var NativeScrollbars = function NativeScrollbars(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert);\n    place(horiz);\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) {\n        scroll(vert.scrollTop, \"vertical\");\n      }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) {\n        scroll(horiz.scrollLeft, \"horizontal\");\n      }\n    });\n    this.checkedZeroWidth = false; // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n\n    if (ie && ie_version < 8) {\n      this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\";\n    }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0); // A bug in IE8 can cause this value to be negative, so guard it.\n\n      this.vert.firstChild.style.height = Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width = Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) {\n        this.zeroWidthHack();\n      }\n\n      this.checkedZeroWidth = true;\n    }\n\n    return {\n      right: needsV ? sWidth : 0,\n      bottom: needsH ? sWidth : 0\n    };\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) {\n      this.horiz.scrollLeft = pos;\n    }\n\n    if (this.disableHoriz) {\n      this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\");\n    }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) {\n      this.vert.scrollTop = pos;\n    }\n\n    if (this.disableVert) {\n      this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\");\n    }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed();\n    this.disableVert = new Delayed();\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n\n    function maybeDisable() {\n      // To find out whether the scrollbar is still visible, we\n      // check whether the element under the pixel in the bottom\n      // right corner of the scrollbar box is the scrollbar box\n      // itself (when the bar is still visible) or its filler child\n      // (when the bar is hidden). If it is still visible, we keep\n      // it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt$$1 = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2) : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n\n      if (elt$$1 != bar) {\n        bar.style.pointerEvents = \"none\";\n      } else {\n        delay.set(1000, maybeDisable);\n      }\n    }\n\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function NullScrollbars() {};\n\n  NullScrollbars.prototype.update = function () {\n    return {\n      bottom: 0,\n      right: 0\n    };\n  };\n\n  NullScrollbars.prototype.setScrollLeft = function () {};\n\n  NullScrollbars.prototype.setScrollTop = function () {};\n\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) {\n      measure = measureForScrollbars(cm);\n    }\n\n    var startWidth = cm.display.barWidth,\n        startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping) {\n        updateHeightsInViewport(cm);\n      }\n\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth;\n      startHeight = cm.display.barHeight;\n    }\n  } // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n\n\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else {\n      d.scrollbarFiller.style.display = \"\";\n    }\n\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else {\n      d.gutterFiller.style.display = \"\";\n    }\n  }\n\n  var scrollbarModel = {\n    \"native\": NativeScrollbars,\n    \"null\": NullScrollbars\n  };\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n\n      if (cm.display.scrollbars.addClass) {\n        rmClass(cm.display.wrapper, cm.display.scrollbars.addClass);\n      }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller); // Prevent clicks in the scrollbars from killing focus\n\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) {\n          setTimeout(function () {\n            return cm.display.input.focus();\n          }, 0);\n        }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") {\n        setScrollLeft(cm, pos);\n      } else {\n        updateScrollTop(cm, pos);\n      }\n    }, cm);\n\n    if (cm.display.scrollbars.addClass) {\n      addClass(cm.display.wrapper, cm.display.scrollbars.addClass);\n    }\n  } // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n\n  var nextOpId = 0; // Start a new operation.\n\n  function _startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,\n      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height,\n      // Used to detect need to update scrollbar\n      forceUpdate: false,\n      // Used to force a redraw\n      updateInput: 0,\n      // Whether to reset the input textarea\n      typing: false,\n      // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,\n      // Accumulated changes, for firing change events\n      cursorActivityHandlers: null,\n      // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0,\n      // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false,\n      // Whether the selection needs to be redrawn\n      updateMaxLine: false,\n      // Set when the widest line needs to be determined anew\n      scrollLeft: null,\n      scrollTop: null,\n      // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,\n      // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId // Unique ID\n\n    };\n    pushOperation(cm.curOp);\n  } // Finish an operation, updating the display and signalling delayed events\n\n\n  function _endOperation(cm) {\n    var op = cm.curOp;\n\n    if (op) {\n      finishOperation(op, function (group) {\n        for (var i = 0; i < group.ops.length; i++) {\n          group.ops[i].cm.curOp = null;\n        }\n\n        endOperations(group);\n      });\n    }\n  } // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n\n\n  function endOperations(group) {\n    var ops = group.ops;\n\n    for (var i = 0; i < ops.length; i++) // Read DOM\n    {\n      endOperation_R1(ops[i]);\n    }\n\n    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n    {\n      endOperation_W1(ops[i$1]);\n    }\n\n    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n    {\n      endOperation_R2(ops[i$2]);\n    }\n\n    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n    {\n      endOperation_W2(ops[i$3]);\n    }\n\n    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n    {\n      endOperation_finish(ops[i$4]);\n    }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm,\n        display = cm.display;\n    maybeClipScrollbars(cm);\n\n    if (op.updateMaxLine) {\n      findMaxLine(cm);\n    }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null || op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom || op.scrollToPos.to.line >= display.viewTo) || display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate && new DisplayUpdate(cm, op.mustUpdate && {\n      top: op.scrollTop,\n      ensure: op.scrollToPos\n    }, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm,\n        display = cm.display;\n\n    if (op.updatedDisplay) {\n      updateHeightsInViewport(cm);\n    }\n\n    op.barMeasure = measureForScrollbars(cm); // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth = Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged) {\n      op.preparedSelection = display.input.prepareSelection();\n    }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n\n      if (op.maxScrollLeft < cm.doc.scrollLeft) {\n        setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true);\n      }\n\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n\n    if (op.preparedSelection) {\n      cm.display.input.showSelection(op.preparedSelection, takeFocus);\n    }\n\n    if (op.updatedDisplay || op.startHeight != cm.doc.height) {\n      updateScrollbars(cm, op.barMeasure);\n    }\n\n    if (op.updatedDisplay) {\n      setDocumentHeight(cm, op.barMeasure);\n    }\n\n    if (op.selectionChanged) {\n      restartBlink(cm);\n    }\n\n    if (cm.state.focused && op.updateInput) {\n      cm.display.input.reset(op.typing);\n    }\n\n    if (takeFocus) {\n      ensureFocus(op.cm);\n    }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm,\n        display = cm.display,\n        doc = cm.doc;\n\n    if (op.updatedDisplay) {\n      postUpdateDisplay(cm, op.update);\n    } // Abort mouse wheel delta measurement, when scrolling explicitly\n\n\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos)) {\n      display.wheelStartX = display.wheelStartY = null;\n    } // Propagate the scroll position to the actual DOM scroller\n\n\n    if (op.scrollTop != null) {\n      setScrollTop(cm, op.scrollTop, op.forceScroll);\n    }\n\n    if (op.scrollLeft != null) {\n      setScrollLeft(cm, op.scrollLeft, true, true);\n    } // If we need to scroll a specific position into view, do so.\n\n\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, _clipPos(doc, op.scrollToPos.from), _clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    } // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n\n\n    var hidden = op.maybeHiddenMarkers,\n        unhidden = op.maybeUnhiddenMarkers;\n\n    if (hidden) {\n      for (var i = 0; i < hidden.length; ++i) {\n        if (!hidden[i].lines.length) {\n          signal(hidden[i], \"hide\");\n        }\n      }\n    }\n\n    if (unhidden) {\n      for (var i$1 = 0; i$1 < unhidden.length; ++i$1) {\n        if (unhidden[i$1].lines.length) {\n          signal(unhidden[i$1], \"unhide\");\n        }\n      }\n    }\n\n    if (display.wrapper.offsetHeight) {\n      doc.scrollTop = cm.display.scroller.scrollTop;\n    } // Fire change events, and delayed event handlers\n\n\n    if (op.changeObjs) {\n      signal(cm, \"changes\", cm, op.changeObjs);\n    }\n\n    if (op.update) {\n      op.update.finish();\n    }\n  } // Run the given function in an operation\n\n\n  function runInOp(cm, f) {\n    if (cm.curOp) {\n      return f();\n    }\n\n    _startOperation(cm);\n\n    try {\n      return f();\n    } finally {\n      _endOperation(cm);\n    }\n  } // Wraps a function in an operation. Returns the wrapped function.\n\n\n  function operation(cm, f) {\n    return function () {\n      if (cm.curOp) {\n        return f.apply(cm, arguments);\n      }\n\n      _startOperation(cm);\n\n      try {\n        return f.apply(cm, arguments);\n      } finally {\n        _endOperation(cm);\n      }\n    };\n  } // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n\n\n  function methodOp(f) {\n    return function () {\n      if (this.curOp) {\n        return f.apply(this, arguments);\n      }\n\n      _startOperation(this);\n\n      try {\n        return f.apply(this, arguments);\n      } finally {\n        _endOperation(this);\n      }\n    };\n  }\n\n  function docMethodOp(f) {\n    return function () {\n      var cm = this.cm;\n\n      if (!cm || cm.curOp) {\n        return f.apply(this, arguments);\n      }\n\n      _startOperation(cm);\n\n      try {\n        return f.apply(this, arguments);\n      } finally {\n        _endOperation(cm);\n      }\n    };\n  } // HIGHLIGHT WORKER\n\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo) {\n      cm.state.highlight.set(time, bind(highlightWorker, cm));\n    }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n\n    if (doc.highlightFrontier >= cm.display.viewTo) {\n      return;\n    }\n\n    var end = +new Date() + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) {\n        // Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n\n        if (resetState) {\n          context.state = resetState;\n        }\n\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses,\n            newCls = highlighted.classes;\n\n        if (newCls) {\n          line.styleClasses = newCls;\n        } else if (oldCls) {\n          line.styleClasses = null;\n        }\n\n        var ischange = !oldStyles || oldStyles.length != line.styles.length || oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) {\n          ischange = oldStyles[i] != line.styles[i];\n        }\n\n        if (ischange) {\n          changedLines.push(context.line);\n        }\n\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength) {\n          processLine(cm, line.text, context);\n        }\n\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n\n      if (+new Date() > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true;\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n\n    if (changedLines.length) {\n      runInOp(cm, function () {\n        for (var i = 0; i < changedLines.length; i++) {\n          regLineChange(cm, changedLines[i], \"text\");\n        }\n      });\n    }\n  } // DISPLAY DRAWING\n\n\n  var DisplayUpdate = function DisplayUpdate(cm, viewport, force) {\n    var display = cm.display;\n    this.viewport = viewport; // Store some values that we'll need later (but don't want to force a relayout for)\n\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type)) {\n      this.events.push(arguments);\n    }\n  };\n\n  DisplayUpdate.prototype.finish = function () {\n    var this$1 = this;\n\n    for (var i = 0; i < this.events.length; i++) {\n      signal.apply(null, this$1.events[i]);\n    }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) {\n      return null;\n    }\n\n    var active = activeElt();\n\n    if (!active || !contains(cm.display.lineDiv, active)) {\n      return null;\n    }\n\n    var result = {\n      activeElt: active\n    };\n\n    if (window.getSelection) {\n      var sel = window.getSelection();\n\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n\n    return result;\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) {\n      return;\n    }\n\n    snapshot.activeElt.focus();\n\n    if (snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(),\n          range$$1 = document.createRange();\n      range$$1.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range$$1.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range$$1);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  } // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n\n\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display,\n        doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false;\n    } // Bail out if the visible area is already rendered and nothing changed.\n\n\n    if (!update.force && update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo && (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) && display.renderedView == display.view && countDirtyView(cm) == 0) {\n      return false;\n    }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    } // Compute a suitable new viewport (from & to)\n\n\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n\n    if (display.viewFrom < from && from - display.viewFrom < 20) {\n      from = Math.max(doc.first, display.viewFrom);\n    }\n\n    if (display.viewTo > to && display.viewTo - to < 20) {\n      to = Math.min(end, display.viewTo);\n    }\n\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo || display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n    display.viewOffset = _heightAtLine(getLine(cm.doc, display.viewFrom)); // Position the mover div to align with the current scroll position\n\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n    var toUpdate = countDirtyView(cm);\n\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view && (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo)) {\n      return false;\n    } // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n\n\n    var selSnapshot = selectionSnapshot(cm);\n\n    if (toUpdate > 4) {\n      display.lineDiv.style.display = \"none\";\n    }\n\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n\n    if (toUpdate > 4) {\n      display.lineDiv.style.display = \"\";\n    }\n\n    display.renderedView = display.view; // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n\n    restoreSelection(selSnapshot); // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n    return true;\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null) {\n          viewport = {\n            top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)\n          };\n        } // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n\n\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo) {\n          break;\n        }\n      }\n\n      if (!updateDisplayIfNeeded(cm, update)) {\n        break;\n      }\n\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom;\n      cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  } // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n\n\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display,\n        lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv,\n        cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling; // Works around a throw-scroll bug in OS X Webkit\n\n      if (webkit && mac && cm.display.currentWheelTarget == node) {\n        node.style.display = \"none\";\n      } else {\n        node.parentNode.removeChild(node);\n      }\n\n      return next;\n    }\n\n    var view = display.view,\n        lineN = display.viewFrom; // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ;else if (!lineView.node || lineView.node.parentNode != container) {\n        // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else {\n        // Already drawn\n        while (cur != lineView.node) {\n          cur = rm(cur);\n        }\n\n        var updateNumber = lineNumbers && updateNumbersFrom != null && updateNumbersFrom <= lineN && lineView.lineNumber;\n\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) {\n            updateNumber = false;\n          }\n\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n\n    while (cur) {\n      cur = rm(cur);\n    }\n  }\n\n  function updateGutterSpace(display) {\n    var width = display.gutters.offsetWidth;\n    display.sizer.style.marginLeft = width + \"px\";\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = measure.docHeight + cm.display.barHeight + scrollGap(cm) + \"px\";\n  } // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n\n\n  function alignHorizontally(cm) {\n    var display = cm.display,\n        view = display.view;\n\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) {\n      return;\n    }\n\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth,\n        left = comp + \"px\";\n\n    for (var i = 0; i < view.length; i++) {\n      if (!view[i].hidden) {\n        if (cm.options.fixedGutter) {\n          if (view[i].gutter) {\n            view[i].gutter.style.left = left;\n          }\n\n          if (view[i].gutterBackground) {\n            view[i].gutterBackground.style.left = left;\n          }\n        }\n\n        var align = view[i].alignable;\n\n        if (align) {\n          for (var j = 0; j < align.length; j++) {\n            align[j].style.left = left;\n          }\n        }\n      }\n    }\n\n    if (cm.options.fixedGutter) {\n      display.gutters.style.left = comp + gutterW + \"px\";\n    }\n  } // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n\n\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) {\n      return false;\n    }\n\n    var doc = cm.doc,\n        last = lineNumberFor(cm.options, doc.first + doc.size - 1),\n        display = cm.display;\n\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)], \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth,\n          padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm.display);\n      return true;\n    }\n\n    return false;\n  }\n\n  function getGutters(gutters, lineNumbers) {\n    var result = [],\n        sawLineNumbers = false;\n\n    for (var i = 0; i < gutters.length; i++) {\n      var name = gutters[i],\n          style = null;\n\n      if (typeof name != \"string\") {\n        style = name.style;\n        name = name.className;\n      }\n\n      if (name == \"CodeMirror-linenumbers\") {\n        if (!lineNumbers) {\n          continue;\n        } else {\n          sawLineNumbers = true;\n        }\n      }\n\n      result.push({\n        className: name,\n        style: style\n      });\n    }\n\n    if (lineNumbers && !sawLineNumbers) {\n      result.push({\n        className: \"CodeMirror-linenumbers\",\n        style: null\n      });\n    }\n\n    return result;\n  } // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n\n\n  function renderGutters(display) {\n    var gutters = display.gutters,\n        specs = display.gutterSpecs;\n    removeChildren(gutters);\n    display.lineGutter = null;\n\n    for (var i = 0; i < specs.length; ++i) {\n      var ref = specs[i];\n      var className = ref.className;\n      var style = ref.style;\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n\n      if (style) {\n        gElt.style.cssText = style;\n      }\n\n      if (className == \"CodeMirror-linenumbers\") {\n        display.lineGutter = gElt;\n        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n      }\n    }\n\n    gutters.style.display = specs.length ? \"\" : \"none\";\n    updateGutterSpace(display);\n  }\n\n  function updateGutters(cm) {\n    renderGutters(cm.display);\n    regChange(cm);\n    alignHorizontally(cm);\n  } // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n\n  function Display(place, doc, input, options) {\n    var d = this;\n    this.input = input; // Covers bottom-right square when both scrollbars are present.\n\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\"); // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\"); // Will contain the actual code, positioned to cover the viewport.\n\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\"); // Elements are added to these to represent selection and cursors.\n\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\"); // A visibility: hidden element used to find the size of things.\n\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\"); // When lines outside of the viewport are measured, they are drawn in this.\n\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\"); // Wraps everything that needs to exist inside the vertically-padded coordinate system\n\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv], null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\"); // Moved around its parent to cover visible view.\n\n    d.mover = elt(\"div\", [lines], null, \"position: relative\"); // Set to the height of the document, allowing scrolling.\n\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null; // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\"); // Will contain the gutters, if any.\n\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null; // Actual scrollable element.\n\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\"); // The element in which the editor lives.\n\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\"); // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n\n    if (ie && ie_version < 8) {\n      d.gutters.style.zIndex = -1;\n      d.scroller.style.paddingRight = 0;\n    }\n\n    if (!webkit && !(gecko && mobile)) {\n      d.scroller.draggable = true;\n    }\n\n    if (place) {\n      if (place.appendChild) {\n        place.appendChild(d.wrapper);\n      } else {\n        place(d.wrapper);\n      }\n    } // Current rendered range (may be bigger than the view window).\n\n\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first; // Information about the rendered lines.\n\n    d.view = [];\n    d.renderedView = null; // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n\n    d.externalMeasured = null; // Empty space (in pixels) above the view\n\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false; // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null; // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n\n    d.alignWidgets = false;\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null; // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false; // Used for measuring wheel scrolling granularity\n\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null; // True when shift is held down.\n\n    d.shift = false; // Used to track whether anything happened since the context menu\n    // was opened.\n\n    d.selForContextMenu = null;\n    d.activeTouch = null;\n    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n    renderGutters(d);\n    input.init(d);\n  } // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n\n  var wheelSamples = 0,\n      wheelPixelsPerUnit = null; // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n\n  if (ie) {\n    wheelPixelsPerUnit = -.53;\n  } else if (gecko) {\n    wheelPixelsPerUnit = 15;\n  } else if (chrome) {\n    wheelPixelsPerUnit = -.7;\n  } else if (safari) {\n    wheelPixelsPerUnit = -1 / 3;\n  }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX,\n        dy = e.wheelDeltaY;\n\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) {\n      dx = e.detail;\n    }\n\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) {\n      dy = e.detail;\n    } else if (dy == null) {\n      dy = e.wheelDelta;\n    }\n\n    return {\n      x: dx,\n      y: dy\n    };\n  }\n\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta;\n  }\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e),\n        dx = delta.x,\n        dy = delta.y;\n    var display = cm.display,\n        scroll = display.scroller; // Quit if there's nothing to scroll here\n\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n\n    if (!(dx && canScrollX || dy && canScrollY)) {\n      return;\n    } // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n\n\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer;\n          }\n        }\n      }\n    } // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n\n\n    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n      if (dy && canScrollY) {\n        updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * wheelPixelsPerUnit));\n      }\n\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * wheelPixelsPerUnit)); // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n\n      if (!dy || dy && canScrollY) {\n        e_preventDefault(e);\n      }\n\n      display.wheelStartX = null; // Abort measurement, if in progress\n\n      return;\n    } // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n\n\n    if (dy && wheelPixelsPerUnit != null) {\n      var pixels = dy * wheelPixelsPerUnit;\n      var top = cm.doc.scrollTop,\n          bot = top + display.wrapper.clientHeight;\n\n      if (pixels < 0) {\n        top = Math.max(0, top + pixels - 50);\n      } else {\n        bot = Math.min(cm.doc.height, bot + pixels + 50);\n      }\n\n      updateDisplaySimple(cm, {\n        top: top,\n        bottom: bot\n      });\n    }\n\n    if (wheelSamples < 20) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft;\n        display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx;\n        display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) {\n            return;\n          }\n\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = movedY && display.wheelDY && movedY / display.wheelDY || movedX && display.wheelDX && movedX / display.wheelDX;\n          display.wheelStartX = display.wheelStartY = null;\n\n          if (!sample) {\n            return;\n          }\n\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx;\n        display.wheelDY += dy;\n      }\n    }\n  } // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n\n\n  var Selection = function Selection(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () {\n    return this.ranges[this.primIndex];\n  };\n\n  Selection.prototype.equals = function (other) {\n    var this$1 = this;\n\n    if (other == this) {\n      return true;\n    }\n\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) {\n      return false;\n    }\n\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this$1.ranges[i],\n          there = other.ranges[i];\n\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  Selection.prototype.deepCopy = function () {\n    var this$1 = this;\n    var out = [];\n\n    for (var i = 0; i < this.ranges.length; i++) {\n      out[i] = new Range(copyPos(this$1.ranges[i].anchor), copyPos(this$1.ranges[i].head));\n    }\n\n    return new Selection(out, this.primIndex);\n  };\n\n  Selection.prototype.somethingSelected = function () {\n    var this$1 = this;\n\n    for (var i = 0; i < this.ranges.length; i++) {\n      if (!this$1.ranges[i].empty()) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n    var this$1 = this;\n\n    if (!end) {\n      end = pos;\n    }\n\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this$1.ranges[i];\n\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0) {\n        return i;\n      }\n    }\n\n    return -1;\n  };\n\n  var Range = function Range(anchor, head) {\n    this.anchor = anchor;\n    this.head = head;\n  };\n\n  Range.prototype.from = function () {\n    return minPos(this.anchor, this.head);\n  };\n\n  Range.prototype.to = function () {\n    return maxPos(this.anchor, this.head);\n  };\n\n  Range.prototype.empty = function () {\n    return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch;\n  }; // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n\n\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) {\n      return cmp(a.from(), b.from());\n    });\n    primIndex = indexOf(ranges, prim);\n\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i],\n          prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()),\n            to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n\n        if (i <= primIndex) {\n          --primIndex;\n        }\n\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n\n    return new Selection(ranges, primIndex);\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0);\n  } // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n\n\n  function changeEnd(change) {\n    if (!change.text) {\n      return change.to;\n    }\n\n    return Pos(change.from.line + change.text.length - 1, lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0));\n  } // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n\n\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) {\n      return pos;\n    }\n\n    if (cmp(pos, change.to) <= 0) {\n      return changeEnd(change);\n    }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1,\n        ch = pos.ch;\n\n    if (pos.line == change.to.line) {\n      ch += changeEnd(change).ch - change.to.ch;\n    }\n\n    return Pos(line, ch);\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change), adjustForChange(range.head, change)));\n    }\n\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex);\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line) {\n      return Pos(nw.line, pos.ch - old.ch + nw.ch);\n    } else {\n      return Pos(nw.line + (pos.line - old.line), pos.ch);\n    }\n  } // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n\n\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0),\n        newPrev = oldPrev;\n\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i],\n            inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n\n    return new Selection(out, doc.sel.primIndex);\n  } // Used to get the editor into a consistent state again when options change.\n\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) {\n        line.stateAfter = null;\n      }\n\n      if (line.styles) {\n        line.styles = null;\n      }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n\n    if (cm.curOp) {\n      regChange(cm);\n    }\n  } // DOCUMENT DATA STRUCTURE\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n\n\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" && (!doc.cm || doc.cm.options.wholeLineUpdateBefore);\n  } // Perform a change on the document data structure.\n\n\n  function updateDoc(doc, change, markedSpans, estimateHeight$$1) {\n    function spansFor(n) {\n      return markedSpans ? markedSpans[n] : null;\n    }\n\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight$$1);\n      signalLater(line, \"change\", line, change);\n    }\n\n    function linesFor(start, end) {\n      var result = [];\n\n      for (var i = start; i < end; ++i) {\n        result.push(new Line(text[i], spansFor(i), estimateHeight$$1));\n      }\n\n      return result;\n    }\n\n    var from = change.from,\n        to = change.to,\n        text = change.text;\n    var firstLine = getLine(doc, from.line),\n        lastLine = getLine(doc, to.line);\n    var lastText = lst(text),\n        lastSpans = spansFor(text.length - 1),\n        nlines = to.line - from.line; // Adjust the line structure\n\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n\n      if (nlines) {\n        doc.remove(from.line, nlines);\n      }\n\n      if (added.length) {\n        doc.insert(from.line, added);\n      }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight$$1));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n\n      if (nlines > 1) {\n        doc.remove(from.line + 1, nlines - 1);\n      }\n\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  } // Call f for all linked documents.\n\n\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) {\n        for (var i = 0; i < doc.linked.length; ++i) {\n          var rel = doc.linked[i];\n\n          if (rel.doc == skip) {\n            continue;\n          }\n\n          var shared = sharedHist && rel.sharedHist;\n\n          if (sharedHistOnly && !shared) {\n            continue;\n          }\n\n          f(rel.doc, shared);\n          propagate(rel.doc, doc, shared);\n        }\n      }\n    }\n\n    propagate(doc, null, true);\n  } // Attach a document to an editor.\n\n\n  function attachDoc(cm, doc) {\n    if (doc.cm) {\n      throw new Error(\"This document is already in use.\");\n    }\n\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n\n    if (!cm.options.lineWrapping) {\n      findMaxLine(cm);\n    }\n\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n    (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(startGen) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = [];\n    this.undone = [];\n    this.undoDepth = Infinity; // Used to track when changes can be merged into a single undo\n    // event\n\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null; // Used by the isClean() method\n\n    this.generation = this.maxGeneration = startGen || 1;\n  } // Create a history change event from an updateDoc-style change\n  // object.\n\n\n  function historyChangeFromChange(doc, change) {\n    var histChange = {\n      from: copyPos(change.from),\n      to: changeEnd(change),\n      text: getBetween(doc, change.from, change.to)\n    };\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) {\n      return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    }, true);\n    return histChange;\n  } // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n\n\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n\n      if (last.ranges) {\n        array.pop();\n      } else {\n        break;\n      }\n    }\n  } // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n\n\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done);\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done);\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done);\n    }\n  } // Register a change in the history. Merges changes that are within\n  // a single operation, or are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n\n\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date(),\n        cur;\n    var last;\n\n    if ((hist.lastOp == opId || hist.lastOrigin == change.origin && change.origin && (change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500) || change.origin.charAt(0) == \"*\")) && (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      last = lst(cur.changes);\n\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n\n      if (!before || !before.ranges) {\n        pushSelectionToHistory(doc.sel, hist.done);\n      }\n\n      cur = {\n        changes: [historyChangeFromChange(doc, change)],\n        generation: hist.generation\n      };\n      hist.done.push(cur);\n\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n\n        if (!hist.done[0].ranges) {\n          hist.done.shift();\n        }\n      }\n    }\n\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) {\n      signal(doc, \"historyAdded\");\n    }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" || ch == \"+\" && prev.ranges.length == sel.ranges.length && prev.somethingSelected() == sel.somethingSelected() && new Date() - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500);\n  } // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n\n\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history,\n        origin = options && options.origin; // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n\n    if (opId == hist.lastSelOp || origin && hist.lastSelOrigin == origin && (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin || selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))) {\n      hist.done[hist.done.length - 1] = sel;\n    } else {\n      pushSelectionToHistory(sel, hist.done);\n    }\n\n    hist.lastSelTime = +new Date();\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n\n    if (options && options.clearRedo !== false) {\n      clearSelectionEvents(hist.undone);\n    }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n\n    if (!(top && top.ranges && top.equals(sel))) {\n      dest.push(sel);\n    }\n  } // Used to store marked span information in the history.\n\n\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id],\n        n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans) {\n        (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans;\n      }\n\n      ++n;\n    });\n  } // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n\n\n  function removeClearedSpans(spans) {\n    if (!spans) {\n      return null;\n    }\n\n    var out;\n\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) {\n        if (!out) {\n          out = spans.slice(0, i);\n        }\n      } else if (out) {\n        out.push(spans[i]);\n      }\n    }\n\n    return !out ? spans : out.length ? out : null;\n  } // Retrieve and filter the old marked spans stored in a change event.\n\n\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n\n    if (!found) {\n      return null;\n    }\n\n    var nw = [];\n\n    for (var i = 0; i < change.text.length; ++i) {\n      nw.push(removeClearedSpans(found[i]));\n    }\n\n    return nw;\n  } // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n\n\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n\n    if (!old) {\n      return stretched;\n    }\n\n    if (!stretched) {\n      return old;\n    }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i],\n          stretchCur = stretched[i];\n\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n\n          for (var k = 0; k < oldCur.length; ++k) {\n            if (oldCur[k].marker == span.marker) {\n              continue spans;\n            }\n          }\n\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n\n    return old;\n  } // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n\n\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue;\n      }\n\n      var changes = event.changes,\n          newChanges = [];\n      copy.push({\n        changes: newChanges\n      });\n\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j],\n            m = void 0;\n        newChanges.push({\n          from: change.from,\n          to: change.to,\n          text: change.text\n        });\n\n        if (newGroup) {\n          for (var prop in change) {\n            if (m = prop.match(/^spans_(\\d+)$/)) {\n              if (indexOf(newGroup, Number(m[1])) > -1) {\n                lst(newChanges)[prop] = change[prop];\n                delete change[prop];\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return copy;\n  } // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n\n\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n\n        if (posBefore != cmp(other, anchor) < 0) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != cmp(head, other) < 0) {\n          head = other;\n        }\n      }\n\n      return new Range(anchor, head);\n    } else {\n      return new Range(other || head, head);\n    }\n  } // Extend the primary selection range, discard the rest.\n\n\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) {\n      extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    }\n\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  } // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n\n\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend);\n    }\n\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  } // Updates a single range in the selection.\n\n\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  } // Reset the selection to a single range.\n\n\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  } // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n\n\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function update(ranges) {\n        var this$1 = this;\n        this.ranges = [];\n\n        for (var i = 0; i < ranges.length; i++) {\n          this$1.ranges[i] = new Range(_clipPos(doc, ranges[i].anchor), _clipPos(doc, ranges[i].head));\n        }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n\n    if (doc.cm) {\n      signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj);\n    }\n\n    if (obj.ranges != sel.ranges) {\n      return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1);\n    } else {\n      return sel;\n    }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done,\n        last = lst(done);\n\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  } // Set a new selection.\n\n\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\")) {\n      sel = filterSelectionChange(doc, sel, options);\n    }\n\n    var bias = options && options.bias || (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm) {\n      ensureCursorVisible(doc.cm);\n    }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) {\n      return;\n    }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n\n    signalLater(doc, \"cursorActivity\", doc);\n  } // Verify that the selection does not partially select any atomic\n  // marked ranges.\n\n\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  } // Return a selection that does not partially select any atomic\n  // ranges.\n\n\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) {\n          out = sel.ranges.slice(0, i);\n        }\n\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel;\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n\n    if (line.markedSpans) {\n      for (var i = 0; i < line.markedSpans.length; ++i) {\n        var sp = line.markedSpans[i],\n            m = sp.marker; // Determine if we should prevent the cursor being placed to the left/right of an atomic marker\n        // Historically this was determined using the inclusiveLeft/Right option, but the new way to control it\n        // is with selectLeft/Right\n\n        var preventCursorLeft = \"selectLeft\" in m ? !m.selectLeft : m.inclusiveLeft;\n        var preventCursorRight = \"selectRight\" in m ? !m.selectRight : m.inclusiveRight;\n\n        if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) && (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n          if (mayClear) {\n            signal(m, \"beforeCursorEnter\");\n\n            if (m.explicitlyCleared) {\n              if (!line.markedSpans) {\n                break;\n              } else {\n                --i;\n                continue;\n              }\n            }\n          }\n\n          if (!m.atomic) {\n            continue;\n          }\n\n          if (oldPos) {\n            var near = m.find(dir < 0 ? 1 : -1),\n                diff = void 0;\n\n            if (dir < 0 ? preventCursorRight : preventCursorLeft) {\n              near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null);\n            }\n\n            if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0)) {\n              return skipAtomicInner(doc, near, pos, dir, mayClear);\n            }\n          }\n\n          var far = m.find(dir < 0 ? -1 : 1);\n\n          if (dir < 0 ? preventCursorLeft : preventCursorRight) {\n            far = movePos(doc, far, dir, far.line == pos.line ? line : null);\n          }\n\n          return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null;\n        }\n      }\n    }\n\n    return pos;\n  } // Ensure a given position is not inside an atomic range.\n\n\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) || !mayClear && skipAtomicInner(doc, pos, oldPos, dir, true) || skipAtomicInner(doc, pos, oldPos, -dir, mayClear) || !mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true);\n\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0);\n    }\n\n    return found;\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) {\n        return _clipPos(doc, Pos(pos.line - 1));\n      } else {\n        return null;\n      }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) {\n        return Pos(pos.line + 1, 0);\n      } else {\n        return null;\n      }\n    } else {\n      return new Pos(pos.line, pos.ch + dir);\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  } // UPDATING\n  // Allow \"beforeChange\" event handlers to influence a change\n\n\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function cancel() {\n        return obj.canceled = true;\n      }\n    };\n\n    if (update) {\n      obj.update = function (from, to, text, origin) {\n        if (from) {\n          obj.from = _clipPos(doc, from);\n        }\n\n        if (to) {\n          obj.to = _clipPos(doc, to);\n        }\n\n        if (text) {\n          obj.text = text;\n        }\n\n        if (origin !== undefined) {\n          obj.origin = origin;\n        }\n      };\n    }\n\n    signal(doc, \"beforeChange\", doc, obj);\n\n    if (doc.cm) {\n      signal(doc.cm, \"beforeChange\", doc.cm, obj);\n    }\n\n    if (obj.canceled) {\n      if (doc.cm) {\n        doc.cm.curOp.updateInput = 2;\n      }\n\n      return null;\n    }\n\n    return {\n      from: obj.from,\n      to: obj.to,\n      text: obj.text,\n      origin: obj.origin\n    };\n  } // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n\n\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) {\n        return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly);\n      }\n\n      if (doc.cm.state.suppressEdits) {\n        return;\n      }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n\n      if (!change) {\n        return;\n      }\n    } // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n\n\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i) {\n        makeChangeInner(doc, {\n          from: split[i].from,\n          to: split[i].to,\n          text: i ? [\"\"] : change.text,\n          origin: change.origin\n        });\n      }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) {\n      return;\n    }\n\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  } // Revert a change stored in a document's history.\n\n\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n\n    if (suppress && !allowSelectionOnly) {\n      return;\n    }\n\n    var hist = doc.history,\n        event,\n        selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone,\n        dest = type == \"undo\" ? hist.undone : hist.done; // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n\n    var i = 0;\n\n    for (; i < source.length; i++) {\n      event = source[i];\n\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges) {\n        break;\n      }\n    }\n\n    if (i == source.length) {\n      return;\n    }\n\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {\n            clearRedo: false\n          });\n          return;\n        }\n\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return;\n      } else {\n        break;\n      }\n    } // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n\n\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({\n      changes: antiChanges,\n      generation: hist.generation\n    });\n    hist.generation = event.generation || ++hist.maxGeneration;\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function loop(i) {\n      var change = event.changes[i];\n      change.origin = type;\n\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {};\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n\n      if (!i && doc.cm) {\n        doc.cm.scrollIntoView({\n          from: change.from,\n          to: changeEnd(change)\n        });\n      }\n\n      var rebased = []; // Propagate to the linked documents\n\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop(i$1);\n      if (returned) return returned.v;\n    }\n  } // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n\n\n  function shiftDoc(doc, distance) {\n    if (distance == 0) {\n      return;\n    }\n\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) {\n      return new Range(Pos(range.anchor.line + distance, range.anchor.ch), Pos(range.head.line + distance, range.head.ch));\n    }), doc.sel.primIndex);\n\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++) {\n        regLineChange(doc.cm, l, \"gutter\");\n      }\n    }\n  } // More lower-level change function, handling only a single document\n  // (not linked ones).\n\n\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp) {\n      return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans);\n    }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return;\n    }\n\n    if (change.from.line > doc.lastLine()) {\n      return;\n    } // Clip the change to the size of this doc\n\n\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {\n        from: Pos(doc.first, 0),\n        to: Pos(change.to.line + shift, change.to.ch),\n        text: [lst(change.text)],\n        origin: change.origin\n      };\n    }\n\n    var last = doc.lastLine();\n\n    if (change.to.line > last) {\n      change = {\n        from: change.from,\n        to: Pos(last, getLine(doc, last).text.length),\n        text: [change.text[0]],\n        origin: change.origin\n      };\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) {\n      selAfter = computeSelAfterChange(doc, change);\n    }\n\n    if (doc.cm) {\n      makeChangeSingleDocInEditor(doc.cm, change, spans);\n    } else {\n      updateDoc(doc, change, spans);\n    }\n\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n\n    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0))) {\n      doc.cantEdit = false;\n    }\n  } // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n\n\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc,\n        display = cm.display,\n        from = change.from,\n        to = change.to;\n    var recomputeMaxLength = false,\n        checkWidthStart = from.line;\n\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true;\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1) {\n      signalCursorActivity(cm);\n    }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n\n      if (recomputeMaxLength) {\n        cm.curOp.updateMaxLine = true;\n      }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n    var lendiff = change.text.length - (to.line - from.line) - 1; // Remember that these lines changed, for updating the display\n\n    if (change.full) {\n      regChange(cm);\n    } else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change)) {\n      regLineChange(cm, from.line, \"text\");\n    } else {\n      regChange(cm, from.line, to.line + 1, lendiff);\n    }\n\n    var changesHandler = hasHandler(cm, \"changes\"),\n        changeHandler = hasHandler(cm, \"change\");\n\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from,\n        to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n\n      if (changeHandler) {\n        signalLater(cm, \"change\", cm, obj);\n      }\n\n      if (changesHandler) {\n        (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj);\n      }\n    }\n\n    cm.display.selForContextMenu = null;\n  }\n\n  function _replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) {\n      to = from;\n    }\n\n    if (cmp(to, from) < 0) {\n      assign = [to, from], from = assign[0], to = assign[1];\n    }\n\n    if (typeof code == \"string\") {\n      code = doc.splitLines(code);\n    }\n\n    makeChange(doc, {\n      from: from,\n      to: to,\n      text: code,\n      origin: origin\n    });\n  } // Rebasing/resetting history to deal with externally-sourced changes\n\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  } // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n\n\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i],\n          ok = true;\n\n      if (sub.ranges) {\n        if (!sub.copied) {\n          sub = array[i] = sub.deepCopy();\n          sub.copied = true;\n        }\n\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n\n        continue;\n      }\n\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break;\n        }\n      }\n\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line,\n        to = change.to.line,\n        diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  } // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n\n\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle,\n        line = handle;\n\n    if (typeof handle == \"number\") {\n      line = getLine(doc, clipLine(doc, handle));\n    } else {\n      no = lineNo(handle);\n    }\n\n    if (no == null) {\n      return null;\n    }\n\n    if (op(line, no) && doc.cm) {\n      regLineChange(doc.cm, no, changeType);\n    }\n\n    return line;\n  } // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n\n  function LeafChunk(lines) {\n    var this$1 = this;\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this$1;\n      height += lines[i].height;\n    }\n\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function chunkSize() {\n      return this.lines.length;\n    },\n    // Remove the n lines at offset 'at'.\n    removeInner: function removeInner(at, n) {\n      var this$1 = this;\n\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this$1.lines[i];\n        this$1.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n\n      this.lines.splice(at, n);\n    },\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function collapse(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function insertInner(at, lines, height) {\n      var this$1 = this;\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n\n      for (var i = 0; i < lines.length; ++i) {\n        lines[i].parent = this$1;\n      }\n    },\n    // Used to iterate over a part of the tree.\n    iterN: function iterN(at, n, op) {\n      var this$1 = this;\n\n      for (var e = at + n; at < e; ++at) {\n        if (op(this$1.lines[at])) {\n          return true;\n        }\n      }\n    }\n  };\n\n  function BranchChunk(children) {\n    var this$1 = this;\n    this.children = children;\n    var size = 0,\n        height = 0;\n\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize();\n      height += ch.height;\n      ch.parent = this$1;\n    }\n\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function chunkSize() {\n      return this.size;\n    },\n    removeInner: function removeInner(at, n) {\n      var this$1 = this;\n      this.size -= n;\n\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this$1.children[i],\n            sz = child.chunkSize();\n\n        if (at < sz) {\n          var rm = Math.min(n, sz - at),\n              oldHeight = child.height;\n          child.removeInner(at, rm);\n          this$1.height -= oldHeight - child.height;\n\n          if (sz == rm) {\n            this$1.children.splice(i--, 1);\n            child.parent = null;\n          }\n\n          if ((n -= rm) == 0) {\n            break;\n          }\n\n          at = 0;\n        } else {\n          at -= sz;\n        }\n      } // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n\n\n      if (this.size - n < 25 && (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n    collapse: function collapse(lines) {\n      var this$1 = this;\n\n      for (var i = 0; i < this.children.length; ++i) {\n        this$1.children[i].collapse(lines);\n      }\n    },\n    insertInner: function insertInner(at, lines, height) {\n      var this$1 = this;\n      this.size += lines.length;\n      this.height += height;\n\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this$1.children[i],\n            sz = child.chunkSize();\n\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this$1.children.splice(++i, 0, leaf);\n              leaf.parent = this$1;\n            }\n\n            child.lines = child.lines.slice(0, remaining);\n            this$1.maybeSpill();\n          }\n\n          break;\n        }\n\n        at -= sz;\n      }\n    },\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function maybeSpill() {\n      if (this.children.length <= 10) {\n        return;\n      }\n\n      var me = this;\n\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n\n        if (!me.parent) {\n          // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n        } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n\n        sibling.parent = me.parent;\n      } while (me.children.length > 10);\n\n      me.parent.maybeSpill();\n    },\n    iterN: function iterN(at, n, op) {\n      var this$1 = this;\n\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this$1.children[i],\n            sz = child.chunkSize();\n\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n\n          if (child.iterN(at, used, op)) {\n            return true;\n          }\n\n          if ((n -= used) == 0) {\n            break;\n          }\n\n          at = 0;\n        } else {\n          at -= sz;\n        }\n      }\n    }\n  }; // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function LineWidget(doc, node, options) {\n    var this$1 = this;\n\n    if (options) {\n      for (var opt in options) {\n        if (options.hasOwnProperty(opt)) {\n          this$1[opt] = options[opt];\n        }\n      }\n    }\n\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n    var this$1 = this;\n    var cm = this.doc.cm,\n        ws = this.line.widgets,\n        line = this.line,\n        no = lineNo(line);\n\n    if (no == null || !ws) {\n      return;\n    }\n\n    for (var i = 0; i < ws.length; ++i) {\n      if (ws[i] == this$1) {\n        ws.splice(i--, 1);\n      }\n    }\n\n    if (!ws.length) {\n      line.widgets = null;\n    }\n\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n    var this$1 = this;\n    var oldH = this.height,\n        cm = this.doc.cm,\n        line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n\n    if (!diff) {\n      return;\n    }\n\n    if (!lineIsHidden(this.doc, line)) {\n      updateLineHeight(line, line.height + diff);\n    }\n\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (_heightAtLine(line) < (cm.curOp && cm.curOp.scrollTop || cm.doc.scrollTop)) {\n      addToScrollTop(cm, diff);\n    }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n\n    if (cm && widget.noHScroll) {\n      cm.display.alignWidgets = true;\n    }\n\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n\n      if (widget.insertAt == null) {\n        widgets.push(widget);\n      } else {\n        widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget);\n      }\n\n      widget.line = line;\n\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = _heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n\n        if (aboveVisible) {\n          addToScrollTop(cm, widget.height);\n        }\n\n        cm.curOp.forceUpdate = true;\n      }\n\n      return true;\n    });\n\n    if (cm) {\n      signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle));\n    }\n\n    return widget;\n  } // TEXTMARKERS\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n\n\n  var nextMarkerId = 0;\n\n  var TextMarker = function TextMarker(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  }; // Clear the marker.\n\n\n  TextMarker.prototype.clear = function () {\n    var this$1 = this;\n\n    if (this.explicitlyCleared) {\n      return;\n    }\n\n    var cm = this.doc.cm,\n        withOp = cm && !cm.curOp;\n\n    if (withOp) {\n      _startOperation(cm);\n    }\n\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n\n      if (found) {\n        signalLater(this, \"clear\", found.from, found.to);\n      }\n    }\n\n    var min = null,\n        max = null;\n\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this$1.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this$1);\n\n      if (cm && !this$1.collapsed) {\n        regLineChange(cm, lineNo(line), \"text\");\n      } else if (cm) {\n        if (span.to != null) {\n          max = lineNo(line);\n        }\n\n        if (span.from != null) {\n          min = lineNo(line);\n        }\n      }\n\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n\n      if (span.from == null && this$1.collapsed && !lineIsHidden(this$1.doc, line) && cm) {\n        updateLineHeight(line, textHeight(cm.display));\n      }\n    }\n\n    if (cm && this.collapsed && !cm.options.lineWrapping) {\n      for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n        var visual = visualLine(this$1.lines[i$1]),\n            len = lineLength(visual);\n\n        if (len > cm.display.maxLineLength) {\n          cm.display.maxLine = visual;\n          cm.display.maxLineLength = len;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n\n    if (min != null && cm && this.collapsed) {\n      regChange(cm, min, max + 1);\n    }\n\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n\n      if (cm) {\n        reCheckSelection(cm.doc);\n      }\n    }\n\n    if (cm) {\n      signalLater(cm, \"markerCleared\", cm, this, min, max);\n    }\n\n    if (withOp) {\n      _endOperation(cm);\n    }\n\n    if (this.parent) {\n      this.parent.clear();\n    }\n  }; // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n\n\n  TextMarker.prototype.find = function (side, lineObj) {\n    var this$1 = this;\n\n    if (side == null && this.type == \"bookmark\") {\n      side = 1;\n    }\n\n    var from, to;\n\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this$1.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this$1);\n\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n\n        if (side == -1) {\n          return from;\n        }\n      }\n\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n\n        if (side == 1) {\n          return to;\n        }\n      }\n    }\n\n    return from && {\n      from: from,\n      to: to\n    };\n  }; // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n\n\n  TextMarker.prototype.changed = function () {\n    var this$1 = this;\n    var pos = this.find(-1, true),\n        widget = this,\n        cm = this.doc.cm;\n\n    if (!pos || !cm) {\n      return;\n    }\n\n    runInOp(cm, function () {\n      var line = pos.line,\n          lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n\n      cm.curOp.updateMaxLine = true;\n\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n\n        if (dHeight) {\n          updateLineHeight(line, line.height + dHeight);\n        }\n      }\n\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1) {\n        (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this);\n      }\n    }\n\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      (op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n\n  eventMixin(TextMarker); // Create a marker, wire it up to the right lines, and\n\n  function _markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) {\n      return markTextShared(doc, from, to, options, type);\n    } // Ensure we are in an operation.\n\n\n    if (doc.cm && !doc.cm.curOp) {\n      return operation(doc.cm, _markText)(doc, from, to, options, type);\n    }\n\n    var marker = new TextMarker(doc, type),\n        diff = cmp(from, to);\n\n    if (options) {\n      copyObj(options, marker, false);\n    } // Don't connect empty markers unless clearWhenEmpty is false\n\n\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false) {\n      return marker;\n    }\n\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n\n      if (!options.handleMouseEvents) {\n        marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\");\n      }\n\n      if (options.insertLeft) {\n        marker.widgetNode.insertLeft = true;\n      }\n    }\n\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) || from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker)) {\n        throw new Error(\"Inserting collapsed marker partially overlapping an existing one\");\n      }\n\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory) {\n      addChangeToHistory(doc, {\n        from: from,\n        to: to,\n        origin: \"markText\"\n      }, doc.sel, NaN);\n    }\n\n    var curLine = from.line,\n        cm = doc.cm,\n        updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine) {\n        updateMaxLine = true;\n      }\n\n      if (marker.collapsed && curLine != from.line) {\n        updateLineHeight(line, 0);\n      }\n\n      addMarkedSpan(line, new MarkedSpan(marker, curLine == from.line ? from.ch : null, curLine == to.line ? to.ch : null));\n      ++curLine;\n    }); // lineIsHidden depends on the presence of the spans, so needs a second pass\n\n    if (marker.collapsed) {\n      doc.iter(from.line, to.line + 1, function (line) {\n        if (lineIsHidden(doc, line)) {\n          updateLineHeight(line, 0);\n        }\n      });\n    }\n\n    if (marker.clearOnEnter) {\n      on(marker, \"beforeCursorEnter\", function () {\n        return marker.clear();\n      });\n    }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n\n      if (doc.history.done.length || doc.history.undone.length) {\n        doc.clearHistory();\n      }\n    }\n\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) {\n        cm.curOp.updateMaxLine = true;\n      }\n\n      if (marker.collapsed) {\n        regChange(cm, from.line, to.line + 1);\n      } else if (marker.className || marker.startStyle || marker.endStyle || marker.css || marker.attributes || marker.title) {\n        for (var i = from.line; i <= to.line; i++) {\n          regLineChange(cm, i, \"text\");\n        }\n      }\n\n      if (marker.atomic) {\n        reCheckSelection(cm.doc);\n      }\n\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n\n    return marker;\n  } // SHARED TEXTMARKERS\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n\n\n  var SharedTextMarker = function SharedTextMarker(markers, primary) {\n    var this$1 = this;\n    this.markers = markers;\n    this.primary = primary;\n\n    for (var i = 0; i < markers.length; ++i) {\n      markers[i].parent = this$1;\n    }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n    var this$1 = this;\n\n    if (this.explicitlyCleared) {\n      return;\n    }\n\n    this.explicitlyCleared = true;\n\n    for (var i = 0; i < this.markers.length; ++i) {\n      this$1.markers[i].clear();\n    }\n\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj);\n  };\n\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [_markText(doc, from, to, options, type)],\n        primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) {\n        options.widgetNode = widget.cloneNode(true);\n      }\n\n      markers.push(_markText(doc, _clipPos(doc, from), _clipPos(doc, to), options, type));\n\n      for (var i = 0; i < doc.linked.length; ++i) {\n        if (doc.linked[i].isParent) {\n          return;\n        }\n      }\n\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary);\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) {\n      return m.parent;\n    });\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i],\n          pos = marker.find();\n      var mFrom = doc.clipPos(pos.from),\n          mTo = doc.clipPos(pos.to);\n\n      if (cmp(mFrom, mTo)) {\n        var subMark = _markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function loop(i) {\n      var marker = markers[i],\n          linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) {\n        return linked.push(d);\n      });\n\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) {\n      loop(i);\n    }\n  }\n\n  var nextDocId = 0;\n\n  var Doc = function Doc(text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) {\n      return new Doc(text, mode, firstLine, lineSep, direction);\n    }\n\n    if (firstLine == null) {\n      firstLine = 0;\n    }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = direction == \"rtl\" ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") {\n      text = this.splitLines(text);\n    }\n\n    updateDoc(this, {\n      from: start,\n      to: start,\n      text: text\n    });\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function iter(from, to, op) {\n      if (op) {\n        this.iterN(from - this.first, to - from, op);\n      } else {\n        this.iterN(this.first, this.first + this.size, from);\n      }\n    },\n    // Non-public interface for adding and removing lines.\n    insert: function insert(at, lines) {\n      var height = 0;\n\n      for (var i = 0; i < lines.length; ++i) {\n        height += lines[i].height;\n      }\n\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function remove(at, n) {\n      this.removeInner(at - this.first, n);\n    },\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n    getValue: function getValue(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n\n      if (lineSep === false) {\n        return lines;\n      }\n\n      return lines.join(lineSep || this.lineSeparator());\n    },\n    setValue: docMethodOp(function (code) {\n      var top = Pos(this.first, 0),\n          last = this.first + this.size - 1;\n      makeChange(this, {\n        from: top,\n        to: Pos(last, getLine(this, last).text.length),\n        text: this.splitLines(code),\n        origin: \"setValue\",\n        full: true\n      }, true);\n\n      if (this.cm) {\n        scrollToCoords(this.cm, 0, 0);\n      }\n\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function replaceRange(code, from, to, origin) {\n      from = _clipPos(this, from);\n      to = to ? _clipPos(this, to) : from;\n\n      _replaceRange(this, code, from, to, origin);\n    },\n    getRange: function getRange(from, to, lineSep) {\n      var lines = getBetween(this, _clipPos(this, from), _clipPos(this, to));\n\n      if (lineSep === false) {\n        return lines;\n      }\n\n      return lines.join(lineSep || this.lineSeparator());\n    },\n    getLine: function getLine(line) {\n      var l = this.getLineHandle(line);\n      return l && l.text;\n    },\n    getLineHandle: function getLineHandle(line) {\n      if (isLine(this, line)) {\n        return getLine(this, line);\n      }\n    },\n    getLineNumber: function getLineNumber(line) {\n      return lineNo(line);\n    },\n    getLineHandleVisualStart: function getLineHandleVisualStart(line) {\n      if (typeof line == \"number\") {\n        line = getLine(this, line);\n      }\n\n      return visualLine(line);\n    },\n    lineCount: function lineCount() {\n      return this.size;\n    },\n    firstLine: function firstLine() {\n      return this.first;\n    },\n    lastLine: function lastLine() {\n      return this.first + this.size - 1;\n    },\n    clipPos: function clipPos(pos) {\n      return _clipPos(this, pos);\n    },\n    getCursor: function getCursor(start) {\n      var range$$1 = this.sel.primary(),\n          pos;\n\n      if (start == null || start == \"head\") {\n        pos = range$$1.head;\n      } else if (start == \"anchor\") {\n        pos = range$$1.anchor;\n      } else if (start == \"end\" || start == \"to\" || start === false) {\n        pos = range$$1.to();\n      } else {\n        pos = range$$1.from();\n      }\n\n      return pos;\n    },\n    listSelections: function listSelections() {\n      return this.sel.ranges;\n    },\n    somethingSelected: function somethingSelected() {\n      return this.sel.somethingSelected();\n    },\n    setCursor: docMethodOp(function (line, ch, options) {\n      setSimpleSelection(this, _clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function (anchor, head, options) {\n      setSimpleSelection(this, _clipPos(this, anchor), _clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function (head, other, options) {\n      extendSelection(this, _clipPos(this, head), other && _clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function (heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function (f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function (ranges, primary, options) {\n      var this$1 = this;\n\n      if (!ranges.length) {\n        return;\n      }\n\n      var out = [];\n\n      for (var i = 0; i < ranges.length; i++) {\n        out[i] = new Range(_clipPos(this$1, ranges[i].anchor), _clipPos(this$1, ranges[i].head));\n      }\n\n      if (primary == null) {\n        primary = Math.min(ranges.length - 1, this.sel.primIndex);\n      }\n\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function (anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(_clipPos(this, anchor), _clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n    getSelection: function getSelection(lineSep) {\n      var this$1 = this;\n      var ranges = this.sel.ranges,\n          lines;\n\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this$1, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n\n      if (lineSep === false) {\n        return lines;\n      } else {\n        return lines.join(lineSep || this.lineSeparator());\n      }\n    },\n    getSelections: function getSelections(lineSep) {\n      var this$1 = this;\n      var parts = [],\n          ranges = this.sel.ranges;\n\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this$1, ranges[i].from(), ranges[i].to());\n\n        if (lineSep !== false) {\n          sel = sel.join(lineSep || this$1.lineSeparator());\n        }\n\n        parts[i] = sel;\n      }\n\n      return parts;\n    },\n    replaceSelection: function replaceSelection(code, collapse, origin) {\n      var dup = [];\n\n      for (var i = 0; i < this.sel.ranges.length; i++) {\n        dup[i] = code;\n      }\n\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function (code, collapse, origin) {\n      var this$1 = this;\n      var changes = [],\n          sel = this.sel;\n\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range$$1 = sel.ranges[i];\n        changes[i] = {\n          from: range$$1.from(),\n          to: range$$1.to(),\n          text: this$1.splitLines(code[i]),\n          origin: origin\n        };\n      }\n\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--) {\n        makeChange(this$1, changes[i$1]);\n      }\n\n      if (newSel) {\n        setSelectionReplaceHistory(this, newSel);\n      } else if (this.cm) {\n        ensureCursorVisible(this.cm);\n      }\n    }),\n    undo: docMethodOp(function () {\n      makeChangeFromHistory(this, \"undo\");\n    }),\n    redo: docMethodOp(function () {\n      makeChangeFromHistory(this, \"redo\");\n    }),\n    undoSelection: docMethodOp(function () {\n      makeChangeFromHistory(this, \"undo\", true);\n    }),\n    redoSelection: docMethodOp(function () {\n      makeChangeFromHistory(this, \"redo\", true);\n    }),\n    setExtending: function setExtending(val) {\n      this.extend = val;\n    },\n    getExtending: function getExtending() {\n      return this.extend;\n    },\n    historySize: function historySize() {\n      var hist = this.history,\n          done = 0,\n          undone = 0;\n\n      for (var i = 0; i < hist.done.length; i++) {\n        if (!hist.done[i].ranges) {\n          ++done;\n        }\n      }\n\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) {\n        if (!hist.undone[i$1].ranges) {\n          ++undone;\n        }\n      }\n\n      return {\n        undo: done,\n        redo: undone\n      };\n    },\n    clearHistory: function clearHistory() {\n      this.history = new History(this.history.maxGeneration);\n    },\n    markClean: function markClean() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function changeGeneration(forceSplit) {\n      if (forceSplit) {\n        this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null;\n      }\n\n      return this.history.generation;\n    },\n    isClean: function isClean(gen) {\n      return this.history.generation == (gen || this.cleanGeneration);\n    },\n    getHistory: function getHistory() {\n      return {\n        done: copyHistoryArray(this.history.done),\n        undone: copyHistoryArray(this.history.undone)\n      };\n    },\n    setHistory: function setHistory(histData) {\n      var hist = this.history = new History(this.history.maxGeneration);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n    setGutterMarker: docMethodOp(function (line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n\n        if (!value && isEmpty(markers)) {\n          line.gutterMarkers = null;\n        }\n\n        return true;\n      });\n    }),\n    clearGutter: docMethodOp(function (gutterID) {\n      var this$1 = this;\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n\n            if (isEmpty(line.gutterMarkers)) {\n              line.gutterMarkers = null;\n            }\n\n            return true;\n          });\n        }\n      });\n    }),\n    lineInfo: function lineInfo(line) {\n      var n;\n\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) {\n          return null;\n        }\n\n        n = line;\n        line = getLine(this, line);\n\n        if (!line) {\n          return null;\n        }\n      } else {\n        n = lineNo(line);\n\n        if (n == null) {\n          return null;\n        }\n      }\n\n      return {\n        line: n,\n        handle: line,\n        text: line.text,\n        gutterMarkers: line.gutterMarkers,\n        textClass: line.textClass,\n        bgClass: line.bgClass,\n        wrapClass: line.wrapClass,\n        widgets: line.widgets\n      };\n    },\n    addLineClass: docMethodOp(function (handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\" : where == \"background\" ? \"bgClass\" : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n\n        if (!line[prop]) {\n          line[prop] = cls;\n        } else if (classTest(cls).test(line[prop])) {\n          return false;\n        } else {\n          line[prop] += \" \" + cls;\n        }\n\n        return true;\n      });\n    }),\n    removeLineClass: docMethodOp(function (handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\" : where == \"background\" ? \"bgClass\" : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n\n        if (!cur) {\n          return false;\n        } else if (cls == null) {\n          line[prop] = null;\n        } else {\n          var found = cur.match(classTest(cls));\n\n          if (!found) {\n            return false;\n          }\n\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n\n        return true;\n      });\n    }),\n    addLineWidget: docMethodOp(function (handle, node, options) {\n      return addLineWidget(this, handle, node, options);\n    }),\n    removeLineWidget: function removeLineWidget(widget) {\n      widget.clear();\n    },\n    markText: function markText(from, to, options) {\n      return _markText(this, _clipPos(this, from), _clipPos(this, to), options, options && options.type || \"range\");\n    },\n    setBookmark: function setBookmark(pos, options) {\n      var realOpts = {\n        replacedWith: options && (options.nodeType == null ? options.widget : options),\n        insertLeft: options && options.insertLeft,\n        clearWhenEmpty: false,\n        shared: options && options.shared,\n        handleMouseEvents: options && options.handleMouseEvents\n      };\n      pos = _clipPos(this, pos);\n      return _markText(this, pos, pos, realOpts, \"bookmark\");\n    },\n    findMarksAt: function findMarksAt(pos) {\n      pos = _clipPos(this, pos);\n      var markers = [],\n          spans = getLine(this, pos.line).markedSpans;\n\n      if (spans) {\n        for (var i = 0; i < spans.length; ++i) {\n          var span = spans[i];\n\n          if ((span.from == null || span.from <= pos.ch) && (span.to == null || span.to >= pos.ch)) {\n            markers.push(span.marker.parent || span.marker);\n          }\n        }\n      }\n\n      return markers;\n    },\n    findMarks: function findMarks(from, to, filter) {\n      from = _clipPos(this, from);\n      to = _clipPos(this, to);\n      var found = [],\n          lineNo$$1 = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n\n        if (spans) {\n          for (var i = 0; i < spans.length; i++) {\n            var span = spans[i];\n\n            if (!(span.to != null && lineNo$$1 == from.line && from.ch >= span.to || span.from == null && lineNo$$1 != from.line || span.from != null && lineNo$$1 == to.line && span.from >= to.ch) && (!filter || filter(span.marker))) {\n              found.push(span.marker.parent || span.marker);\n            }\n          }\n        }\n\n        ++lineNo$$1;\n      });\n      return found;\n    },\n    getAllMarks: function getAllMarks() {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n\n        if (sps) {\n          for (var i = 0; i < sps.length; ++i) {\n            if (sps[i].from != null) {\n              markers.push(sps[i].marker);\n            }\n          }\n        }\n      });\n      return markers;\n    },\n    posFromIndex: function posFromIndex(off) {\n      var ch,\n          lineNo$$1 = this.first,\n          sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n\n        if (sz > off) {\n          ch = off;\n          return true;\n        }\n\n        off -= sz;\n        ++lineNo$$1;\n      });\n      return _clipPos(this, Pos(lineNo$$1, ch));\n    },\n    indexFromPos: function indexFromPos(coords) {\n      coords = _clipPos(this, coords);\n      var index = coords.ch;\n\n      if (coords.line < this.first || coords.ch < 0) {\n        return 0;\n      }\n\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) {\n        // iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index;\n    },\n    copy: function copy(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size), this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop;\n      doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n\n      return doc;\n    },\n    linkedDoc: function linkedDoc(options) {\n      if (!options) {\n        options = {};\n      }\n\n      var from = this.first,\n          to = this.first + this.size;\n\n      if (options.from != null && options.from > from) {\n        from = options.from;\n      }\n\n      if (options.to != null && options.to < to) {\n        to = options.to;\n      }\n\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n\n      if (options.sharedHist) {\n        copy.history = this.history;\n      }\n\n      (this.linked || (this.linked = [])).push({\n        doc: copy,\n        sharedHist: options.sharedHist\n      });\n      copy.linked = [{\n        doc: this,\n        isParent: true,\n        sharedHist: options.sharedHist\n      }];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy;\n    },\n    unlinkDoc: function unlinkDoc(other) {\n      var this$1 = this;\n\n      if (other instanceof CodeMirror) {\n        other = other.doc;\n      }\n\n      if (this.linked) {\n        for (var i = 0; i < this.linked.length; ++i) {\n          var link = this$1.linked[i];\n\n          if (link.doc != other) {\n            continue;\n          }\n\n          this$1.linked.splice(i, 1);\n          other.unlinkDoc(this$1);\n          detachSharedMarkers(findSharedMarkers(this$1));\n          break;\n        }\n      } // If the histories were shared, split them again\n\n\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) {\n          return splitIds.push(doc.id);\n        }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function iterLinkedDocs(f) {\n      linkedDocs(this, f);\n    },\n    getMode: function getMode() {\n      return this.mode;\n    },\n    getEditor: function getEditor() {\n      return this.cm;\n    },\n    splitLines: function splitLines(str) {\n      if (this.lineSep) {\n        return str.split(this.lineSep);\n      }\n\n      return splitLinesAuto(str);\n    },\n    lineSeparator: function lineSeparator() {\n      return this.lineSep || \"\\n\";\n    },\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") {\n        dir = \"ltr\";\n      }\n\n      if (dir == this.direction) {\n        return;\n      }\n\n      this.direction = dir;\n      this.iter(function (line) {\n        return line.order = null;\n      });\n\n      if (this.cm) {\n        directionChanged(this.cm);\n      }\n    })\n  }); // Public alias.\n\n  Doc.prototype.eachLine = Doc.prototype.iter; // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) {\n      return;\n    }\n\n    e_preventDefault(e);\n\n    if (ie) {\n      lastDrop = +new Date();\n    }\n\n    var pos = posFromMouse(cm, e, true),\n        files = e.dataTransfer.files;\n\n    if (!pos || cm.isReadOnly()) {\n      return;\n    } // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n\n\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length,\n          text = Array(n),\n          read = 0;\n\n      var loadFile = function loadFile(file, i) {\n        if (cm.options.allowDropFileTypes && indexOf(cm.options.allowDropFileTypes, file.type) == -1) {\n          return;\n        }\n\n        var reader = new FileReader();\n        reader.onload = operation(cm, function () {\n          var content = reader.result;\n\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) {\n            content = \"\";\n          }\n\n          text[i] = content;\n\n          if (++read == n) {\n            pos = _clipPos(cm.doc, pos);\n            var change = {\n              from: pos,\n              to: pos,\n              text: cm.doc.splitLines(text.join(cm.doc.lineSeparator())),\n              origin: \"paste\"\n            };\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(pos, changeEnd(change)));\n          }\n        });\n        reader.readAsText(file);\n      };\n\n      for (var i = 0; i < n; ++i) {\n        loadFile(files[i], i);\n      }\n    } else {\n      // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e); // Ensure the editor is re-focused\n\n        setTimeout(function () {\n          return cm.display.input.focus();\n        }, 20);\n        return;\n      }\n\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n\n        if (text$1) {\n          var selected;\n\n          if (cm.state.draggingText && !cm.state.draggingText.copy) {\n            selected = cm.listSelections();\n          }\n\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n\n          if (selected) {\n            for (var i$1 = 0; i$1 < selected.length; ++i$1) {\n              _replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\");\n            }\n          }\n\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      } catch (e) {}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date() - lastDrop < 100)) {\n      e_stop(e);\n      return;\n    }\n\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) {\n      return;\n    }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\"; // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img); // Force a relayout, or Opera won't use our image for some obscure reason\n\n        img._top = img.offsetTop;\n      }\n\n      e.dataTransfer.setDragImage(img, 0, 0);\n\n      if (presto) {\n        img.parentNode.removeChild(img);\n      }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n\n    if (!pos) {\n      return;\n    }\n\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  } // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) {\n      return;\n    }\n\n    var byClass = document.getElementsByClassName(\"CodeMirror\"),\n        editors = [];\n\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n\n      if (cm) {\n        editors.push(cm);\n      }\n    }\n\n    if (editors.length) {\n      editors[0].operation(function () {\n        for (var i = 0; i < editors.length; i++) {\n          f(editors[i]);\n        }\n      });\n    }\n  }\n\n  var globalsRegistered = false;\n\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) {\n      return;\n    }\n\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) {\n        resizeTimer = setTimeout(function () {\n          resizeTimer = null;\n          forEachCodeMirror(onResize);\n        }, 100);\n      }\n    }); // When the window loses focus, we want to show the editor as blurred\n\n    on(window, \"blur\", function () {\n      return forEachCodeMirror(onBlur);\n    });\n  } // Called when the window resizes\n\n\n  function onResize(cm) {\n    var d = cm.display; // Might be a text scaling operation, clear size caches.\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\",\n    8: \"Backspace\",\n    9: \"Tab\",\n    13: \"Enter\",\n    16: \"Shift\",\n    17: \"Ctrl\",\n    18: \"Alt\",\n    19: \"Pause\",\n    20: \"CapsLock\",\n    27: \"Esc\",\n    32: \"Space\",\n    33: \"PageUp\",\n    34: \"PageDown\",\n    35: \"End\",\n    36: \"Home\",\n    37: \"Left\",\n    38: \"Up\",\n    39: \"Right\",\n    40: \"Down\",\n    44: \"PrintScrn\",\n    45: \"Insert\",\n    46: \"Delete\",\n    59: \";\",\n    61: \"=\",\n    91: \"Mod\",\n    92: \"Mod\",\n    93: \"Mod\",\n    106: \"*\",\n    107: \"=\",\n    109: \"-\",\n    110: \".\",\n    111: \"/\",\n    145: \"ScrollLock\",\n    173: \"-\",\n    186: \";\",\n    187: \"=\",\n    188: \",\",\n    189: \"-\",\n    190: \".\",\n    191: \"/\",\n    192: \"`\",\n    219: \"[\",\n    220: \"\\\\\",\n    221: \"]\",\n    222: \"'\",\n    63232: \"Up\",\n    63233: \"Down\",\n    63234: \"Left\",\n    63235: \"Right\",\n    63272: \"Delete\",\n    63273: \"Home\",\n    63275: \"End\",\n    63276: \"PageUp\",\n    63277: \"PageDown\",\n    63302: \"Insert\"\n  }; // Number keys\n\n  for (var i = 0; i < 10; i++) {\n    keyNames[i + 48] = keyNames[i + 96] = String(i);\n  } // Alphabetic keys\n\n\n  for (var i$1 = 65; i$1 <= 90; i$1++) {\n    keyNames[i$1] = String.fromCharCode(i$1);\n  } // Function keys\n\n\n  for (var i$2 = 1; i$2 <= 12; i$2++) {\n    keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2;\n  }\n\n  var keyMap = {};\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\",\n    \"Right\": \"goCharRight\",\n    \"Up\": \"goLineUp\",\n    \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\",\n    \"Home\": \"goLineStartSmart\",\n    \"PageUp\": \"goPageUp\",\n    \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\",\n    \"Backspace\": \"delCharBefore\",\n    \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\",\n    \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\",\n    \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  }; // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\",\n    \"Ctrl-D\": \"deleteLine\",\n    \"Ctrl-Z\": \"undo\",\n    \"Shift-Ctrl-Z\": \"redo\",\n    \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\",\n    \"Ctrl-End\": \"goDocEnd\",\n    \"Ctrl-Up\": \"goLineUp\",\n    \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\",\n    \"Ctrl-Right\": \"goGroupRight\",\n    \"Alt-Left\": \"goLineStart\",\n    \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Delete\": \"delGroupAfter\",\n    \"Ctrl-S\": \"save\",\n    \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\",\n    \"Shift-Ctrl-G\": \"findPrev\",\n    \"Shift-Ctrl-F\": \"replace\",\n    \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\",\n    \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\",\n    \"Shift-Ctrl-U\": \"redoSelection\",\n    \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  }; // Very basic readline/emacs-style bindings, which are standard on Mac.\n\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\",\n    \"Ctrl-B\": \"goCharLeft\",\n    \"Ctrl-P\": \"goLineUp\",\n    \"Ctrl-N\": \"goLineDown\",\n    \"Alt-F\": \"goWordRight\",\n    \"Alt-B\": \"goWordLeft\",\n    \"Ctrl-A\": \"goLineStart\",\n    \"Ctrl-E\": \"goLineEnd\",\n    \"Ctrl-V\": \"goPageDown\",\n    \"Shift-Ctrl-V\": \"goPageUp\",\n    \"Ctrl-D\": \"delCharAfter\",\n    \"Ctrl-H\": \"delCharBefore\",\n    \"Alt-D\": \"delWordAfter\",\n    \"Alt-Backspace\": \"delWordBefore\",\n    \"Ctrl-K\": \"killLine\",\n    \"Ctrl-T\": \"transposeChars\",\n    \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\",\n    \"Cmd-D\": \"deleteLine\",\n    \"Cmd-Z\": \"undo\",\n    \"Shift-Cmd-Z\": \"redo\",\n    \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\",\n    \"Cmd-Up\": \"goDocStart\",\n    \"Cmd-End\": \"goDocEnd\",\n    \"Cmd-Down\": \"goDocEnd\",\n    \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\",\n    \"Cmd-Left\": \"goLineLeft\",\n    \"Cmd-Right\": \"goLineRight\",\n    \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\",\n    \"Alt-Delete\": \"delGroupAfter\",\n    \"Cmd-S\": \"save\",\n    \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\",\n    \"Shift-Cmd-G\": \"findPrev\",\n    \"Cmd-Alt-F\": \"replace\",\n    \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\",\n    \"Cmd-]\": \"indentMore\",\n    \"Cmd-Backspace\": \"delWrappedLineLeft\",\n    \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\",\n    \"Shift-Cmd-U\": \"redoSelection\",\n    \"Ctrl-Up\": \"goDocStart\",\n    \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault; // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n\n      if (/^(cmd|meta|m)$/i.test(mod)) {\n        cmd = true;\n      } else if (/^a(lt)?$/i.test(mod)) {\n        alt = true;\n      } else if (/^(c|ctrl|control)$/i.test(mod)) {\n        ctrl = true;\n      } else if (/^s(hift)?$/i.test(mod)) {\n        shift = true;\n      } else {\n        throw new Error(\"Unrecognized modifier name: \" + mod);\n      }\n    }\n\n    if (alt) {\n      name = \"Alt-\" + name;\n    }\n\n    if (ctrl) {\n      name = \"Ctrl-\" + name;\n    }\n\n    if (cmd) {\n      name = \"Cmd-\" + name;\n    }\n\n    if (shift) {\n      name = \"Shift-\" + name;\n    }\n\n    return name;\n  } // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n\n\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n\n    for (var keyname in keymap) {\n      if (keymap.hasOwnProperty(keyname)) {\n        var value = keymap[keyname];\n\n        if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) {\n          continue;\n        }\n\n        if (value == \"...\") {\n          delete keymap[keyname];\n          continue;\n        }\n\n        var keys = map(keyname.split(\" \"), normalizeKeyName);\n\n        for (var i = 0; i < keys.length; i++) {\n          var val = void 0,\n              name = void 0;\n\n          if (i == keys.length - 1) {\n            name = keys.join(\" \");\n            val = value;\n          } else {\n            name = keys.slice(0, i + 1).join(\" \");\n            val = \"...\";\n          }\n\n          var prev = copy[name];\n\n          if (!prev) {\n            copy[name] = val;\n          } else if (prev != val) {\n            throw new Error(\"Inconsistent bindings for \" + name);\n          }\n        }\n\n        delete keymap[keyname];\n      }\n    }\n\n    for (var prop in copy) {\n      keymap[prop] = copy[prop];\n    }\n\n    return keymap;\n  }\n\n  function lookupKey(key, map$$1, handle, context) {\n    map$$1 = getKeyMap(map$$1);\n    var found = map$$1.call ? map$$1.call(key, context) : map$$1[key];\n\n    if (found === false) {\n      return \"nothing\";\n    }\n\n    if (found === \"...\") {\n      return \"multi\";\n    }\n\n    if (found != null && handle(found)) {\n      return \"handled\";\n    }\n\n    if (map$$1.fallthrough) {\n      if (Object.prototype.toString.call(map$$1.fallthrough) != \"[object Array]\") {\n        return lookupKey(key, map$$1.fallthrough, handle, context);\n      }\n\n      for (var i = 0; i < map$$1.fallthrough.length; i++) {\n        var result = lookupKey(key, map$$1.fallthrough[i], handle, context);\n\n        if (result) {\n          return result;\n        }\n      }\n    }\n  } // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n\n\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\";\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n\n    if (event.altKey && base != \"Alt\") {\n      name = \"Alt-\" + name;\n    }\n\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") {\n      name = \"Ctrl-\" + name;\n    }\n\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Cmd\") {\n      name = \"Cmd-\" + name;\n    }\n\n    if (!noShift && event.shiftKey && base != \"Shift\") {\n      name = \"Shift-\" + name;\n    }\n\n    return name;\n  } // Look up the name of a key as indicated by an event object.\n\n\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) {\n      return false;\n    }\n\n    var name = keyNames[event.keyCode];\n\n    if (name == null || event.altGraphKey) {\n      return false;\n    } // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n\n\n    if (event.keyCode == 3 && event.code) {\n      name = event.code;\n    }\n\n    return addModifierNames(name, event, noShift);\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val;\n  } // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n\n\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges,\n        kill = []; // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break;\n        }\n      }\n\n      kill.push(toKill);\n    } // Next, remove those actual ranges.\n\n\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--) {\n        _replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\");\n      }\n\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target;\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\");\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      var order = getOrder(lineObj, cm.doc.direction);\n\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = dir < 0 == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch; // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        // it could be that the last bidi part is not on the last visual line,\n        // since visual lines contain content order-consecutive chunks.\n        // Thus, in rtl, we are looking for the first (content-order) character\n        // in the rtl chunk that is on the last line (that is, the same line\n        // as the last (content-order) character).\n\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) {\n            return measureCharPrepared(cm, prep, ch).top == targetTop;\n          }, dir < 0 == (part.level == 1) ? part.from : part.to - 1, ch);\n\n          if (sticky == \"before\") {\n            ch = moveCharLogically(lineObj, ch, 1);\n          }\n        } else {\n          ch = dir < 0 ? part.to : part.from;\n        }\n\n        return new Pos(lineNo, ch, sticky);\n      }\n    }\n\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\");\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n\n    if (!bidi) {\n      return moveLogically(line, start, dir);\n    }\n\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky),\n        part = bidi[partPos];\n\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      // nothing interesting happens.\n      return moveLogically(line, start, dir);\n    }\n\n    var mv = function mv(pos, dir) {\n      return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir);\n    };\n\n    var prep;\n\n    var getWrappedLineExtent = function getWrappedLineExtent(ch) {\n      if (!cm.options.lineWrapping) {\n        return {\n          begin: 0,\n          end: line.text.length\n        };\n      }\n\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch);\n    };\n\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = part.level == 1 == dir < 0;\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky);\n      }\n    } // Case 3: Could not move within this bidi part in this visual line, so leave\n    // the current bidi part\n\n\n    var searchInVisualLine = function searchInVisualLine(partPos, dir, wrappedLineExtent) {\n      var getRes = function getRes(ch, moveInStorageOrder) {\n        return moveInStorageOrder ? new Pos(start.line, mv(ch, 1), \"before\") : new Pos(start.line, ch, \"after\");\n      };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = dir > 0 == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n\n        if (part.from <= ch && ch < part.to) {\n          return getRes(ch, moveInStorageOrder);\n        }\n\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) {\n          return getRes(ch, moveInStorageOrder);\n        }\n      }\n    }; // Case 3a: Look for other bidi parts on the same visual line\n\n\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n\n    if (res) {\n      return res;\n    } // Case 3b: Look for other bidi parts on the next visual line\n\n\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n\n      if (res) {\n        return res;\n      }\n    } // Case 4: Nowhere to move\n\n\n    return null;\n  } // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n\n\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function singleSelection(cm) {\n      return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll);\n    },\n    killLine: function killLine(cm) {\n      return deleteNearSelection(cm, function (range) {\n        if (range.empty()) {\n          var len = getLine(cm.doc, range.head.line).text.length;\n\n          if (range.head.ch == len && range.head.line < cm.lastLine()) {\n            return {\n              from: range.head,\n              to: Pos(range.head.line + 1, 0)\n            };\n          } else {\n            return {\n              from: range.head,\n              to: Pos(range.head.line, len)\n            };\n          }\n        } else {\n          return {\n            from: range.from(),\n            to: range.to()\n          };\n        }\n      });\n    },\n    deleteLine: function deleteLine(cm) {\n      return deleteNearSelection(cm, function (range) {\n        return {\n          from: Pos(range.from().line, 0),\n          to: _clipPos(cm.doc, Pos(range.to().line + 1, 0))\n        };\n      });\n    },\n    delLineLeft: function delLineLeft(cm) {\n      return deleteNearSelection(cm, function (range) {\n        return {\n          from: Pos(range.from().line, 0),\n          to: range.from()\n        };\n      });\n    },\n    delWrappedLineLeft: function delWrappedLineLeft(cm) {\n      return deleteNearSelection(cm, function (range) {\n        var top = cm.charCoords(range.head, \"div\").top + 5;\n        var leftPos = cm.coordsChar({\n          left: 0,\n          top: top\n        }, \"div\");\n        return {\n          from: leftPos,\n          to: range.from()\n        };\n      });\n    },\n    delWrappedLineRight: function delWrappedLineRight(cm) {\n      return deleteNearSelection(cm, function (range) {\n        var top = cm.charCoords(range.head, \"div\").top + 5;\n        var rightPos = cm.coordsChar({\n          left: cm.display.lineDiv.offsetWidth + 100,\n          top: top\n        }, \"div\");\n        return {\n          from: range.from(),\n          to: rightPos\n        };\n      });\n    },\n    undo: function undo(cm) {\n      return cm.undo();\n    },\n    redo: function redo(cm) {\n      return cm.redo();\n    },\n    undoSelection: function undoSelection(cm) {\n      return cm.undoSelection();\n    },\n    redoSelection: function redoSelection(cm) {\n      return cm.redoSelection();\n    },\n    goDocStart: function goDocStart(cm) {\n      return cm.extendSelection(Pos(cm.firstLine(), 0));\n    },\n    goDocEnd: function goDocEnd(cm) {\n      return cm.extendSelection(Pos(cm.lastLine()));\n    },\n    goLineStart: function goLineStart(cm) {\n      return cm.extendSelectionsBy(function (range) {\n        return lineStart(cm, range.head.line);\n      }, {\n        origin: \"+move\",\n        bias: 1\n      });\n    },\n    goLineStartSmart: function goLineStartSmart(cm) {\n      return cm.extendSelectionsBy(function (range) {\n        return lineStartSmart(cm, range.head);\n      }, {\n        origin: \"+move\",\n        bias: 1\n      });\n    },\n    goLineEnd: function goLineEnd(cm) {\n      return cm.extendSelectionsBy(function (range) {\n        return lineEnd(cm, range.head.line);\n      }, {\n        origin: \"+move\",\n        bias: -1\n      });\n    },\n    goLineRight: function goLineRight(cm) {\n      return cm.extendSelectionsBy(function (range) {\n        var top = cm.cursorCoords(range.head, \"div\").top + 5;\n        return cm.coordsChar({\n          left: cm.display.lineDiv.offsetWidth + 100,\n          top: top\n        }, \"div\");\n      }, sel_move);\n    },\n    goLineLeft: function goLineLeft(cm) {\n      return cm.extendSelectionsBy(function (range) {\n        var top = cm.cursorCoords(range.head, \"div\").top + 5;\n        return cm.coordsChar({\n          left: 0,\n          top: top\n        }, \"div\");\n      }, sel_move);\n    },\n    goLineLeftSmart: function goLineLeftSmart(cm) {\n      return cm.extendSelectionsBy(function (range) {\n        var top = cm.cursorCoords(range.head, \"div\").top + 5;\n        var pos = cm.coordsChar({\n          left: 0,\n          top: top\n        }, \"div\");\n\n        if (pos.ch < cm.getLine(pos.line).search(/\\S/)) {\n          return lineStartSmart(cm, range.head);\n        }\n\n        return pos;\n      }, sel_move);\n    },\n    goLineUp: function goLineUp(cm) {\n      return cm.moveV(-1, \"line\");\n    },\n    goLineDown: function goLineDown(cm) {\n      return cm.moveV(1, \"line\");\n    },\n    goPageUp: function goPageUp(cm) {\n      return cm.moveV(-1, \"page\");\n    },\n    goPageDown: function goPageDown(cm) {\n      return cm.moveV(1, \"page\");\n    },\n    goCharLeft: function goCharLeft(cm) {\n      return cm.moveH(-1, \"char\");\n    },\n    goCharRight: function goCharRight(cm) {\n      return cm.moveH(1, \"char\");\n    },\n    goColumnLeft: function goColumnLeft(cm) {\n      return cm.moveH(-1, \"column\");\n    },\n    goColumnRight: function goColumnRight(cm) {\n      return cm.moveH(1, \"column\");\n    },\n    goWordLeft: function goWordLeft(cm) {\n      return cm.moveH(-1, \"word\");\n    },\n    goGroupRight: function goGroupRight(cm) {\n      return cm.moveH(1, \"group\");\n    },\n    goGroupLeft: function goGroupLeft(cm) {\n      return cm.moveH(-1, \"group\");\n    },\n    goWordRight: function goWordRight(cm) {\n      return cm.moveH(1, \"word\");\n    },\n    delCharBefore: function delCharBefore(cm) {\n      return cm.deleteH(-1, \"char\");\n    },\n    delCharAfter: function delCharAfter(cm) {\n      return cm.deleteH(1, \"char\");\n    },\n    delWordBefore: function delWordBefore(cm) {\n      return cm.deleteH(-1, \"word\");\n    },\n    delWordAfter: function delWordAfter(cm) {\n      return cm.deleteH(1, \"word\");\n    },\n    delGroupBefore: function delGroupBefore(cm) {\n      return cm.deleteH(-1, \"group\");\n    },\n    delGroupAfter: function delGroupAfter(cm) {\n      return cm.deleteH(1, \"group\");\n    },\n    indentAuto: function indentAuto(cm) {\n      return cm.indentSelection(\"smart\");\n    },\n    indentMore: function indentMore(cm) {\n      return cm.indentSelection(\"add\");\n    },\n    indentLess: function indentLess(cm) {\n      return cm.indentSelection(\"subtract\");\n    },\n    insertTab: function insertTab(cm) {\n      return cm.replaceSelection(\"\\t\");\n    },\n    insertSoftTab: function insertSoftTab(cm) {\n      var spaces = [],\n          ranges = cm.listSelections(),\n          tabSize = cm.options.tabSize;\n\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function defaultTab(cm) {\n      if (cm.somethingSelected()) {\n        cm.indentSelection(\"add\");\n      } else {\n        cm.execCommand(\"insertTab\");\n      }\n    },\n    // Swap the two chars left and right of each selection's head.\n    // Move cursor behind the two swapped characters afterwards.\n    //\n    // Doesn't consider line feeds a character.\n    // Doesn't scan more than one line above to find a character.\n    // Doesn't do anything on an empty line.\n    // Doesn't do anything with non-empty selections.\n    transposeChars: function transposeChars(cm) {\n      return runInOp(cm, function () {\n        var ranges = cm.listSelections(),\n            newSel = [];\n\n        for (var i = 0; i < ranges.length; i++) {\n          if (!ranges[i].empty()) {\n            continue;\n          }\n\n          var cur = ranges[i].head,\n              line = getLine(cm.doc, cur.line).text;\n\n          if (line) {\n            if (cur.ch == line.length) {\n              cur = new Pos(cur.line, cur.ch - 1);\n            }\n\n            if (cur.ch > 0) {\n              cur = new Pos(cur.line, cur.ch + 1);\n              cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2), Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n            } else if (cur.line > cm.doc.first) {\n              var prev = getLine(cm.doc, cur.line - 1).text;\n\n              if (prev) {\n                cur = new Pos(cur.line, 1);\n                cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() + prev.charAt(prev.length - 1), Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n              }\n            }\n          }\n\n          newSel.push(new Range(cur, cur));\n        }\n\n        cm.setSelections(newSel);\n      });\n    },\n    newlineAndIndent: function newlineAndIndent(cm) {\n      return runInOp(cm, function () {\n        var sels = cm.listSelections();\n\n        for (var i = sels.length - 1; i >= 0; i--) {\n          cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\");\n        }\n\n        sels = cm.listSelections();\n\n        for (var i$1 = 0; i$1 < sels.length; i$1++) {\n          cm.indentLine(sels[i$1].from().line, null, true);\n        }\n\n        ensureCursorVisible(cm);\n      });\n    },\n    openLine: function openLine(cm) {\n      return cm.replaceSelection(\"\\n\", \"start\");\n    },\n    toggleOverwrite: function toggleOverwrite(cm) {\n      return cm.toggleOverwrite();\n    }\n  };\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n\n    if (visual != line) {\n      lineN = lineNo(visual);\n    }\n\n    return endOfLine(true, cm, visual, lineN, 1);\n  }\n\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n\n    if (visual != line) {\n      lineN = lineNo(visual);\n    }\n\n    return endOfLine(true, cm, line, lineN, -1);\n  }\n\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(0, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky);\n    }\n\n    return start;\n  } // Run a handler that was bound to a key.\n\n\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n\n      if (!bound) {\n        return false;\n      }\n    } // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n\n\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift,\n        done = false;\n\n    try {\n      if (cm.isReadOnly()) {\n        cm.state.suppressEdits = true;\n      }\n\n      if (dropShift) {\n        cm.display.shift = false;\n      }\n\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n\n    return done;\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n\n      if (result) {\n        return result;\n      }\n    }\n\n    return cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm) || lookupKey(name, cm.options.keyMap, handle, cm);\n  } // Note that, despite the name, this function is also used to check\n  // for bound mouse clicks.\n\n\n  var stopSeq = new Delayed();\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n\n    if (seq) {\n      if (isModifierKey(name)) {\n        return \"handled\";\n      }\n\n      if (/\\'$/.test(name)) {\n        cm.state.keySeq = null;\n      } else {\n        stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        });\n      }\n\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) {\n        return true;\n      }\n    }\n\n    return dispatchKeyInner(cm, name, e, handle);\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\") {\n      cm.state.keySeq = name;\n    }\n\n    if (result == \"handled\") {\n      signalLater(cm, \"keyHandled\", cm, name, e);\n    }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result;\n  } // Handle a key from the keydown event.\n\n\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n\n    if (!name) {\n      return false;\n    }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) {\n        return doHandleBinding(cm, b, true);\n      }) || dispatchKey(cm, name, e, function (b) {\n        if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion) {\n          return doHandleBinding(cm, b);\n        }\n      });\n    } else {\n      return dispatchKey(cm, name, e, function (b) {\n        return doHandleBinding(cm, b);\n      });\n    }\n  } // Handle a key from the keypress event\n\n\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) {\n      return doHandleBinding(cm, b, true);\n    });\n  }\n\n  var lastStoppedKey = null;\n\n  function onKeyDown(e) {\n    var cm = this;\n    cm.curOp.focus = activeElt();\n\n    if (signalDOMEvent(cm, e)) {\n      return;\n    } // IE does strange things with escape.\n\n\n    if (ie && ie_version < 11 && e.keyCode == 27) {\n      e.returnValue = false;\n    }\n\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n\n    if (presto) {\n      lastStoppedKey = handled ? code : null; // Opera has no cut event... we try to at least catch the key combo\n\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey)) {\n        cm.replaceSelection(\"\", null, \"cut\");\n      }\n    } // Turn mouse into crosshair when Alt is held on Mac.\n\n\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className)) {\n      showCrossHair(cm);\n    }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) {\n      this.doc.sel.shift = false;\n    }\n\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) {\n      return;\n    }\n\n    var keyCode = e.keyCode,\n        charCode = e.charCode;\n\n    if (presto && keyCode == lastStoppedKey) {\n      lastStoppedKey = null;\n      e_preventDefault(e);\n      return;\n    }\n\n    if (presto && (!e.which || e.which < 10) && handleKeyBinding(cm, e)) {\n      return;\n    }\n\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode); // Some browsers fire keypress events for backspace\n\n    if (ch == \"\\x08\") {\n      return;\n    }\n\n    if (handleCharBinding(cm, e, ch)) {\n      return;\n    }\n\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function PastClick(time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time && cmp(pos, this.pos) == 0 && button == this.button;\n  };\n\n  var lastClick, lastDoubleClick;\n\n  function clickRepeat(pos, button) {\n    var now = +new Date();\n\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\";\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\";\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\";\n    }\n  } // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n\n\n  function onMouseDown(e) {\n    var cm = this,\n        display = cm.display;\n\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) {\n      return;\n    }\n\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () {\n          return display.scroller.draggable = true;\n        }, 100);\n      }\n\n      return;\n    }\n\n    if (clickInGutter(cm, e)) {\n      return;\n    }\n\n    var pos = posFromMouse(cm, e),\n        button = e_button(e),\n        repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus(); // #3261: make sure, that we're not starting a second selection\n\n    if (button == 1 && cm.state.selectingText) {\n      cm.state.selectingText(e);\n    }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) {\n      return;\n    }\n\n    if (button == 1) {\n      if (pos) {\n        leftButtonDown(cm, pos, repeat, e);\n      } else if (e_target(e) == display.scroller) {\n        e_preventDefault(e);\n      }\n    } else if (button == 2) {\n      if (pos) {\n        extendSelection(cm.doc, pos);\n      }\n\n      setTimeout(function () {\n        return display.input.focus();\n      }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) {\n        cm.display.input.onContextMenu(e);\n      } else {\n        delayBlurEvent(cm);\n      }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n\n    if (repeat == \"double\") {\n      name = \"Double\" + name;\n    } else if (repeat == \"triple\") {\n      name = \"Triple\" + name;\n    }\n\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n    return dispatchKey(cm, addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") {\n        bound = commands[bound];\n      }\n\n      if (!bound) {\n        return false;\n      }\n\n      var done = false;\n\n      try {\n        if (cm.isReadOnly()) {\n          cm.state.suppressEdits = true;\n        }\n\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n\n      return done;\n    });\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n\n    if (value.extend == null || cm.doc.extend) {\n      value.extend = cm.doc.extend || event.shiftKey;\n    }\n\n    if (value.addNew == null) {\n      value.addNew = mac ? event.metaKey : event.ctrlKey;\n    }\n\n    if (value.moveOnDrag == null) {\n      value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey);\n    }\n\n    return value;\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) {\n      setTimeout(bind(ensureFocus, cm), 0);\n    } else {\n      cm.curOp.focus = activeElt();\n    }\n\n    var behavior = configureMouse(cm, repeat, event);\n    var sel = cm.doc.sel,\n        contained;\n\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() && repeat == \"single\" && (contained = sel.contains(pos)) > -1 && (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) && (cmp(contained.to(), pos) > 0 || pos.xRel < 0)) {\n      leftButtonStartDrag(cm, event, pos, behavior);\n    } else {\n      leftButtonSelect(cm, event, pos, behavior);\n    }\n  } // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n\n\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display,\n        moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) {\n        display.scroller.draggable = false;\n      }\n\n      cm.state.draggingText = false;\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n\n      if (!moved) {\n        e_preventDefault(e);\n\n        if (!behavior.addNew) {\n          extendSelection(cm.doc, pos, null, null, behavior.extend);\n        } // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n\n\n        if (webkit || ie && ie_version == 9) {\n          setTimeout(function () {\n            display.wrapper.ownerDocument.body.focus();\n            display.input.focus();\n          }, 20);\n        } else {\n          display.input.focus();\n        }\n      }\n    });\n\n    var mouseMove = function mouseMove(e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n\n    var dragStart = function dragStart() {\n      return moved = true;\n    }; // Let the drag handler handle this.\n\n\n    if (webkit) {\n      display.scroller.draggable = true;\n    }\n\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag; // IE's approach to draggable\n\n    if (display.scroller.dragDrop) {\n      display.scroller.dragDrop();\n    }\n\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n    delayBlurEvent(cm);\n    setTimeout(function () {\n      return display.input.focus();\n    }, 20);\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") {\n      return new Range(pos, pos);\n    }\n\n    if (unit == \"word\") {\n      return cm.findWordAt(pos);\n    }\n\n    if (unit == \"line\") {\n      return new Range(Pos(pos.line, 0), _clipPos(cm.doc, Pos(pos.line + 1, 0)));\n    }\n\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to);\n  } // Normal selection, as opposed to text dragging.\n\n\n  function leftButtonSelect(cm, event, start, behavior) {\n    var display = cm.display,\n        doc = cm.doc;\n    e_preventDefault(event);\n    var ourRange,\n        ourIndex,\n        startSel = doc.sel,\n        ranges = startSel.ranges;\n\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n\n      if (ourIndex > -1) {\n        ourRange = ranges[ourIndex];\n      } else {\n        ourRange = new Range(start, start);\n      }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) {\n        ourRange = new Range(start, start);\n      }\n\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range$$1 = rangeForUnit(cm, start, behavior.unit);\n\n      if (behavior.extend) {\n        ourRange = extendRange(ourRange, range$$1.anchor, range$$1.head, behavior.extend);\n      } else {\n        ourRange = range$$1;\n      }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex), {\n        scroll: false,\n        origin: \"*mouse\"\n      });\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0), {\n        scroll: false,\n        origin: \"*mouse\"\n      });\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) {\n        return;\n      }\n\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [],\n            tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol),\n            right = Math.max(startCol, posCol);\n\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line)); line <= end; line++) {\n          var text = getLine(doc, line).text,\n              leftPos = findColumn(text, left, tabSize);\n\n          if (left == right) {\n            ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos)));\n          } else if (text.length > leftPos) {\n            ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize))));\n          }\n        }\n\n        if (!ranges.length) {\n          ranges.push(new Range(start, start));\n        }\n\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex), {\n          origin: \"*mouse\",\n          scroll: false\n        });\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range$$1 = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor,\n            head;\n\n        if (cmp(range$$1.anchor, anchor) > 0) {\n          head = range$$1.head;\n          anchor = minPos(oldRange.from(), range$$1.anchor);\n        } else {\n          head = range$$1.anchor;\n          anchor = maxPos(oldRange.to(), range$$1.head);\n        }\n\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(_clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect(); // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n\n      if (!cur) {\n        return;\n      }\n\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n\n        if (cur.line >= visible.to || cur.line < visible.from) {\n          setTimeout(operation(cm, function () {\n            if (counter == curCount) {\n              extend(e);\n            }\n          }), 150);\n        }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n\n        if (outside) {\n          setTimeout(operation(cm, function () {\n            if (counter != curCount) {\n              return;\n            }\n\n            display.scroller.scrollTop += outside;\n            extend(e);\n          }), 50);\n        }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity; // If e is null or undefined we interpret this as someone trying\n      // to explicitly cancel the selection rather than the user\n      // letting go of the mouse button.\n\n      if (e) {\n        e_preventDefault(e);\n        display.input.focus();\n      }\n\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) {\n        done(e);\n      } else {\n        extend(e);\n      }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  } // Used when mouse-selecting to adjust the anchor to the proper side\n  // of a bidi jump depending on the visual position of the head.\n\n\n  function bidiSimplify(cm, range$$1) {\n    var anchor = range$$1.anchor;\n    var head = range$$1.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) {\n      return range$$1;\n    }\n\n    var order = getOrder(anchorLine);\n\n    if (!order) {\n      return range$$1;\n    }\n\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky),\n        part = order[index];\n\n    if (part.from != anchor.ch && part.to != anchor.ch) {\n      return range$$1;\n    }\n\n    var boundary = index + (part.from == anchor.ch == (part.level != 1) ? 0 : 1);\n\n    if (boundary == 0 || boundary == order.length) {\n      return range$$1;\n    } // Compute the relative visual position of the head compared to the\n    // anchor (<0 is to the left, >0 to the right)\n\n\n    var leftSide;\n\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n\n      if (headIndex == boundary - 1 || headIndex == boundary) {\n        leftSide = dir < 0;\n      } else {\n        leftSide = dir > 0;\n      }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to,\n        sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range$$1 : new Range(new Pos(anchor.line, ch, sticky), head);\n  } // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n\n\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try {\n        mX = e.clientX;\n        mY = e.clientY;\n      } catch (e) {\n        return false;\n      }\n    }\n\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) {\n      return false;\n    }\n\n    if (prevent) {\n      e_preventDefault(e);\n    }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) {\n      return e_defaultPrevented(e);\n    }\n\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n      var g = display.gutters.childNodes[i];\n\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = _lineAtHeight(cm.doc, mY);\n\n        var gutter = cm.display.gutterSpecs[i];\n        signal(cm, type, cm, line, gutter.className, e);\n        return e_defaultPrevented(e);\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true);\n  } // CONTEXT MENU HANDLING\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n\n\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) {\n      return;\n    }\n\n    if (signalDOMEvent(cm, e, \"contextmenu\")) {\n      return;\n    }\n\n    if (!captureRightClick) {\n      cm.display.input.onContextMenu(e);\n    }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) {\n      return false;\n    }\n\n    return gutterEvent(cm, e, \"gutterContextMenu\", false);\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") + cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {\n    toString: function toString() {\n      return \"CodeMirror.Init\";\n    }\n  };\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n\n      if (handle) {\n        optionHandlers[name] = notOnInit ? function (cm, val, old) {\n          if (old != Init) {\n            handle(cm, val, old);\n          }\n        } : handle;\n      }\n    }\n\n    CodeMirror.defineOption = option; // Passed to option handlers when there is no old value.\n\n    CodeMirror.Init = Init; // These two are, on init, called from the constructor because they\n    // have to be initialized before the editor can start at all.\n\n    option(\"value\", \"\", function (cm, val) {\n      return cm.setValue(val);\n    }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n\n      if (!val) {\n        return;\n      }\n\n      var newBreaks = [],\n          lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n\n          if (found == -1) {\n            break;\n          }\n\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n\n        lineNo++;\n      });\n\n      for (var i = newBreaks.length - 1; i >= 0; i--) {\n        _replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length));\n      }\n    });\n    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n\n      if (old != Init) {\n        cm.refresh();\n      }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) {\n      return cm.refresh();\n    }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\"); // FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) {\n      return cm.getInputField().spellcheck = val;\n    }, true);\n    option(\"autocorrect\", false, function (cm, val) {\n      return cm.getInputField().autocorrect = val;\n    }, true);\n    option(\"autocapitalize\", false, function (cm, val) {\n      return cm.getInputField().autocapitalize = val;\n    }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      updateGutters(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n\n      if (prev && prev.detach) {\n        prev.detach(cm, next);\n      }\n\n      if (next.attach) {\n        next.attach(cm, prev || null);\n      }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm, val) {\n      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n      updateGutters(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) {\n      return updateScrollbars(cm);\n    }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm, val) {\n      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n      updateGutters(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, updateGutters, true);\n    option(\"lineNumberFormatter\", function (integer) {\n      return integer;\n    }, updateGutters, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n\n      cm.display.input.readOnlyChanged(val);\n    });\n    option(\"disableInput\", false, function (cm, val) {\n      if (!val) {\n        cm.display.input.reset();\n      }\n    }, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) {\n      return cm.doc.history.undoDepth = val;\n    });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) {\n      return cm.refresh();\n    }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) {\n        cm.display.input.resetPosition();\n      }\n    });\n    option(\"tabindex\", null, function (cm, val) {\n      return cm.display.input.getField().tabIndex = val || \"\";\n    });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) {\n      return cm.doc.setDirection(val);\n    }, true);\n    option(\"phrases\", null);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () {\n      return updateScrollbars(cm);\n    }, 100);\n  } // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) {\n      return new CodeMirror(place, options);\n    }\n\n    this.options = options = options ? copyObj(options) : {}; // Determine effective options based on given values and defaults.\n\n    copyObj(defaults, options, false);\n    var doc = options.value;\n\n    if (typeof doc == \"string\") {\n      doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction);\n    } else if (options.mode) {\n      doc.modeOption = options.mode;\n    }\n\n    this.doc = doc;\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input, options);\n    display.wrapper.CodeMirror = this;\n    themeChanged(this);\n\n    if (options.lineWrapping) {\n      this.display.wrapper.className += \" CodeMirror-wrap\";\n    }\n\n    initScrollbars(this);\n    this.state = {\n      keyMaps: [],\n      // stores maps added by addKeyMap\n      overlays: [],\n      // highlighting overlays, as added by addOverlay\n      modeGen: 0,\n      // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false,\n      // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: -1,\n      cutIncoming: -1,\n      // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(),\n      // stores highlight worker timeout\n      keySeq: null,\n      // Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) {\n      display.input.focus();\n    } // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n\n\n    if (ie && ie_version < 11) {\n      setTimeout(function () {\n        return this$1.display.input.reset(true);\n      }, 20);\n    }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    _startOperation(this);\n\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if (options.autofocus && !mobile || this.hasFocus()) {\n      setTimeout(bind(onFocus, this), 20);\n    } else {\n      onBlur(this);\n    }\n\n    for (var opt in optionHandlers) {\n      if (optionHandlers.hasOwnProperty(opt)) {\n        optionHandlers[opt](this$1, options[opt], Init);\n      }\n    }\n\n    maybeUpdateLineNumberWidth(this);\n\n    if (options.finishInit) {\n      options.finishInit(this);\n    }\n\n    for (var i = 0; i < initHooks.length; ++i) {\n      initHooks[i](this$1);\n    }\n\n    _endOperation(this); // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n\n\n    if (webkit && options.lineWrapping && getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\") {\n      display.lineDiv.style.textRendering = \"auto\";\n    }\n  } // The default configuration options.\n\n\n  CodeMirror.defaults = defaults; // Functions to run when options are changed.\n\n  CodeMirror.optionHandlers = optionHandlers; // Attach the necessary event handlers when initializing the editor\n\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown)); // Older IE's will not fire a second mousedown for a double click\n\n    if (ie && ie_version < 11) {\n      on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) {\n          return;\n        }\n\n        var pos = posFromMouse(cm, e);\n\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) {\n          return;\n        }\n\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      }));\n    } else {\n      on(d.scroller, \"dblclick\", function (e) {\n        return signalDOMEvent(cm, e) || e_preventDefault(e);\n      });\n    } // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n\n\n    on(d.scroller, \"contextmenu\", function (e) {\n      return onContextMenu(cm, e);\n    }); // Used to suppress mouse event handling when a touch happens\n\n    var touchFinished,\n        prevTouch = {\n      end: 0\n    };\n\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () {\n          return d.activeTouch = null;\n        }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date();\n      }\n    }\n\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) {\n        return false;\n      }\n\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1;\n    }\n\n    function farAway(touch, other) {\n      if (other.left == null) {\n        return true;\n      }\n\n      var dx = other.left - touch.left,\n          dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20;\n    }\n\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date();\n        d.activeTouch = {\n          start: now,\n          moved: false,\n          prev: now - prevTouch.end <= 300 ? prevTouch : null\n        };\n\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) {\n        d.activeTouch.moved = true;\n      }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n\n      if (touch && !eventInWidget(d, e) && touch.left != null && !touch.moved && new Date() - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"),\n            range;\n\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          {\n            range = new Range(pos, pos);\n          } else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          {\n            range = cm.findWordAt(pos);\n          } else // Triple tap\n          {\n            range = new Range(Pos(pos.line, 0), _clipPos(cm.doc, Pos(pos.line + 1, 0)));\n          }\n\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch); // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    }); // Listen to wheel events in order to try and update the viewport on time.\n\n    on(d.scroller, \"mousewheel\", function (e) {\n      return onScrollWheel(cm, e);\n    });\n    on(d.scroller, \"DOMMouseScroll\", function (e) {\n      return onScrollWheel(cm, e);\n    }); // Prevent wrapper from ever scrolling\n\n    on(d.wrapper, \"scroll\", function () {\n      return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0;\n    });\n    d.dragFunctions = {\n      enter: function enter(e) {\n        if (!signalDOMEvent(cm, e)) {\n          e_stop(e);\n        }\n      },\n      over: function over(e) {\n        if (!signalDOMEvent(cm, e)) {\n          onDragOver(cm, e);\n          e_stop(e);\n        }\n      },\n      start: function start(e) {\n        return onDragStart(cm, e);\n      },\n      drop: operation(cm, onDrop),\n      leave: function leave(e) {\n        if (!signalDOMEvent(cm, e)) {\n          clearDragCursor(cm);\n        }\n      }\n    };\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) {\n      return onKeyUp.call(cm, e);\n    });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) {\n      return onFocus(cm, e);\n    });\n    on(inp, \"blur\", function (e) {\n      return onBlur(cm, e);\n    });\n  }\n\n  var initHooks = [];\n\n  CodeMirror.defineInitHook = function (f) {\n    return initHooks.push(f);\n  }; // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n\n\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc,\n        state;\n\n    if (how == null) {\n      how = \"add\";\n    }\n\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) {\n        how = \"prev\";\n      } else {\n        state = getContextBefore(cm, n).state;\n      }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n),\n        curSpace = countColumn(line.text, null, tabSize);\n\n    if (line.stateAfter) {\n      line.stateAfter = null;\n    }\n\n    var curSpaceString = line.text.match(/^\\s*/)[0],\n        indentation;\n\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) {\n          return;\n        }\n\n        how = \"prev\";\n      }\n    }\n\n    if (how == \"prev\") {\n      if (n > doc.first) {\n        indentation = countColumn(getLine(doc, n - 1).text, null, tabSize);\n      } else {\n        indentation = 0;\n      }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n\n    indentation = Math.max(0, indentation);\n    var indentString = \"\",\n        pos = 0;\n\n    if (cm.options.indentWithTabs) {\n      for (var i = Math.floor(indentation / tabSize); i; --i) {\n        pos += tabSize;\n        indentString += \"\\t\";\n      }\n    }\n\n    if (pos < indentation) {\n      indentString += spaceStr(indentation - pos);\n    }\n\n    if (indentString != curSpaceString) {\n      _replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n\n      line.stateAfter = null;\n      return true;\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break;\n        }\n      }\n    }\n  } // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n\n\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n\n    if (!sel) {\n      sel = doc.sel;\n    }\n\n    var recent = +new Date() - 200;\n    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n    var textLines = splitLinesAuto(inserted),\n        multiPaste = null; // When pasting N lines into N selections, insert one line per selection\n\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n\n          for (var i = 0; i < lastCopied.text.length; i++) {\n            multiPaste.push(doc.splitLines(lastCopied.text[i]));\n          }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) {\n          return [l];\n        });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput; // Normal behavior is to insert the new text into every selection\n\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range$$1 = sel.ranges[i$1];\n      var from = range$$1.from(),\n          to = range$$1.to();\n\n      if (range$$1.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          {\n            from = Pos(from.line, from.ch - deleted);\n          } else if (cm.state.overwrite && !paste) // Handle overwrite\n          {\n            to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length));\n          } else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == inserted) {\n          from = to = Pos(from.line, 0);\n        }\n      }\n\n      var changeEvent = {\n        from: from,\n        to: to,\n        text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n        origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")\n      };\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n\n    if (inserted && !paste) {\n      triggerElectric(cm, inserted);\n    }\n\n    ensureCursorVisible(cm);\n\n    if (cm.curOp.updateInput < 2) {\n      cm.curOp.updateInput = updateInput;\n    }\n\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n\n    if (pasted) {\n      e.preventDefault();\n\n      if (!cm.isReadOnly() && !cm.options.disableInput) {\n        runInOp(cm, function () {\n          return applyTextInput(cm, pasted, 0, null, \"paste\");\n        });\n      }\n\n      return true;\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) {\n      return;\n    }\n\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range$$1 = sel.ranges[i];\n\n      if (range$$1.head.ch > 100 || i && sel.ranges[i - 1].head.line == range$$1.head.line) {\n        continue;\n      }\n\n      var mode = cm.getModeAt(range$$1.head);\n      var indented = false;\n\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++) {\n          if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range$$1.head.line, \"smart\");\n            break;\n          }\n        }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range$$1.head.line).text.slice(0, range$$1.head.ch))) {\n          indented = indentLine(cm, range$$1.head.line, \"smart\");\n        }\n      }\n\n      if (indented) {\n        signalLater(cm, \"electricInput\", cm, range$$1.head.line);\n      }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [],\n        ranges = [];\n\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {\n        anchor: Pos(line, 0),\n        head: Pos(line + 1, 0)\n      };\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n\n    return {\n      text: text,\n      ranges: ranges\n    };\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", autocorrect ? \"\" : \"off\");\n    field.setAttribute(\"autocapitalize\", autocapitalize ? \"\" : \"off\");\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\"); // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n\n    if (webkit) {\n      te.style.width = \"1000px\";\n    } else {\n      te.setAttribute(\"wrap\", \"off\");\n    } // If border: 0; -- iOS fails to open keyboard (issue #1287)\n\n\n    if (ios) {\n      te.style.border = \"1px solid black\";\n    }\n\n    disableBrowserMagic(te);\n    return div;\n  } // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n    var helpers = CodeMirror.helpers = {};\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function focus() {\n        window.focus();\n        this.display.input.focus();\n      },\n      setOption: function setOption(option, value) {\n        var options = this.options,\n            old = options[option];\n\n        if (options[option] == value && option != \"mode\") {\n          return;\n        }\n\n        options[option] = value;\n\n        if (optionHandlers.hasOwnProperty(option)) {\n          operation(this, optionHandlers[option])(this, value, old);\n        }\n\n        signal(this, \"optionChange\", this, option);\n      },\n      getOption: function getOption(option) {\n        return this.options[option];\n      },\n      getDoc: function getDoc() {\n        return this.doc;\n      },\n      addKeyMap: function addKeyMap(map$$1, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map$$1));\n      },\n      removeKeyMap: function removeKeyMap(map$$1) {\n        var maps = this.state.keyMaps;\n\n        for (var i = 0; i < maps.length; ++i) {\n          if (maps[i] == map$$1 || maps[i].name == map$$1) {\n            maps.splice(i, 1);\n            return true;\n          }\n        }\n      },\n      addOverlay: methodOp(function (spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n\n        if (mode.startState) {\n          throw new Error(\"Overlays may not be stateful.\");\n        }\n\n        insertSorted(this.state.overlays, {\n          mode: mode,\n          modeSpec: spec,\n          opaque: options && options.opaque,\n          priority: options && options.priority || 0\n        }, function (overlay) {\n          return overlay.priority;\n        });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function (spec) {\n        var this$1 = this;\n        var overlays = this.state.overlays;\n\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this$1.state.modeGen++;\n            regChange(this$1);\n            return;\n          }\n        }\n      }),\n      indentLine: methodOp(function (n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) {\n            dir = this.options.smartIndent ? \"smart\" : \"prev\";\n          } else {\n            dir = dir ? \"add\" : \"subtract\";\n          }\n        }\n\n        if (isLine(this.doc, n)) {\n          indentLine(this, n, dir, aggressive);\n        }\n      }),\n      indentSelection: methodOp(function (how) {\n        var this$1 = this;\n        var ranges = this.doc.sel.ranges,\n            end = -1;\n\n        for (var i = 0; i < ranges.length; i++) {\n          var range$$1 = ranges[i];\n\n          if (!range$$1.empty()) {\n            var from = range$$1.from(),\n                to = range$$1.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this$1.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n\n            for (var j = start; j < end; ++j) {\n              indentLine(this$1, j, how);\n            }\n\n            var newRanges = this$1.doc.sel.ranges;\n\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0) {\n              replaceOneSelection(this$1.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll);\n            }\n          } else if (range$$1.head.line > end) {\n            indentLine(this$1, range$$1.head.line, how, true);\n            end = range$$1.head.line;\n\n            if (i == this$1.doc.sel.primIndex) {\n              ensureCursorVisible(this$1);\n            }\n          }\n        }\n      }),\n      // Fetch the parser token for a given character. Useful for hacks\n      // that want to inspect the mode state (say, for completion).\n      getTokenAt: function getTokenAt(pos, precise) {\n        return takeToken(this, pos, precise);\n      },\n      getLineTokens: function getLineTokens(line, precise) {\n        return takeToken(this, Pos(line), precise, true);\n      },\n      getTokenTypeAt: function getTokenTypeAt(pos) {\n        pos = _clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0,\n            after = (styles.length - 1) / 2,\n            ch = pos.ch;\n        var type;\n\n        if (ch == 0) {\n          type = styles[2];\n        } else {\n          for (;;) {\n            var mid = before + after >> 1;\n\n            if ((mid ? styles[mid * 2 - 1] : 0) >= ch) {\n              after = mid;\n            } else if (styles[mid * 2 + 1] < ch) {\n              before = mid + 1;\n            } else {\n              type = styles[mid * 2 + 2];\n              break;\n            }\n          }\n        }\n\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1);\n      },\n      getModeAt: function getModeAt(pos) {\n        var mode = this.doc.mode;\n\n        if (!mode.innerMode) {\n          return mode;\n        }\n\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode;\n      },\n      getHelper: function getHelper(pos, type) {\n        return this.getHelpers(pos, type)[0];\n      },\n      getHelpers: function getHelpers(pos, type) {\n        var this$1 = this;\n        var found = [];\n\n        if (!helpers.hasOwnProperty(type)) {\n          return found;\n        }\n\n        var help = helpers[type],\n            mode = this.getModeAt(pos);\n\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) {\n            found.push(help[mode[type]]);\n          }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n\n            if (val) {\n              found.push(val);\n            }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n\n          if (cur.pred(mode, this$1) && indexOf(found, cur.val) == -1) {\n            found.push(cur.val);\n          }\n        }\n\n        return found;\n      },\n      getStateAfter: function getStateAfter(line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1 : line);\n        return getContextBefore(this, line + 1, precise).state;\n      },\n      cursorCoords: function cursorCoords(start, mode) {\n        var pos,\n            range$$1 = this.doc.sel.primary();\n\n        if (start == null) {\n          pos = range$$1.head;\n        } else if (typeof start == \"object\") {\n          pos = _clipPos(this.doc, start);\n        } else {\n          pos = start ? range$$1.from() : range$$1.to();\n        }\n\n        return _cursorCoords(this, pos, mode || \"page\");\n      },\n      charCoords: function charCoords(pos, mode) {\n        return _charCoords(this, _clipPos(this.doc, pos), mode || \"page\");\n      },\n      coordsChar: function coordsChar(coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return _coordsChar(this, coords.left, coords.top);\n      },\n      lineAtHeight: function lineAtHeight(height, mode) {\n        height = fromCoordSystem(this, {\n          top: height,\n          left: 0\n        }, mode || \"page\").top;\n        return _lineAtHeight(this.doc, height + this.display.viewOffset);\n      },\n      heightAtLine: function heightAtLine(line, mode, includeWidgets) {\n        var end = false,\n            lineObj;\n\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n\n          if (line < this.doc.first) {\n            line = this.doc.first;\n          } else if (line > last) {\n            line = last;\n            end = true;\n          }\n\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n\n        return intoCoordSystem(this, lineObj, {\n          top: 0,\n          left: 0\n        }, mode || \"page\", includeWidgets || end).top + (end ? this.doc.height - _heightAtLine(lineObj) : 0);\n      },\n      defaultTextHeight: function defaultTextHeight() {\n        return textHeight(this.display);\n      },\n      defaultCharWidth: function defaultCharWidth() {\n        return charWidth(this.display);\n      },\n      getViewport: function getViewport() {\n        return {\n          from: this.display.viewFrom,\n          to: this.display.viewTo\n        };\n      },\n      addWidget: function addWidget(pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = _cursorCoords(this, _clipPos(this.doc, pos));\n        var top = pos.bottom,\n            left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n              hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth); // Default to positioning above (if specified and possible); otherwise default to positioning below\n\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight) {\n            top = pos.top - node.offsetHeight;\n          } else if (pos.bottom + node.offsetHeight <= vspace) {\n            top = pos.bottom;\n          }\n\n          if (left + node.offsetWidth > hspace) {\n            left = hspace - node.offsetWidth;\n          }\n        }\n\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") {\n            left = 0;\n          } else if (horiz == \"middle\") {\n            left = (display.sizer.clientWidth - node.offsetWidth) / 2;\n          }\n\n          node.style.left = left + \"px\";\n        }\n\n        if (scroll) {\n          scrollIntoView(this, {\n            left: left,\n            top: top,\n            right: left + node.offsetWidth,\n            bottom: top + node.offsetHeight\n          });\n        }\n      },\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n      execCommand: function execCommand(cmd) {\n        if (commands.hasOwnProperty(cmd)) {\n          return commands[cmd].call(null, this);\n        }\n      },\n      triggerElectric: methodOp(function (text) {\n        triggerElectric(this, text);\n      }),\n      findPosH: function findPosH(from, amount, unit, visually) {\n        var this$1 = this;\n        var dir = 1;\n\n        if (amount < 0) {\n          dir = -1;\n          amount = -amount;\n        }\n\n        var cur = _clipPos(this.doc, from);\n\n        for (var i = 0; i < amount; ++i) {\n          cur = _findPosH(this$1.doc, cur, dir, unit, visually);\n\n          if (cur.hitSide) {\n            break;\n          }\n        }\n\n        return cur;\n      },\n      moveH: methodOp(function (dir, unit) {\n        var this$1 = this;\n        this.extendSelectionsBy(function (range$$1) {\n          if (this$1.display.shift || this$1.doc.extend || range$$1.empty()) {\n            return _findPosH(this$1.doc, range$$1.head, dir, unit, this$1.options.rtlMoveVisually);\n          } else {\n            return dir < 0 ? range$$1.from() : range$$1.to();\n          }\n        }, sel_move);\n      }),\n      deleteH: methodOp(function (dir, unit) {\n        var sel = this.doc.sel,\n            doc = this.doc;\n\n        if (sel.somethingSelected()) {\n          doc.replaceSelection(\"\", null, \"+delete\");\n        } else {\n          deleteNearSelection(this, function (range$$1) {\n            var other = _findPosH(doc, range$$1.head, dir, unit, false);\n\n            return dir < 0 ? {\n              from: other,\n              to: range$$1.head\n            } : {\n              from: range$$1.head,\n              to: other\n            };\n          });\n        }\n      }),\n      findPosV: function findPosV(from, amount, unit, goalColumn) {\n        var this$1 = this;\n        var dir = 1,\n            x = goalColumn;\n\n        if (amount < 0) {\n          dir = -1;\n          amount = -amount;\n        }\n\n        var cur = _clipPos(this.doc, from);\n\n        for (var i = 0; i < amount; ++i) {\n          var coords = _cursorCoords(this$1, cur, \"div\");\n\n          if (x == null) {\n            x = coords.left;\n          } else {\n            coords.left = x;\n          }\n\n          cur = _findPosV(this$1, coords, dir, unit);\n\n          if (cur.hitSide) {\n            break;\n          }\n        }\n\n        return cur;\n      },\n      moveV: methodOp(function (dir, unit) {\n        var this$1 = this;\n        var doc = this.doc,\n            goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range$$1) {\n          if (collapse) {\n            return dir < 0 ? range$$1.from() : range$$1.to();\n          }\n\n          var headPos = _cursorCoords(this$1, range$$1.head, \"div\");\n\n          if (range$$1.goalColumn != null) {\n            headPos.left = range$$1.goalColumn;\n          }\n\n          goals.push(headPos.left);\n\n          var pos = _findPosV(this$1, headPos, dir, unit);\n\n          if (unit == \"page\" && range$$1 == doc.sel.primary()) {\n            addToScrollTop(this$1, _charCoords(this$1, pos, \"div\").top - headPos.top);\n          }\n\n          return pos;\n        }, sel_move);\n\n        if (goals.length) {\n          for (var i = 0; i < doc.sel.ranges.length; i++) {\n            doc.sel.ranges[i].goalColumn = goals[i];\n          }\n        }\n      }),\n      // Find the word at the given position (as returned by coordsChar).\n      findWordAt: function findWordAt(pos) {\n        var doc = this.doc,\n            line = getLine(doc, pos.line).text;\n        var start = pos.ch,\n            end = pos.ch;\n\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n\n          if ((pos.sticky == \"before\" || end == line.length) && start) {\n            --start;\n          } else {\n            ++end;\n          }\n\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper) ? function (ch) {\n            return isWordChar(ch, helper);\n          } : /\\s/.test(startChar) ? function (ch) {\n            return /\\s/.test(ch);\n          } : function (ch) {\n            return !/\\s/.test(ch) && !isWordChar(ch);\n          };\n\n          while (start > 0 && check(line.charAt(start - 1))) {\n            --start;\n          }\n\n          while (end < line.length && check(line.charAt(end))) {\n            ++end;\n          }\n        }\n\n        return new Range(Pos(pos.line, start), Pos(pos.line, end));\n      },\n      toggleOverwrite: function toggleOverwrite(value) {\n        if (value != null && value == this.state.overwrite) {\n          return;\n        }\n\n        if (this.state.overwrite = !this.state.overwrite) {\n          addClass(this.display.cursorDiv, \"CodeMirror-overwrite\");\n        } else {\n          rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\");\n        }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function hasFocus() {\n        return this.display.input.getField() == activeElt();\n      },\n      isReadOnly: function isReadOnly() {\n        return !!(this.options.readOnly || this.doc.cantEdit);\n      },\n      scrollTo: methodOp(function (x, y) {\n        scrollToCoords(this, x, y);\n      }),\n      getScrollInfo: function getScrollInfo() {\n        var scroller = this.display.scroller;\n        return {\n          left: scroller.scrollLeft,\n          top: scroller.scrollTop,\n          height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n          width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n          clientHeight: displayHeight(this),\n          clientWidth: displayWidth(this)\n        };\n      },\n      scrollIntoView: methodOp(function (range$$1, margin) {\n        if (range$$1 == null) {\n          range$$1 = {\n            from: this.doc.sel.primary().head,\n            to: null\n          };\n\n          if (margin == null) {\n            margin = this.options.cursorScrollMargin;\n          }\n        } else if (typeof range$$1 == \"number\") {\n          range$$1 = {\n            from: Pos(range$$1, 0),\n            to: null\n          };\n        } else if (range$$1.from == null) {\n          range$$1 = {\n            from: range$$1,\n            to: null\n          };\n        }\n\n        if (!range$$1.to) {\n          range$$1.to = range$$1.from;\n        }\n\n        range$$1.margin = margin || 0;\n\n        if (range$$1.from.line != null) {\n          scrollToRange(this, range$$1);\n        } else {\n          scrollToCoordsRange(this, range$$1.from, range$$1.to, range$$1.margin);\n        }\n      }),\n      setSize: methodOp(function (width, height) {\n        var this$1 = this;\n\n        var interpret = function interpret(val) {\n          return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val;\n        };\n\n        if (width != null) {\n          this.display.wrapper.style.width = interpret(width);\n        }\n\n        if (height != null) {\n          this.display.wrapper.style.height = interpret(height);\n        }\n\n        if (this.options.lineWrapping) {\n          clearLineMeasurementCache(this);\n        }\n\n        var lineNo$$1 = this.display.viewFrom;\n        this.doc.iter(lineNo$$1, this.display.viewTo, function (line) {\n          if (line.widgets) {\n            for (var i = 0; i < line.widgets.length; i++) {\n              if (line.widgets[i].noHScroll) {\n                regLineChange(this$1, lineNo$$1, \"widget\");\n                break;\n              }\n            }\n          }\n\n          ++lineNo$$1;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n      operation: function operation(f) {\n        return runInOp(this, f);\n      },\n      startOperation: function startOperation() {\n        return _startOperation(this);\n      },\n      endOperation: function endOperation() {\n        return _endOperation(this);\n      },\n      refresh: methodOp(function () {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this.display);\n\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5) {\n          estimateLineHeights(this);\n        }\n\n        signal(this, \"refresh\", this);\n      }),\n      swapDoc: methodOp(function (doc) {\n        var old = this.doc;\n        old.cm = null; // Cancel the current text selection if any (#5821)\n\n        if (this.state.selectingText) {\n          this.state.selectingText();\n        }\n\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old;\n      }),\n      phrase: function phrase(phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText;\n      },\n      getInputField: function getInputField() {\n        return this.display.input.getField();\n      },\n      getWrapperElement: function getWrapperElement() {\n        return this.display.wrapper;\n      },\n      getScrollerElement: function getScrollerElement() {\n        return this.display.scroller;\n      },\n      getGutterElement: function getGutterElement() {\n        return this.display.gutters;\n      }\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function (type, name, value) {\n      if (!helpers.hasOwnProperty(type)) {\n        helpers[type] = CodeMirror[type] = {\n          _global: []\n        };\n      }\n\n      helpers[type][name] = value;\n    };\n\n    CodeMirror.registerGlobalHelper = function (type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n\n      helpers[type]._global.push({\n        pred: predicate,\n        val: value\n      });\n    };\n  } // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"char\", \"column\" (like char, but doesn't\n  // cross line boundaries), \"word\" (across next word), or \"group\" (to\n  // the start of next group of word or non-word-non-whitespace\n  // chars). The visually param controls whether, in right-to-left\n  // text, direction 1 means to move towards the next index in the\n  // string, or towards the character to the right of the current\n  // position. The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n\n\n  function _findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n\n    function findNextLine() {\n      var l = pos.line + dir;\n\n      if (l < doc.first || l >= doc.first + doc.size) {\n        return false;\n      }\n\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l);\n    }\n\n    function moveOnce(boundToLine) {\n      var next;\n\n      if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n\n      if (next == null) {\n        if (!boundToLine && findNextLine()) {\n          pos = endOfLine(visually, doc.cm, lineObj, pos.line, dir);\n        } else {\n          return false;\n        }\n      } else {\n        pos = next;\n      }\n\n      return true;\n    }\n\n    if (unit == \"char\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null,\n          group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) {\n          break;\n        }\n\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\" : group && cur == \"\\n\" ? \"n\" : !group || /\\s/.test(cur) ? null : \"p\";\n\n        if (group && !first && !type) {\n          type = \"s\";\n        }\n\n        if (sawType && sawType != type) {\n          if (dir < 0) {\n            dir = 1;\n            moveOnce();\n            pos.sticky = \"after\";\n          }\n\n          break;\n        }\n\n        if (type) {\n          sawType = type;\n        }\n\n        if (dir > 0 && !moveOnce(!first)) {\n          break;\n        }\n      }\n    }\n\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n\n    if (equalCursorPos(oldPos, result)) {\n      result.hitSide = true;\n    }\n\n    return result;\n  } // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n\n\n  function _findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc,\n        x = pos.left,\n        y;\n\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n\n    var target;\n\n    for (;;) {\n      target = _coordsChar(cm, x, y);\n\n      if (!target.outside) {\n        break;\n      }\n\n      if (dir < 0 ? y <= 0 : y >= doc.height) {\n        target.hitSide = true;\n        break;\n      }\n\n      y += dir * 5;\n    }\n\n    return target;\n  } // CONTENTEDITABLE INPUT STYLE\n\n\n  var ContentEditableInput = function ContentEditableInput(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n    var this$1 = this;\n    var input = this,\n        cm = input.cm;\n    var div = input.div = display.lineDiv;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n    on(div, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) {\n        return;\n      } // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n\n\n      if (ie_version <= 11) {\n        setTimeout(operation(cm, function () {\n          return this$1.updateFromDOM();\n        }), 20);\n      }\n    });\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {\n        data: e.data,\n        done: false\n      };\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) {\n        this$1.composing = {\n          data: e.data,\n          done: false\n        };\n      }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) {\n          this$1.readFromDOMSoon();\n        }\n\n        this$1.composing.done = true;\n      }\n    });\n    on(div, \"touchstart\", function () {\n      return input.forceCompositionEnd();\n    });\n    on(div, \"input\", function () {\n      if (!this$1.composing) {\n        this$1.readFromDOMSoon();\n      }\n    });\n\n    function onCopyCut(e) {\n      if (signalDOMEvent(cm, e)) {\n        return;\n      }\n\n      if (cm.somethingSelected()) {\n        setLastCopied({\n          lineWise: false,\n          text: cm.getSelections()\n        });\n\n        if (e.type == \"cut\") {\n          cm.replaceSelection(\"\", null, \"cut\");\n        }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return;\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({\n          lineWise: true,\n          text: ranges.text\n        });\n\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\"); // iOS exposes the clipboard API, but seems to discard content inserted into it\n\n        e.clipboardData.setData(\"Text\", content);\n\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return;\n        }\n      } // Old-fashioned briefly-focus-a-textarea hack\n\n\n      var kludge = hiddenTextarea(),\n          te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = document.activeElement;\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n\n        if (hadFocus == div) {\n          input.showPrimarySelection();\n        }\n      }, 50);\n    }\n\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = this.cm.state.focused;\n    return result;\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) {\n      return;\n    }\n\n    if (info.focus || takeFocus) {\n      this.showPrimarySelection();\n    }\n\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection();\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(),\n        cm = this.cm,\n        prim = cm.doc.sel.primary();\n    var from = prim.from(),\n        to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return;\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad && cmp(minPos(curAnchor, curFocus), from) == 0 && cmp(maxPos(curAnchor, curFocus), to) == 0) {\n      return;\n    }\n\n    var view = cm.display.view;\n    var start = from.line >= cm.display.viewFrom && posToDOM(cm, from) || {\n      node: view[0].measure.map[2],\n      offset: 0\n    };\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map$$1 = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {\n        node: map$$1[map$$1.length - 1],\n        offset: map$$1[map$$1.length - 2] - map$$1[map$$1.length - 3]\n      };\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return;\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0),\n        rng;\n\n    try {\n      rng = range(start.node, start.offset, end.offset, end.node);\n    } catch (e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n\n\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n\n      if (old && sel.anchorNode == null) {\n        sel.addRange(old);\n      } else if (gecko) {\n        this.startGracePeriod();\n      }\n    }\n\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n    var this$1 = this;\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n\n      if (this$1.selectionChanged()) {\n        this$1.cm.operation(function () {\n          return this$1.cm.curOp.selectionChanged = true;\n        });\n      }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode;\n    this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode;\n    this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n\n    if (!sel.rangeCount) {\n      return false;\n    }\n\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node);\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor()) {\n        this.showSelection(this.prepareSelection(), true);\n      }\n\n      this.div.focus();\n    }\n  };\n\n  ContentEditableInput.prototype.blur = function () {\n    this.div.blur();\n  };\n\n  ContentEditableInput.prototype.getField = function () {\n    return this.div;\n  };\n\n  ContentEditableInput.prototype.supportsTouch = function () {\n    return true;\n  };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n    var input = this;\n\n    if (this.selectionInEditor()) {\n      this.pollSelection();\n    } else {\n      runInOp(this.cm, function () {\n        return input.cm.curOp.selectionChanged = true;\n      });\n    }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset || sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset;\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) {\n      return;\n    }\n\n    var sel = this.getSelection(),\n        cm = this.cm; // On Android Chrome (version 56, at least), backspacing into an\n    // uneditable block element will put the cursor in that element,\n    // and then, because it's not editable, hide the virtual keyboard.\n    // Because Android doesn't allow us to actually detect backspace\n    // presses in a sane way, this code checks for when that happens\n    // and simulates a backspace press in this case.\n\n    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({\n        type: \"keydown\",\n        keyCode: 8,\n        preventDefault: Math.abs\n      });\n      this.blur();\n      this.focus();\n      return;\n    }\n\n    if (this.composing) {\n      return;\n    }\n\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n\n    if (anchor && head) {\n      runInOp(cm, function () {\n        setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n\n        if (anchor.bad || head.bad) {\n          cm.curOp.selectionChanged = true;\n        }\n      });\n    }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm,\n        display = cm.display,\n        sel = cm.doc.sel.primary();\n    var from = sel.from(),\n        to = sel.to();\n\n    if (from.ch == 0 && from.line > cm.firstLine()) {\n      from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length);\n    }\n\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine()) {\n      to = Pos(to.line + 1, 0);\n    }\n\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) {\n      return false;\n    }\n\n    var fromIndex, fromLine, fromNode;\n\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) {\n      return false;\n    }\n\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) {\n        newText.pop();\n        oldText.pop();\n        toLine--;\n      } else if (newText[0] == oldText[0]) {\n        newText.shift();\n        oldText.shift();\n        fromLine++;\n      } else {\n        break;\n      }\n    }\n\n    var cutFront = 0,\n        cutEnd = 0;\n    var newTop = newText[0],\n        oldTop = oldText[0],\n        maxCutFront = Math.min(newTop.length, oldTop.length);\n\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront)) {\n      ++cutFront;\n    }\n\n    var newBot = lst(newText),\n        oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0), oldBot.length - (oldText.length == 1 ? cutFront : 0));\n\n    while (cutEnd < maxCutEnd && newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n      ++cutEnd;\n    } // Try to move start of change to start of selection if ambiguous\n\n\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch && newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      _replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n\n      return true;\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) {\n      return;\n    }\n\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n    var this$1 = this;\n\n    if (this.readDOMTimeout != null) {\n      return;\n    }\n\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n\n      if (this$1.composing) {\n        if (this$1.composing.done) {\n          this$1.composing = null;\n        } else {\n          return;\n        }\n      }\n\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n    var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent()) {\n      runInOp(this.cm, function () {\n        return regChange(this$1.cm);\n      });\n    }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) {\n      return;\n    }\n\n    e.preventDefault();\n\n    if (!this.cm.isReadOnly()) {\n      operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0);\n    }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n\n    if (!view || view.hidden) {\n      return null;\n    }\n\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n    var order = getOrder(line, cm.doc.direction),\n        side = \"left\";\n\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result;\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode) {\n      if (/CodeMirror-gutter-wrapper/.test(scan.className)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function badPos(pos, bad) {\n    if (bad) {\n      pos.bad = true;\n    }\n\n    return pos;\n  }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\",\n        closing = false,\n        lineSep = cm.doc.lineSeparator(),\n        extraLinebreak = false;\n\n    function recognizeMarker(id) {\n      return function (marker) {\n        return marker.id == id;\n      };\n    }\n\n    function close() {\n      if (closing) {\n        text += lineSep;\n\n        if (extraLinebreak) {\n          text += lineSep;\n        }\n\n        closing = extraLinebreak = false;\n      }\n    }\n\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n\n        if (cmText) {\n          addText(cmText);\n          return;\n        }\n\n        var markerID = node.getAttribute(\"cm-marker\"),\n            range$$1;\n\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n\n          if (found.length && (range$$1 = found[0].find(0))) {\n            addText(getBetween(cm.doc, range$$1.from, range$$1.to).join(lineSep));\n          }\n\n          return;\n        }\n\n        if (node.getAttribute(\"contenteditable\") == \"false\") {\n          return;\n        }\n\n        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n\n        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) {\n          return;\n        }\n\n        if (isBlock) {\n          close();\n        }\n\n        for (var i = 0; i < node.childNodes.length; i++) {\n          walk(node.childNodes[i]);\n        }\n\n        if (/^(pre|p)$/i.test(node.nodeName)) {\n          extraLinebreak = true;\n        }\n\n        if (isBlock) {\n          closing = true;\n        }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n      }\n    }\n\n    for (;;) {\n      walk(from);\n\n      if (from == to) {\n        break;\n      }\n\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n\n    return text;\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n\n      if (!lineNode) {\n        return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true);\n      }\n\n      node = null;\n      offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) {\n          return null;\n        }\n\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) {\n          break;\n        }\n      }\n    }\n\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n\n      if (lineView.node == lineNode) {\n        return locateNodeInLineView(lineView, node, offset);\n      }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild,\n        bad = false;\n\n    if (!node || !contains(wrapper, node)) {\n      return badPos(Pos(lineNo(lineView.line), 0), true);\n    }\n\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad);\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null,\n        topNode = node;\n\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n\n      if (offset) {\n        offset = textNode.nodeValue.length;\n      }\n    }\n\n    while (topNode.parentNode != wrapper) {\n      topNode = topNode.parentNode;\n    }\n\n    var measure = lineView.measure,\n        maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map$$1 = i < 0 ? measure.map : maps[i];\n\n        for (var j = 0; j < map$$1.length; j += 3) {\n          var curNode = map$$1[j + 2];\n\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map$$1[j] + offset;\n\n            if (offset < 0 || curNode != textNode) {\n              ch = map$$1[j + (offset ? 1 : 0)];\n            }\n\n            return Pos(line, ch);\n          }\n        }\n      }\n    }\n\n    var found = find(textNode, topNode, offset);\n\n    if (found) {\n      return badPos(found, bad);\n    } // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n\n\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n\n      if (found) {\n        return badPos(Pos(found.line, found.ch - dist), bad);\n      } else {\n        dist += after.textContent.length;\n      }\n    }\n\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n\n      if (found) {\n        return badPos(Pos(found.line, found.ch + dist$1), bad);\n      } else {\n        dist$1 += before.textContent.length;\n      }\n    }\n  } // TEXTAREA INPUT STYLE\n\n\n  var TextareaInput = function TextareaInput(cm) {\n    this.cm = cm; // See input.poll and input.reset\n\n    this.prevInput = \"\"; // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n\n    this.pollingFast = false; // Self-resetting timeout for the poller\n\n    this.polling = new Delayed(); // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n    var this$1 = this;\n    var input = this,\n        cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild); // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n\n    if (ios) {\n      te.style.width = \"0px\";\n    }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) {\n        this$1.hasSelection = null;\n      }\n\n      input.poll();\n    });\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) {\n        return;\n      }\n\n      cm.state.pasteIncoming = +new Date();\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) {\n        return;\n      }\n\n      if (cm.somethingSelected()) {\n        setLastCopied({\n          lineWise: false,\n          text: cm.getSelections()\n        });\n      } else if (!cm.options.lineWiseCopyCut) {\n        return;\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({\n          lineWise: true,\n          text: ranges.text\n        });\n\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n\n      if (e.type == \"cut\") {\n        cm.state.cutIncoming = +new Date();\n      }\n    }\n\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) {\n        return;\n      }\n\n      if (!te.dispatchEvent) {\n        cm.state.pasteIncoming = +new Date();\n        input.focus();\n        return;\n      } // Pass the `paste` event to the textarea so it's handled by its event listener.\n\n\n      var event = new Event(\"paste\");\n      event.clipboardData = e.clipboardData;\n      te.dispatchEvent(event);\n    }); // Prevent normal selection in the editor (we handle our own)\n\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) {\n        e_preventDefault(e);\n      }\n    });\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n\n      if (input.composing) {\n        input.composing.range.clear();\n      }\n\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {\n          className: \"CodeMirror-composing\"\n        })\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    // Wraps and hides input textarea\n    this.wrapper = hiddenTextarea(); // The semihidden textarea that is focused when the editor is\n    // focused, and receives input.\n\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    // Redraw the selection and/or cursor\n    var cm = this.cm,\n        display = cm.display,\n        doc = cm.doc;\n    var result = prepareSelection(cm); // Move the hidden textarea near the cursor to prevent scrolling artifacts\n\n    if (cm.options.moveInputWithCursor) {\n      var headPos = _cursorCoords(cm, doc.sel.primary().head, \"div\");\n\n      var wrapOff = display.wrapper.getBoundingClientRect(),\n          lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10, headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10, headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result;\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm,\n        display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  }; // Reset the input to correspond to the selection (or to be empty,\n  // when not typing and nothing is selected)\n\n\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) {\n      return;\n    }\n\n    var cm = this.cm;\n\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n\n      if (cm.state.focused) {\n        selectInput(this.textarea);\n      }\n\n      if (ie && ie_version >= 9) {\n        this.hasSelection = content;\n      }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n\n      if (ie && ie_version >= 9) {\n        this.hasSelection = null;\n      }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () {\n    return this.textarea;\n  };\n\n  TextareaInput.prototype.supportsTouch = function () {\n    return false;\n  };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try {\n        this.textarea.focus();\n      } catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n\n    }\n  };\n\n  TextareaInput.prototype.blur = function () {\n    this.textarea.blur();\n  };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () {\n    this.slowPoll();\n  }; // Poll for input changes, using the normal rate of polling. This\n  // runs as long as the editor is focused.\n\n\n  TextareaInput.prototype.slowPoll = function () {\n    var this$1 = this;\n\n    if (this.pollingFast) {\n      return;\n    }\n\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n\n      if (this$1.cm.state.focused) {\n        this$1.slowPoll();\n      }\n    });\n  }; // When an event has just come in that is likely to add or change\n  // something in the input textarea, we poll faster, to ensure that\n  // the change appears on the screen quickly.\n\n\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false,\n        input = this;\n    input.pollingFast = true;\n\n    function p() {\n      var changed = input.poll();\n\n      if (!changed && !missed) {\n        missed = true;\n        input.polling.set(60, p);\n      } else {\n        input.pollingFast = false;\n        input.slowPoll();\n      }\n    }\n\n    input.polling.set(20, p);\n  }; // Read input from the textarea, and update the document to match.\n  // When something is selected, it is present in the textarea, and\n  // selected (unless it is huge, in which case a placeholder is\n  // used). When nothing is selected, the cursor sits after previously\n  // seen text (can be empty), which is stored in prevInput (we must\n  // not reset the textarea when typing, because that breaks IME).\n\n\n  TextareaInput.prototype.poll = function () {\n    var this$1 = this;\n    var cm = this.cm,\n        input = this.textarea,\n        prevInput = this.prevInput; // Since this is called a *lot*, try to bail out as cheaply as\n    // possible when it is clear that nothing happened. hasSelection\n    // will be the case when there is a lot of text in the textarea,\n    // in which case reading its value would be expensive.\n\n    if (this.contextMenuPending || !cm.state.focused || hasSelection(input) && !prevInput && !this.composing || cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq) {\n      return false;\n    }\n\n    var text = input.value; // If nothing changed, bail.\n\n    if (text == prevInput && !cm.somethingSelected()) {\n      return false;\n    } // Work around nonsensical selection resetting in IE9/10, and\n    // inexplicable appearance of private area unicode characters on\n    // some key combos in Mac (#2689).\n\n\n    if (ie && ie_version >= 9 && this.hasSelection === text || mac && /[\\uf700-\\uf7ff]/.test(text)) {\n      cm.display.input.reset();\n      return false;\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n\n      if (first == 0x200b && !prevInput) {\n        prevInput = \"\\u200B\";\n      }\n\n      if (first == 0x21da) {\n        this.reset();\n        return this.cm.execCommand(\"undo\");\n      }\n    } // Find the part of the input that is actually new\n\n\n    var same = 0,\n        l = Math.min(prevInput.length, text.length);\n\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) {\n      ++same;\n    }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same, null, this$1.composing ? \"*compose\" : null); // Don't leave long text in the textarea, since it makes further polling slow\n\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) {\n        input.value = this$1.prevInput = \"\";\n      } else {\n        this$1.prevInput = text;\n      }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"), {\n          className: \"CodeMirror-composing\"\n        });\n      }\n    });\n    return true;\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) {\n      this.pollingFast = false;\n    }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) {\n      this.hasSelection = null;\n    }\n\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this,\n        cm = input.cm,\n        display = cm.display,\n        te = input.textarea;\n\n    if (input.contextMenuPending) {\n      input.contextMenuPending();\n    }\n\n    var pos = posFromMouse(cm, e),\n        scrollPos = display.scroller.scrollTop;\n\n    if (!pos || presto) {\n      return;\n    } // Opera is difficult.\n    // Reset the current text selection only if the click is done outside of the selection\n    // and 'resetSelectionOnContextMenu' option is true.\n\n\n    var reset = cm.options.resetSelectionOnContextMenu;\n\n    if (reset && cm.doc.sel.contains(pos) == -1) {\n      operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll);\n    }\n\n    var oldCSS = te.style.cssText,\n        oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n\n    if (webkit) {\n      oldScrollY = window.scrollY;\n    } // Work around Chrome issue (#2712)\n\n\n    display.input.focus();\n\n    if (webkit) {\n      window.scrollTo(null, oldScrollY);\n    }\n\n    display.input.reset(); // Adds \"Select all\" to context menu in FF\n\n    if (!cm.somethingSelected()) {\n      te.value = input.prevInput = \" \";\n    }\n\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll); // Select-all will be greyed out if there's nothing to select, so\n    // this adds a zero-width space so that we can later check whether\n    // it got selected.\n\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200B\" + (selected ? te.value : \"\");\n        te.value = \"\\u21DA\"; // Used to catch context-menu undo\n\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200B\";\n        te.selectionStart = 1;\n        te.selectionEnd = extval.length; // Re-set this, in case some other handler touched the\n        // selection in the meantime.\n\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n\n    function rehide() {\n      if (input.contextMenuPending != rehide) {\n        return;\n      }\n\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n\n      if (ie && ie_version < 9) {\n        display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos);\n      } // Try to detect the user choosing select-all\n\n\n      if (te.selectionStart != null) {\n        if (!ie || ie && ie_version < 9) {\n          prepareSelectAllHack();\n        }\n\n        var i = 0,\n            poll = function poll() {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 && te.selectionEnd > 0 && input.prevInput == \"\\u200B\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) {\n      prepareSelectAllHack();\n    }\n\n    if (captureRightClick) {\n      e_stop(e);\n\n      var mouseup = function mouseup() {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) {\n      this.reset();\n    }\n\n    this.textarea.disabled = val == \"nocursor\";\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n\n    if (!options.tabindex && textarea.tabIndex) {\n      options.tabindex = textarea.tabIndex;\n    }\n\n    if (!options.placeholder && textarea.placeholder) {\n      options.placeholder = textarea.placeholder;\n    } // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n\n\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea || textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {\n      textarea.value = cm.getValue();\n    }\n\n    var realSubmit;\n\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save); // Deplorable hack to make the submit method do the right thing.\n\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch (e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n\n      cm.getTextArea = function () {\n        return textarea;\n      };\n\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n\n          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == \"function\") {\n            textarea.form.submit = realSubmit;\n          }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) {\n      return textarea.parentNode.insertBefore(node, textarea.nextSibling);\n    }, options);\n    return cm;\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  } // EDITOR CONSTRUCTOR\n\n\n  defineOptions(CodeMirror);\n  addEditorMethods(CodeMirror); // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n\n  for (var prop in Doc.prototype) {\n    if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0) {\n      CodeMirror.prototype[prop] = function (method) {\n        return function () {\n          return method.apply(this.doc, arguments);\n        };\n      }(Doc.prototype[prop]);\n    }\n  }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\n    \"textarea\": TextareaInput,\n    \"contenteditable\": ContentEditableInput\n  }; // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n\n  CodeMirror.defineMode = function (name\n  /*, mode, …*/\n  ) {\n    if (!CodeMirror.defaults.mode && name != \"null\") {\n      CodeMirror.defaults.mode = name;\n    }\n\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME; // Minimal default mode.\n\n  CodeMirror.defineMode(\"null\", function () {\n    return {\n      token: function token(stream) {\n        return stream.skipToEnd();\n      }\n    };\n  });\n  CodeMirror.defineMIME(\"text/plain\", \"null\"); // EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n  addLegacyProps(CodeMirror);\n  CodeMirror.version = \"5.49.0\";\n  return CodeMirror;\n});","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\n\n\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n\n  var type = typeof index;\n\n  if (type == 'number' ? isArrayLike(object) && isIndex(index, object.length) : type == 'string' && index in object) {\n    return eq(object[index], value);\n  }\n\n  return false;\n}\n\nmodule.exports = isIterateeCall;","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-dom-server.browser.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom-server.browser.development.js');\n}","/** @license React v16.10.2\n * react-dom-server.browser.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nvar k = require(\"object-assign\"),\n    l = require(\"react\");\n\nfunction r(a) {\n  for (var b = a.message, c = \"https://reactjs.org/docs/error-decoder.html?invariant=\" + b, d = 1; d < arguments.length; d++) {\n    c += \"&args[]=\" + encodeURIComponent(arguments[d]);\n  }\n\n  a.message = \"Minified React error #\" + b + \"; visit \" + c + \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. \";\n  return a;\n}\n\nvar u = \"function\" === typeof Symbol && Symbol.for,\n    aa = u ? Symbol.for(\"react.portal\") : 60106,\n    v = u ? Symbol.for(\"react.fragment\") : 60107,\n    ba = u ? Symbol.for(\"react.strict_mode\") : 60108,\n    ca = u ? Symbol.for(\"react.profiler\") : 60114,\n    x = u ? Symbol.for(\"react.provider\") : 60109,\n    da = u ? Symbol.for(\"react.context\") : 60110,\n    ea = u ? Symbol.for(\"react.concurrent_mode\") : 60111,\n    fa = u ? Symbol.for(\"react.forward_ref\") : 60112,\n    B = u ? Symbol.for(\"react.suspense\") : 60113,\n    ha = u ? Symbol.for(\"react.suspense_list\") : 60120,\n    ia = u ? Symbol.for(\"react.memo\") : 60115,\n    ja = u ? Symbol.for(\"react.lazy\") : 60116,\n    ka = u ? Symbol.for(\"react.fundamental\") : 60117,\n    la = u ? Symbol.for(\"react.scope\") : 60119,\n    C = l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\nC.hasOwnProperty(\"ReactCurrentDispatcher\") || (C.ReactCurrentDispatcher = {\n  current: null\n});\nC.hasOwnProperty(\"ReactCurrentBatchConfig\") || (C.ReactCurrentBatchConfig = {\n  suspense: null\n});\n\nfunction ma(a) {\n  if (-1 === a._status) {\n    a._status = 0;\n    var b = a._ctor;\n    b = b();\n    a._result = b;\n    b.then(function (c) {\n      0 === a._status && (c = c.default, a._status = 1, a._result = c);\n    }, function (c) {\n      0 === a._status && (a._status = 2, a._result = c);\n    });\n  }\n}\n\nfunction D(a) {\n  if (null == a) return null;\n  if (\"function\" === typeof a) return a.displayName || a.name || null;\n  if (\"string\" === typeof a) return a;\n\n  switch (a) {\n    case v:\n      return \"Fragment\";\n\n    case aa:\n      return \"Portal\";\n\n    case ca:\n      return \"Profiler\";\n\n    case ba:\n      return \"StrictMode\";\n\n    case B:\n      return \"Suspense\";\n\n    case ha:\n      return \"SuspenseList\";\n  }\n\n  if (\"object\" === typeof a) switch (a.$$typeof) {\n    case da:\n      return \"Context.Consumer\";\n\n    case x:\n      return \"Context.Provider\";\n\n    case fa:\n      var b = a.render;\n      b = b.displayName || b.name || \"\";\n      return a.displayName || (\"\" !== b ? \"ForwardRef(\" + b + \")\" : \"ForwardRef\");\n\n    case ia:\n      return D(a.type);\n\n    case ja:\n      if (a = 1 === a._status ? a._result : null) return D(a);\n  }\n  return null;\n}\n\nvar na = {};\n\nfunction E(a, b) {\n  for (var c = a._threadCount | 0; c <= b; c++) {\n    a[c] = a._currentValue2, a._threadCount = c + 1;\n  }\n}\n\nfunction oa(a, b, c, d) {\n  if (d && (d = a.contextType, \"object\" === typeof d && null !== d)) return E(d, c), d[c];\n\n  if (a = a.contextTypes) {\n    c = {};\n\n    for (var f in a) {\n      c[f] = b[f];\n    }\n\n    b = c;\n  } else b = na;\n\n  return b;\n}\n\nfor (var F = new Uint16Array(16), H = 0; 15 > H; H++) {\n  F[H] = H + 1;\n}\n\nF[15] = 0;\nvar pa = /^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,\n    qa = Object.prototype.hasOwnProperty,\n    ra = {},\n    sa = {};\n\nfunction ta(a) {\n  if (qa.call(sa, a)) return !0;\n  if (qa.call(ra, a)) return !1;\n  if (pa.test(a)) return sa[a] = !0;\n  ra[a] = !0;\n  return !1;\n}\n\nfunction ua(a, b, c, d) {\n  if (null !== c && 0 === c.type) return !1;\n\n  switch (typeof b) {\n    case \"function\":\n    case \"symbol\":\n      return !0;\n\n    case \"boolean\":\n      if (d) return !1;\n      if (null !== c) return !c.acceptsBooleans;\n      a = a.toLowerCase().slice(0, 5);\n      return \"data-\" !== a && \"aria-\" !== a;\n\n    default:\n      return !1;\n  }\n}\n\nfunction va(a, b, c, d) {\n  if (null === b || \"undefined\" === typeof b || ua(a, b, c, d)) return !0;\n  if (d) return !1;\n  if (null !== c) switch (c.type) {\n    case 3:\n      return !b;\n\n    case 4:\n      return !1 === b;\n\n    case 5:\n      return isNaN(b);\n\n    case 6:\n      return isNaN(b) || 1 > b;\n  }\n  return !1;\n}\n\nfunction J(a, b, c, d, f, h) {\n  this.acceptsBooleans = 2 === b || 3 === b || 4 === b;\n  this.attributeName = d;\n  this.attributeNamespace = f;\n  this.mustUseProperty = c;\n  this.propertyName = a;\n  this.type = b;\n  this.sanitizeURL = h;\n}\n\nvar K = {};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function (a) {\n  K[a] = new J(a, 0, !1, a, null, !1);\n});\n[[\"acceptCharset\", \"accept-charset\"], [\"className\", \"class\"], [\"htmlFor\", \"for\"], [\"httpEquiv\", \"http-equiv\"]].forEach(function (a) {\n  var b = a[0];\n  K[b] = new J(b, 1, !1, a[1], null, !1);\n});\n[\"contentEditable\", \"draggable\", \"spellCheck\", \"value\"].forEach(function (a) {\n  K[a] = new J(a, 2, !1, a.toLowerCase(), null, !1);\n});\n[\"autoReverse\", \"externalResourcesRequired\", \"focusable\", \"preserveAlpha\"].forEach(function (a) {\n  K[a] = new J(a, 2, !1, a, null, !1);\n});\n\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function (a) {\n  K[a] = new J(a, 3, !1, a.toLowerCase(), null, !1);\n});\n[\"checked\", \"multiple\", \"muted\", \"selected\"].forEach(function (a) {\n  K[a] = new J(a, 3, !0, a, null, !1);\n});\n[\"capture\", \"download\"].forEach(function (a) {\n  K[a] = new J(a, 4, !1, a, null, !1);\n});\n[\"cols\", \"rows\", \"size\", \"span\"].forEach(function (a) {\n  K[a] = new J(a, 6, !1, a, null, !1);\n});\n[\"rowSpan\", \"start\"].forEach(function (a) {\n  K[a] = new J(a, 5, !1, a.toLowerCase(), null, !1);\n});\nvar L = /[\\-:]([a-z])/g;\n\nfunction M(a) {\n  return a[1].toUpperCase();\n}\n\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function (a) {\n  var b = a.replace(L, M);\n  K[b] = new J(b, 1, !1, a, null, !1);\n});\n\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function (a) {\n  var b = a.replace(L, M);\n  K[b] = new J(b, 1, !1, a, \"http://www.w3.org/1999/xlink\", !1);\n});\n[\"xml:base\", \"xml:lang\", \"xml:space\"].forEach(function (a) {\n  var b = a.replace(L, M);\n  K[b] = new J(b, 1, !1, a, \"http://www.w3.org/XML/1998/namespace\", !1);\n});\n[\"tabIndex\", \"crossOrigin\"].forEach(function (a) {\n  K[a] = new J(a, 1, !1, a.toLowerCase(), null, !1);\n});\nK.xlinkHref = new J(\"xlinkHref\", 1, !1, \"xlink:href\", \"http://www.w3.org/1999/xlink\", !0);\n[\"src\", \"href\", \"action\", \"formAction\"].forEach(function (a) {\n  K[a] = new J(a, 1, !1, a.toLowerCase(), null, !0);\n});\nvar wa = /[\"'&<>]/;\n\nfunction N(a) {\n  if (\"boolean\" === typeof a || \"number\" === typeof a) return \"\" + a;\n  a = \"\" + a;\n  var b = wa.exec(a);\n\n  if (b) {\n    var c = \"\",\n        d,\n        f = 0;\n\n    for (d = b.index; d < a.length; d++) {\n      switch (a.charCodeAt(d)) {\n        case 34:\n          b = \"&quot;\";\n          break;\n\n        case 38:\n          b = \"&amp;\";\n          break;\n\n        case 39:\n          b = \"&#x27;\";\n          break;\n\n        case 60:\n          b = \"&lt;\";\n          break;\n\n        case 62:\n          b = \"&gt;\";\n          break;\n\n        default:\n          continue;\n      }\n\n      f !== d && (c += a.substring(f, d));\n      f = d + 1;\n      c += b;\n    }\n\n    a = f !== d ? c + a.substring(f, d) : c;\n  }\n\n  return a;\n}\n\nfunction xa(a, b) {\n  var c = K.hasOwnProperty(a) ? K[a] : null;\n  var d;\n  if (d = \"style\" !== a) d = null !== c ? 0 === c.type : !(2 < a.length) || \"o\" !== a[0] && \"O\" !== a[0] || \"n\" !== a[1] && \"N\" !== a[1] ? !1 : !0;\n  if (d || va(a, b, c, !1)) return \"\";\n\n  if (null !== c) {\n    a = c.attributeName;\n    d = c.type;\n    if (3 === d || 4 === d && !0 === b) return a + '=\"\"';\n    c.sanitizeURL && (b = \"\" + b);\n    return a + \"=\" + ('\"' + N(b) + '\"');\n  }\n\n  return ta(a) ? a + \"=\" + ('\"' + N(b) + '\"') : \"\";\n}\n\nfunction ya(a, b) {\n  return a === b && (0 !== a || 1 / a === 1 / b) || a !== a && b !== b;\n}\n\nvar za = \"function\" === typeof Object.is ? Object.is : ya,\n    O = null,\n    P = null,\n    Q = null,\n    R = !1,\n    S = !1,\n    U = null,\n    V = 0;\n\nfunction W() {\n  if (null === O) throw r(Error(321));\n  return O;\n}\n\nfunction Aa() {\n  if (0 < V) throw r(Error(312));\n  return {\n    memoizedState: null,\n    queue: null,\n    next: null\n  };\n}\n\nfunction Ba() {\n  null === Q ? null === P ? (R = !1, P = Q = Aa()) : (R = !0, Q = P) : null === Q.next ? (R = !1, Q = Q.next = Aa()) : (R = !0, Q = Q.next);\n  return Q;\n}\n\nfunction Ca(a, b, c, d) {\n  for (; S;) {\n    S = !1, V += 1, Q = null, c = a(b, d);\n  }\n\n  P = O = null;\n  V = 0;\n  Q = U = null;\n  return c;\n}\n\nfunction Da(a, b) {\n  return \"function\" === typeof b ? b(a) : b;\n}\n\nfunction Ea(a, b, c) {\n  O = W();\n  Q = Ba();\n\n  if (R) {\n    var d = Q.queue;\n    b = d.dispatch;\n\n    if (null !== U && (c = U.get(d), void 0 !== c)) {\n      U.delete(d);\n      d = Q.memoizedState;\n\n      do {\n        d = a(d, c.action), c = c.next;\n      } while (null !== c);\n\n      Q.memoizedState = d;\n      return [d, b];\n    }\n\n    return [Q.memoizedState, b];\n  }\n\n  a = a === Da ? \"function\" === typeof b ? b() : b : void 0 !== c ? c(b) : b;\n  Q.memoizedState = a;\n  a = Q.queue = {\n    last: null,\n    dispatch: null\n  };\n  a = a.dispatch = Fa.bind(null, O, a);\n  return [Q.memoizedState, a];\n}\n\nfunction Fa(a, b, c) {\n  if (!(25 > V)) throw r(Error(301));\n  if (a === O) if (S = !0, a = {\n    action: c,\n    next: null\n  }, null === U && (U = new Map()), c = U.get(b), void 0 === c) U.set(b, a);else {\n    for (b = c; null !== b.next;) {\n      b = b.next;\n    }\n\n    b.next = a;\n  }\n}\n\nfunction Ga() {}\n\nvar X = 0,\n    Ha = {\n  readContext: function readContext(a) {\n    var b = X;\n    E(a, b);\n    return a[b];\n  },\n  useContext: function useContext(a) {\n    W();\n    var b = X;\n    E(a, b);\n    return a[b];\n  },\n  useMemo: function useMemo(a, b) {\n    O = W();\n    Q = Ba();\n    b = void 0 === b ? null : b;\n\n    if (null !== Q) {\n      var c = Q.memoizedState;\n\n      if (null !== c && null !== b) {\n        a: {\n          var d = c[1];\n          if (null === d) d = !1;else {\n            for (var f = 0; f < d.length && f < b.length; f++) {\n              if (!za(b[f], d[f])) {\n                d = !1;\n                break a;\n              }\n            }\n\n            d = !0;\n          }\n        }\n\n        if (d) return c[0];\n      }\n    }\n\n    a = a();\n    Q.memoizedState = [a, b];\n    return a;\n  },\n  useReducer: Ea,\n  useRef: function useRef(a) {\n    O = W();\n    Q = Ba();\n    var b = Q.memoizedState;\n    return null === b ? (a = {\n      current: a\n    }, Q.memoizedState = a) : b;\n  },\n  useState: function useState(a) {\n    return Ea(Da, a);\n  },\n  useLayoutEffect: function useLayoutEffect() {},\n  useCallback: function useCallback(a) {\n    return a;\n  },\n  useImperativeHandle: Ga,\n  useEffect: Ga,\n  useDebugValue: Ga,\n  useResponder: function useResponder(a, b) {\n    return {\n      props: b,\n      responder: a\n    };\n  }\n},\n    Ia = {\n  html: \"http://www.w3.org/1999/xhtml\",\n  mathml: \"http://www.w3.org/1998/Math/MathML\",\n  svg: \"http://www.w3.org/2000/svg\"\n};\n\nfunction Ja(a) {\n  switch (a) {\n    case \"svg\":\n      return \"http://www.w3.org/2000/svg\";\n\n    case \"math\":\n      return \"http://www.w3.org/1998/Math/MathML\";\n\n    default:\n      return \"http://www.w3.org/1999/xhtml\";\n  }\n}\n\nvar Ka = {\n  area: !0,\n  base: !0,\n  br: !0,\n  col: !0,\n  embed: !0,\n  hr: !0,\n  img: !0,\n  input: !0,\n  keygen: !0,\n  link: !0,\n  meta: !0,\n  param: !0,\n  source: !0,\n  track: !0,\n  wbr: !0\n},\n    La = k({\n  menuitem: !0\n}, Ka),\n    Y = {\n  animationIterationCount: !0,\n  borderImageOutset: !0,\n  borderImageSlice: !0,\n  borderImageWidth: !0,\n  boxFlex: !0,\n  boxFlexGroup: !0,\n  boxOrdinalGroup: !0,\n  columnCount: !0,\n  columns: !0,\n  flex: !0,\n  flexGrow: !0,\n  flexPositive: !0,\n  flexShrink: !0,\n  flexNegative: !0,\n  flexOrder: !0,\n  gridArea: !0,\n  gridRow: !0,\n  gridRowEnd: !0,\n  gridRowSpan: !0,\n  gridRowStart: !0,\n  gridColumn: !0,\n  gridColumnEnd: !0,\n  gridColumnSpan: !0,\n  gridColumnStart: !0,\n  fontWeight: !0,\n  lineClamp: !0,\n  lineHeight: !0,\n  opacity: !0,\n  order: !0,\n  orphans: !0,\n  tabSize: !0,\n  widows: !0,\n  zIndex: !0,\n  zoom: !0,\n  fillOpacity: !0,\n  floodOpacity: !0,\n  stopOpacity: !0,\n  strokeDasharray: !0,\n  strokeDashoffset: !0,\n  strokeMiterlimit: !0,\n  strokeOpacity: !0,\n  strokeWidth: !0\n},\n    Ma = [\"Webkit\", \"ms\", \"Moz\", \"O\"];\nObject.keys(Y).forEach(function (a) {\n  Ma.forEach(function (b) {\n    b = b + a.charAt(0).toUpperCase() + a.substring(1);\n    Y[b] = Y[a];\n  });\n});\nvar Na = /([A-Z])/g,\n    Oa = /^ms-/,\n    Z = l.Children.toArray,\n    Pa = C.ReactCurrentDispatcher,\n    Qa = {\n  listing: !0,\n  pre: !0,\n  textarea: !0\n},\n    Ra = /^[a-zA-Z][a-zA-Z:_\\.\\-\\d]*$/,\n    Sa = {},\n    Ta = {};\n\nfunction Ua(a) {\n  if (void 0 === a || null === a) return a;\n  var b = \"\";\n  l.Children.forEach(a, function (a) {\n    null != a && (b += a);\n  });\n  return b;\n}\n\nvar Va = Object.prototype.hasOwnProperty,\n    Wa = {\n  children: null,\n  dangerouslySetInnerHTML: null,\n  suppressContentEditableWarning: null,\n  suppressHydrationWarning: null\n};\n\nfunction Xa(a, b) {\n  if (void 0 === a) throw r(Error(152), D(b) || \"Component\");\n}\n\nfunction Ya(a, b, c) {\n  function d(d, h) {\n    var e = h.prototype && h.prototype.isReactComponent,\n        f = oa(h, b, c, e),\n        p = [],\n        g = !1,\n        m = {\n      isMounted: function isMounted() {\n        return !1;\n      },\n      enqueueForceUpdate: function enqueueForceUpdate() {\n        if (null === p) return null;\n      },\n      enqueueReplaceState: function enqueueReplaceState(a, c) {\n        g = !0;\n        p = [c];\n      },\n      enqueueSetState: function enqueueSetState(a, c) {\n        if (null === p) return null;\n        p.push(c);\n      }\n    };\n\n    if (e) {\n      if (e = new h(d.props, f, m), \"function\" === typeof h.getDerivedStateFromProps) {\n        var w = h.getDerivedStateFromProps.call(null, d.props, e.state);\n        null != w && (e.state = k({}, e.state, w));\n      }\n    } else if (O = {}, e = h(d.props, f, m), e = Ca(h, d.props, e, f), null == e || null == e.render) {\n      a = e;\n      Xa(a, h);\n      return;\n    }\n\n    e.props = d.props;\n    e.context = f;\n    e.updater = m;\n    m = e.state;\n    void 0 === m && (e.state = m = null);\n    if (\"function\" === typeof e.UNSAFE_componentWillMount || \"function\" === typeof e.componentWillMount) if (\"function\" === typeof e.componentWillMount && \"function\" !== typeof h.getDerivedStateFromProps && e.componentWillMount(), \"function\" === typeof e.UNSAFE_componentWillMount && \"function\" !== typeof h.getDerivedStateFromProps && e.UNSAFE_componentWillMount(), p.length) {\n      m = p;\n      var t = g;\n      p = null;\n      g = !1;\n      if (t && 1 === m.length) e.state = m[0];else {\n        w = t ? m[0] : e.state;\n        var y = !0;\n\n        for (t = t ? 1 : 0; t < m.length; t++) {\n          var q = m[t];\n          q = \"function\" === typeof q ? q.call(e, w, d.props, f) : q;\n          null != q && (y ? (y = !1, w = k({}, w, q)) : k(w, q));\n        }\n\n        e.state = w;\n      }\n    } else p = null;\n    a = e.render();\n    Xa(a, h);\n\n    if (\"function\" === typeof e.getChildContext && (d = h.childContextTypes, \"object\" === typeof d)) {\n      var A = e.getChildContext();\n\n      for (var T in A) {\n        if (!(T in d)) throw r(Error(108), D(h) || \"Unknown\", T);\n      }\n    }\n\n    A && (b = k({}, b, A));\n  }\n\n  for (; l.isValidElement(a);) {\n    var f = a,\n        h = f.type;\n    if (\"function\" !== typeof h) break;\n    d(f, h);\n  }\n\n  return {\n    child: a,\n    context: b\n  };\n}\n\nvar Za = function () {\n  function a(a, b) {\n    l.isValidElement(a) ? a.type !== v ? a = [a] : (a = a.props.children, a = l.isValidElement(a) ? [a] : Z(a)) : a = Z(a);\n    a = {\n      type: null,\n      domNamespace: Ia.html,\n      children: a,\n      childIndex: 0,\n      context: na,\n      footer: \"\"\n    };\n    var c = F[0];\n\n    if (0 === c) {\n      var d = F;\n      c = d.length;\n      var p = 2 * c;\n      if (!(65536 >= p)) throw r(Error(304));\n      var g = new Uint16Array(p);\n      g.set(d);\n      F = g;\n      F[0] = c + 1;\n\n      for (d = c; d < p - 1; d++) {\n        F[d] = d + 1;\n      }\n\n      F[p - 1] = 0;\n    } else F[0] = F[c];\n\n    this.threadID = c;\n    this.stack = [a];\n    this.exhausted = !1;\n    this.currentSelectValue = null;\n    this.previousWasTextNode = !1;\n    this.makeStaticMarkup = b;\n    this.suspenseDepth = 0;\n    this.contextIndex = -1;\n    this.contextStack = [];\n    this.contextValueStack = [];\n  }\n\n  var b = a.prototype;\n\n  b.destroy = function () {\n    if (!this.exhausted) {\n      this.exhausted = !0;\n      this.clearProviders();\n      var a = this.threadID;\n      F[a] = F[0];\n      F[0] = a;\n    }\n  };\n\n  b.pushProvider = function (a) {\n    var c = ++this.contextIndex,\n        b = a.type._context,\n        h = this.threadID;\n    E(b, h);\n    var p = b[h];\n    this.contextStack[c] = b;\n    this.contextValueStack[c] = p;\n    b[h] = a.props.value;\n  };\n\n  b.popProvider = function () {\n    var a = this.contextIndex,\n        b = this.contextStack[a],\n        f = this.contextValueStack[a];\n    this.contextStack[a] = null;\n    this.contextValueStack[a] = null;\n    this.contextIndex--;\n    b[this.threadID] = f;\n  };\n\n  b.clearProviders = function () {\n    for (var a = this.contextIndex; 0 <= a; a--) {\n      this.contextStack[a][this.threadID] = this.contextValueStack[a];\n    }\n  };\n\n  b.read = function (a) {\n    if (this.exhausted) return null;\n    var b = X;\n    X = this.threadID;\n    var c = Pa.current;\n    Pa.current = Ha;\n\n    try {\n      for (var h = [\"\"], p = !1; h[0].length < a;) {\n        if (0 === this.stack.length) {\n          this.exhausted = !0;\n          var g = this.threadID;\n          F[g] = F[0];\n          F[0] = g;\n          break;\n        }\n\n        var e = this.stack[this.stack.length - 1];\n\n        if (p || e.childIndex >= e.children.length) {\n          var I = e.footer;\n          \"\" !== I && (this.previousWasTextNode = !1);\n          this.stack.pop();\n          if (\"select\" === e.type) this.currentSelectValue = null;else if (null != e.type && null != e.type.type && e.type.type.$$typeof === x) this.popProvider(e.type);else if (e.type === B) {\n            this.suspenseDepth--;\n            var G = h.pop();\n\n            if (p) {\n              p = !1;\n              var n = e.fallbackFrame;\n              if (!n) throw r(Error(303));\n              this.stack.push(n);\n              h[this.suspenseDepth] += \"\\x3c!--$!--\\x3e\";\n              continue;\n            } else h[this.suspenseDepth] += G;\n          }\n          h[this.suspenseDepth] += I;\n        } else {\n          var m = e.children[e.childIndex++],\n              w = \"\";\n\n          try {\n            w += this.render(m, e.context, e.domNamespace);\n          } catch (t) {\n            if (null != t && \"function\" === typeof t.then) throw r(Error(294));\n            throw t;\n          } finally {}\n\n          h.length <= this.suspenseDepth && h.push(\"\");\n          h[this.suspenseDepth] += w;\n        }\n      }\n\n      return h[0];\n    } finally {\n      Pa.current = c, X = b;\n    }\n  };\n\n  b.render = function (a, b, f) {\n    if (\"string\" === typeof a || \"number\" === typeof a) {\n      f = \"\" + a;\n      if (\"\" === f) return \"\";\n      if (this.makeStaticMarkup) return N(f);\n      if (this.previousWasTextNode) return \"\\x3c!-- --\\x3e\" + N(f);\n      this.previousWasTextNode = !0;\n      return N(f);\n    }\n\n    b = Ya(a, b, this.threadID);\n    a = b.child;\n    b = b.context;\n    if (null === a || !1 === a) return \"\";\n\n    if (!l.isValidElement(a)) {\n      if (null != a && null != a.$$typeof) {\n        f = a.$$typeof;\n        if (f === aa) throw r(Error(257));\n        throw r(Error(258), f.toString());\n      }\n\n      a = Z(a);\n      this.stack.push({\n        type: null,\n        domNamespace: f,\n        children: a,\n        childIndex: 0,\n        context: b,\n        footer: \"\"\n      });\n      return \"\";\n    }\n\n    var c = a.type;\n    if (\"string\" === typeof c) return this.renderDOM(a, b, f);\n\n    switch (c) {\n      case ba:\n      case ea:\n      case ca:\n      case ha:\n      case v:\n        return a = Z(a.props.children), this.stack.push({\n          type: null,\n          domNamespace: f,\n          children: a,\n          childIndex: 0,\n          context: b,\n          footer: \"\"\n        }), \"\";\n\n      case B:\n        throw r(Error(294));\n    }\n\n    if (\"object\" === typeof c && null !== c) switch (c.$$typeof) {\n      case fa:\n        O = {};\n        var d = c.render(a.props, a.ref);\n        d = Ca(c.render, a.props, d, a.ref);\n        d = Z(d);\n        this.stack.push({\n          type: null,\n          domNamespace: f,\n          children: d,\n          childIndex: 0,\n          context: b,\n          footer: \"\"\n        });\n        return \"\";\n\n      case ia:\n        return a = [l.createElement(c.type, k({\n          ref: a.ref\n        }, a.props))], this.stack.push({\n          type: null,\n          domNamespace: f,\n          children: a,\n          childIndex: 0,\n          context: b,\n          footer: \"\"\n        }), \"\";\n\n      case x:\n        return c = Z(a.props.children), f = {\n          type: a,\n          domNamespace: f,\n          children: c,\n          childIndex: 0,\n          context: b,\n          footer: \"\"\n        }, this.pushProvider(a), this.stack.push(f), \"\";\n\n      case da:\n        c = a.type;\n        d = a.props;\n        var g = this.threadID;\n        E(c, g);\n        c = Z(d.children(c[g]));\n        this.stack.push({\n          type: a,\n          domNamespace: f,\n          children: c,\n          childIndex: 0,\n          context: b,\n          footer: \"\"\n        });\n        return \"\";\n\n      case ka:\n        throw r(Error(338));\n\n      case ja:\n        switch (c = a.type, ma(c), c._status) {\n          case 1:\n            return a = [l.createElement(c._result, k({\n              ref: a.ref\n            }, a.props))], this.stack.push({\n              type: null,\n              domNamespace: f,\n              children: a,\n              childIndex: 0,\n              context: b,\n              footer: \"\"\n            }), \"\";\n\n          case 2:\n            throw c._result;\n\n          default:\n            throw r(Error(295));\n        }\n\n      case la:\n        throw r(Error(343));\n    }\n    throw r(Error(130), null == c ? c : typeof c, \"\");\n  };\n\n  b.renderDOM = function (a, b, f) {\n    var c = a.type.toLowerCase();\n    f === Ia.html && Ja(c);\n\n    if (!Sa.hasOwnProperty(c)) {\n      if (!Ra.test(c)) throw r(Error(65), c);\n      Sa[c] = !0;\n    }\n\n    var d = a.props;\n    if (\"input\" === c) d = k({\n      type: void 0\n    }, d, {\n      defaultChecked: void 0,\n      defaultValue: void 0,\n      value: null != d.value ? d.value : d.defaultValue,\n      checked: null != d.checked ? d.checked : d.defaultChecked\n    });else if (\"textarea\" === c) {\n      var g = d.value;\n\n      if (null == g) {\n        g = d.defaultValue;\n        var e = d.children;\n\n        if (null != e) {\n          if (null != g) throw r(Error(92));\n\n          if (Array.isArray(e)) {\n            if (!(1 >= e.length)) throw r(Error(93));\n            e = e[0];\n          }\n\n          g = \"\" + e;\n        }\n\n        null == g && (g = \"\");\n      }\n\n      d = k({}, d, {\n        value: void 0,\n        children: \"\" + g\n      });\n    } else if (\"select\" === c) this.currentSelectValue = null != d.value ? d.value : d.defaultValue, d = k({}, d, {\n      value: void 0\n    });else if (\"option\" === c) {\n      e = this.currentSelectValue;\n      var I = Ua(d.children);\n\n      if (null != e) {\n        var G = null != d.value ? d.value + \"\" : I;\n        g = !1;\n        if (Array.isArray(e)) for (var n = 0; n < e.length; n++) {\n          if (\"\" + e[n] === G) {\n            g = !0;\n            break;\n          }\n        } else g = \"\" + e === G;\n        d = k({\n          selected: void 0,\n          children: void 0\n        }, d, {\n          selected: g,\n          children: I\n        });\n      }\n    }\n\n    if (g = d) {\n      if (La[c] && (null != g.children || null != g.dangerouslySetInnerHTML)) throw r(Error(137), c, \"\");\n\n      if (null != g.dangerouslySetInnerHTML) {\n        if (null != g.children) throw r(Error(60));\n        if (!(\"object\" === typeof g.dangerouslySetInnerHTML && \"__html\" in g.dangerouslySetInnerHTML)) throw r(Error(61));\n      }\n\n      if (null != g.style && \"object\" !== typeof g.style) throw r(Error(62), \"\");\n    }\n\n    g = d;\n    e = this.makeStaticMarkup;\n    I = 1 === this.stack.length;\n    G = \"<\" + a.type;\n\n    for (z in g) {\n      if (Va.call(g, z)) {\n        var m = g[z];\n\n        if (null != m) {\n          if (\"style\" === z) {\n            n = void 0;\n            var w = \"\",\n                t = \"\";\n\n            for (n in m) {\n              if (m.hasOwnProperty(n)) {\n                var y = 0 === n.indexOf(\"--\"),\n                    q = m[n];\n\n                if (null != q) {\n                  if (y) var A = n;else if (A = n, Ta.hasOwnProperty(A)) A = Ta[A];else {\n                    var T = A.replace(Na, \"-$1\").toLowerCase().replace(Oa, \"-ms-\");\n                    A = Ta[A] = T;\n                  }\n                  w += t + A + \":\";\n                  t = n;\n                  y = null == q || \"boolean\" === typeof q || \"\" === q ? \"\" : y || \"number\" !== typeof q || 0 === q || Y.hasOwnProperty(t) && Y[t] ? (\"\" + q).trim() : q + \"px\";\n                  w += y;\n                  t = \";\";\n                }\n              }\n            }\n\n            m = w || null;\n          }\n\n          n = null;\n\n          b: if (y = c, q = g, -1 === y.indexOf(\"-\")) y = \"string\" === typeof q.is;else switch (y) {\n            case \"annotation-xml\":\n            case \"color-profile\":\n            case \"font-face\":\n            case \"font-face-src\":\n            case \"font-face-uri\":\n            case \"font-face-format\":\n            case \"font-face-name\":\n            case \"missing-glyph\":\n              y = !1;\n              break b;\n\n            default:\n              y = !0;\n          }\n\n          y ? Wa.hasOwnProperty(z) || (n = z, n = ta(n) && null != m ? n + \"=\" + ('\"' + N(m) + '\"') : \"\") : n = xa(z, m);\n          n && (G += \" \" + n);\n        }\n      }\n    }\n\n    e || I && (G += ' data-reactroot=\"\"');\n    var z = G;\n    g = \"\";\n    Ka.hasOwnProperty(c) ? z += \"/>\" : (z += \">\", g = \"</\" + a.type + \">\");\n\n    a: {\n      e = d.dangerouslySetInnerHTML;\n\n      if (null != e) {\n        if (null != e.__html) {\n          e = e.__html;\n          break a;\n        }\n      } else if (e = d.children, \"string\" === typeof e || \"number\" === typeof e) {\n        e = N(e);\n        break a;\n      }\n\n      e = null;\n    }\n\n    null != e ? (d = [], Qa[c] && \"\\n\" === e.charAt(0) && (z += \"\\n\"), z += e) : d = Z(d.children);\n    a = a.type;\n    f = null == f || \"http://www.w3.org/1999/xhtml\" === f ? Ja(a) : \"http://www.w3.org/2000/svg\" === f && \"foreignObject\" === a ? \"http://www.w3.org/1999/xhtml\" : f;\n    this.stack.push({\n      domNamespace: f,\n      type: c,\n      children: d,\n      childIndex: 0,\n      context: b,\n      footer: g\n    });\n    this.previousWasTextNode = !1;\n    return z;\n  };\n\n  return a;\n}(),\n    $a = {\n  renderToString: function renderToString(a) {\n    a = new Za(a, !1);\n\n    try {\n      return a.read(Infinity);\n    } finally {\n      a.destroy();\n    }\n  },\n  renderToStaticMarkup: function renderToStaticMarkup(a) {\n    a = new Za(a, !0);\n\n    try {\n      return a.read(Infinity);\n    } finally {\n      a.destroy();\n    }\n  },\n  renderToNodeStream: function renderToNodeStream() {\n    throw r(Error(207));\n  },\n  renderToStaticNodeStream: function renderToStaticNodeStream() {\n    throw r(Error(208));\n  },\n  version: \"16.10.2\"\n},\n    ab = {\n  default: $a\n},\n    bb = ab && $a || ab;\n\nmodule.exports = bb.default || bb;","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n/** Used as references for various `Number` constants. */\n\n\nvar NAN = 0 / 0;\n/** Used to match leading and trailing whitespace. */\n\nvar reTrim = /^\\s+|\\s+$/g;\n/** Used to detect bad signed hexadecimal string values. */\n\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n/** Used to detect binary string values. */\n\nvar reIsBinary = /^0b[01]+$/i;\n/** Used to detect octal string values. */\n\nvar reIsOctal = /^0o[0-7]+$/i;\n/** Built-in method references without a dependency on `root`. */\n\nvar freeParseInt = parseInt;\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\n\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n\n  if (isSymbol(value)) {\n    return NAN;\n  }\n\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? other + '' : other;\n  }\n\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n}\n\nmodule.exports = toNumber;","var arraySome = require('./_arraySome'),\n    baseIteratee = require('./_baseIteratee'),\n    baseSome = require('./_baseSome'),\n    isArray = require('./isArray'),\n    isIterateeCall = require('./_isIterateeCall');\n/**\n * Checks if `predicate` returns truthy for **any** element of `collection`.\n * Iteration is stopped once `predicate` returns truthy. The predicate is\n * invoked with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n * @example\n *\n * _.some([null, 0, 'yes', false], Boolean);\n * // => true\n *\n * var users = [\n *   { 'user': 'barney', 'active': true },\n *   { 'user': 'fred',   'active': false }\n * ];\n *\n * // The `_.matches` iteratee shorthand.\n * _.some(users, { 'user': 'barney', 'active': false });\n * // => false\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.some(users, ['active', false]);\n * // => true\n *\n * // The `_.property` iteratee shorthand.\n * _.some(users, 'active');\n * // => true\n */\n\n\nfunction some(collection, predicate, guard) {\n  var func = isArray(collection) ? arraySome : baseSome;\n\n  if (guard && isIterateeCall(collection, predicate, guard)) {\n    predicate = undefined;\n  }\n\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = some;","var baseEach = require('./_baseEach');\n/**\n * The base implementation of `_.some` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\n\n\nfunction baseSome(collection, predicate) {\n  var result;\n  baseEach(collection, function (value, index, collection) {\n    result = predicate(value, index, collection);\n    return !result;\n  });\n  return !!result;\n}\n\nmodule.exports = baseSome;","/*!\n * Quill Editor v1.3.7\n * https://quilljs.com/\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory();else if (typeof define === 'function' && define.amd) define([], factory);else if (typeof exports === 'object') exports[\"Quill\"] = factory();else root[\"Quill\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function () {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId]) {\n          /******/\n          return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = installedModules[moduleId] = {\n          /******/\n          i: moduleId,\n\n          /******/\n          l: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.l = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n\n      /******/\n      // define getter function for harmony exports\n\n      /******/\n\n      __webpack_require__.d = function (exports, name, getter) {\n        /******/\n        if (!__webpack_require__.o(exports, name)) {\n          /******/\n          Object.defineProperty(exports, name, {\n            /******/\n            configurable: false,\n\n            /******/\n            enumerable: true,\n\n            /******/\n            get: getter\n            /******/\n\n          });\n          /******/\n        }\n        /******/\n\n      };\n      /******/\n\n      /******/\n      // getDefaultExport function for compatibility with non-harmony modules\n\n      /******/\n\n\n      __webpack_require__.n = function (module) {\n        /******/\n        var getter = module && module.__esModule ?\n        /******/\n        function getDefault() {\n          return module['default'];\n        } :\n        /******/\n        function getModuleExports() {\n          return module;\n        };\n        /******/\n\n        __webpack_require__.d(getter, 'a', getter);\n        /******/\n\n\n        return getter;\n        /******/\n      };\n      /******/\n\n      /******/\n      // Object.prototype.hasOwnProperty.call\n\n      /******/\n\n\n      __webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n\n      __webpack_require__.p = \"\";\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(__webpack_require__.s = 109);\n      /******/\n    }(\n    /************************************************************************/\n\n    /******/\n    [\n    /* 0 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var container_1 = __webpack_require__(17);\n\n      var format_1 = __webpack_require__(18);\n\n      var leaf_1 = __webpack_require__(19);\n\n      var scroll_1 = __webpack_require__(45);\n\n      var inline_1 = __webpack_require__(46);\n\n      var block_1 = __webpack_require__(47);\n\n      var embed_1 = __webpack_require__(48);\n\n      var text_1 = __webpack_require__(49);\n\n      var attributor_1 = __webpack_require__(12);\n\n      var class_1 = __webpack_require__(32);\n\n      var style_1 = __webpack_require__(33);\n\n      var store_1 = __webpack_require__(31);\n\n      var Registry = __webpack_require__(1);\n\n      var Parchment = {\n        Scope: Registry.Scope,\n        create: Registry.create,\n        find: Registry.find,\n        query: Registry.query,\n        register: Registry.register,\n        Container: container_1.default,\n        Format: format_1.default,\n        Leaf: leaf_1.default,\n        Embed: embed_1.default,\n        Scroll: scroll_1.default,\n        Block: block_1.default,\n        Inline: inline_1.default,\n        Text: text_1.default,\n        Attributor: {\n          Attribute: attributor_1.default,\n          Class: class_1.default,\n          Style: style_1.default,\n          Store: store_1.default\n        }\n      };\n      exports.default = Parchment;\n      /***/\n    },\n    /* 1 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var ParchmentError =\n      /** @class */\n      function (_super) {\n        __extends(ParchmentError, _super);\n\n        function ParchmentError(message) {\n          var _this = this;\n\n          message = '[Parchment] ' + message;\n          _this = _super.call(this, message) || this;\n          _this.message = message;\n          _this.name = _this.constructor.name;\n          return _this;\n        }\n\n        return ParchmentError;\n      }(Error);\n\n      exports.ParchmentError = ParchmentError;\n      var attributes = {};\n      var classes = {};\n      var tags = {};\n      var types = {};\n      exports.DATA_KEY = '__blot';\n      var Scope;\n\n      (function (Scope) {\n        Scope[Scope[\"TYPE\"] = 3] = \"TYPE\";\n        Scope[Scope[\"LEVEL\"] = 12] = \"LEVEL\";\n        Scope[Scope[\"ATTRIBUTE\"] = 13] = \"ATTRIBUTE\";\n        Scope[Scope[\"BLOT\"] = 14] = \"BLOT\";\n        Scope[Scope[\"INLINE\"] = 7] = \"INLINE\";\n        Scope[Scope[\"BLOCK\"] = 11] = \"BLOCK\";\n        Scope[Scope[\"BLOCK_BLOT\"] = 10] = \"BLOCK_BLOT\";\n        Scope[Scope[\"INLINE_BLOT\"] = 6] = \"INLINE_BLOT\";\n        Scope[Scope[\"BLOCK_ATTRIBUTE\"] = 9] = \"BLOCK_ATTRIBUTE\";\n        Scope[Scope[\"INLINE_ATTRIBUTE\"] = 5] = \"INLINE_ATTRIBUTE\";\n        Scope[Scope[\"ANY\"] = 15] = \"ANY\";\n      })(Scope = exports.Scope || (exports.Scope = {}));\n\n      function create(input, value) {\n        var match = query(input);\n\n        if (match == null) {\n          throw new ParchmentError(\"Unable to create \" + input + \" blot\");\n        }\n\n        var BlotClass = match;\n        var node = // @ts-ignore\n        input instanceof Node || input['nodeType'] === Node.TEXT_NODE ? input : BlotClass.create(value);\n        return new BlotClass(node, value);\n      }\n\n      exports.create = create;\n\n      function find(node, bubble) {\n        if (bubble === void 0) {\n          bubble = false;\n        }\n\n        if (node == null) return null; // @ts-ignore\n\n        if (node[exports.DATA_KEY] != null) return node[exports.DATA_KEY].blot;\n        if (bubble) return find(node.parentNode, bubble);\n        return null;\n      }\n\n      exports.find = find;\n\n      function query(query, scope) {\n        if (scope === void 0) {\n          scope = Scope.ANY;\n        }\n\n        var match;\n\n        if (typeof query === 'string') {\n          match = types[query] || attributes[query]; // @ts-ignore\n        } else if (query instanceof Text || query['nodeType'] === Node.TEXT_NODE) {\n          match = types['text'];\n        } else if (typeof query === 'number') {\n          if (query & Scope.LEVEL & Scope.BLOCK) {\n            match = types['block'];\n          } else if (query & Scope.LEVEL & Scope.INLINE) {\n            match = types['inline'];\n          }\n        } else if (query instanceof HTMLElement) {\n          var names = (query.getAttribute('class') || '').split(/\\s+/);\n\n          for (var i in names) {\n            match = classes[names[i]];\n            if (match) break;\n          }\n\n          match = match || tags[query.tagName];\n        }\n\n        if (match == null) return null; // @ts-ignore\n\n        if (scope & Scope.LEVEL & match.scope && scope & Scope.TYPE & match.scope) return match;\n        return null;\n      }\n\n      exports.query = query;\n\n      function register() {\n        var Definitions = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          Definitions[_i] = arguments[_i];\n        }\n\n        if (Definitions.length > 1) {\n          return Definitions.map(function (d) {\n            return register(d);\n          });\n        }\n\n        var Definition = Definitions[0];\n\n        if (typeof Definition.blotName !== 'string' && typeof Definition.attrName !== 'string') {\n          throw new ParchmentError('Invalid definition');\n        } else if (Definition.blotName === 'abstract') {\n          throw new ParchmentError('Cannot register abstract class');\n        }\n\n        types[Definition.blotName || Definition.attrName] = Definition;\n\n        if (typeof Definition.keyName === 'string') {\n          attributes[Definition.keyName] = Definition;\n        } else {\n          if (Definition.className != null) {\n            classes[Definition.className] = Definition;\n          }\n\n          if (Definition.tagName != null) {\n            if (Array.isArray(Definition.tagName)) {\n              Definition.tagName = Definition.tagName.map(function (tagName) {\n                return tagName.toUpperCase();\n              });\n            } else {\n              Definition.tagName = Definition.tagName.toUpperCase();\n            }\n\n            var tagNames = Array.isArray(Definition.tagName) ? Definition.tagName : [Definition.tagName];\n            tagNames.forEach(function (tag) {\n              if (tags[tag] == null || Definition.className == null) {\n                tags[tag] = Definition;\n              }\n            });\n          }\n        }\n\n        return Definition;\n      }\n\n      exports.register = register;\n      /***/\n    },\n    /* 2 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var diff = __webpack_require__(51);\n\n      var equal = __webpack_require__(11);\n\n      var extend = __webpack_require__(3);\n\n      var op = __webpack_require__(20);\n\n      var NULL_CHARACTER = String.fromCharCode(0); // Placeholder char for embed in diff()\n\n      var Delta = function Delta(ops) {\n        // Assume we are given a well formed ops\n        if (Array.isArray(ops)) {\n          this.ops = ops;\n        } else if (ops != null && Array.isArray(ops.ops)) {\n          this.ops = ops.ops;\n        } else {\n          this.ops = [];\n        }\n      };\n\n      Delta.prototype.insert = function (text, attributes) {\n        var newOp = {};\n        if (text.length === 0) return this;\n        newOp.insert = text;\n\n        if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {\n          newOp.attributes = attributes;\n        }\n\n        return this.push(newOp);\n      };\n\n      Delta.prototype['delete'] = function (length) {\n        if (length <= 0) return this;\n        return this.push({\n          'delete': length\n        });\n      };\n\n      Delta.prototype.retain = function (length, attributes) {\n        if (length <= 0) return this;\n        var newOp = {\n          retain: length\n        };\n\n        if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {\n          newOp.attributes = attributes;\n        }\n\n        return this.push(newOp);\n      };\n\n      Delta.prototype.push = function (newOp) {\n        var index = this.ops.length;\n        var lastOp = this.ops[index - 1];\n        newOp = extend(true, {}, newOp);\n\n        if (typeof lastOp === 'object') {\n          if (typeof newOp['delete'] === 'number' && typeof lastOp['delete'] === 'number') {\n            this.ops[index - 1] = {\n              'delete': lastOp['delete'] + newOp['delete']\n            };\n            return this;\n          } // Since it does not matter if we insert before or after deleting at the same index,\n          // always prefer to insert first\n\n\n          if (typeof lastOp['delete'] === 'number' && newOp.insert != null) {\n            index -= 1;\n            lastOp = this.ops[index - 1];\n\n            if (typeof lastOp !== 'object') {\n              this.ops.unshift(newOp);\n              return this;\n            }\n          }\n\n          if (equal(newOp.attributes, lastOp.attributes)) {\n            if (typeof newOp.insert === 'string' && typeof lastOp.insert === 'string') {\n              this.ops[index - 1] = {\n                insert: lastOp.insert + newOp.insert\n              };\n              if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes;\n              return this;\n            } else if (typeof newOp.retain === 'number' && typeof lastOp.retain === 'number') {\n              this.ops[index - 1] = {\n                retain: lastOp.retain + newOp.retain\n              };\n              if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes;\n              return this;\n            }\n          }\n        }\n\n        if (index === this.ops.length) {\n          this.ops.push(newOp);\n        } else {\n          this.ops.splice(index, 0, newOp);\n        }\n\n        return this;\n      };\n\n      Delta.prototype.chop = function () {\n        var lastOp = this.ops[this.ops.length - 1];\n\n        if (lastOp && lastOp.retain && !lastOp.attributes) {\n          this.ops.pop();\n        }\n\n        return this;\n      };\n\n      Delta.prototype.filter = function (predicate) {\n        return this.ops.filter(predicate);\n      };\n\n      Delta.prototype.forEach = function (predicate) {\n        this.ops.forEach(predicate);\n      };\n\n      Delta.prototype.map = function (predicate) {\n        return this.ops.map(predicate);\n      };\n\n      Delta.prototype.partition = function (predicate) {\n        var passed = [],\n            failed = [];\n        this.forEach(function (op) {\n          var target = predicate(op) ? passed : failed;\n          target.push(op);\n        });\n        return [passed, failed];\n      };\n\n      Delta.prototype.reduce = function (predicate, initial) {\n        return this.ops.reduce(predicate, initial);\n      };\n\n      Delta.prototype.changeLength = function () {\n        return this.reduce(function (length, elem) {\n          if (elem.insert) {\n            return length + op.length(elem);\n          } else if (elem.delete) {\n            return length - elem.delete;\n          }\n\n          return length;\n        }, 0);\n      };\n\n      Delta.prototype.length = function () {\n        return this.reduce(function (length, elem) {\n          return length + op.length(elem);\n        }, 0);\n      };\n\n      Delta.prototype.slice = function (start, end) {\n        start = start || 0;\n        if (typeof end !== 'number') end = Infinity;\n        var ops = [];\n        var iter = op.iterator(this.ops);\n        var index = 0;\n\n        while (index < end && iter.hasNext()) {\n          var nextOp;\n\n          if (index < start) {\n            nextOp = iter.next(start - index);\n          } else {\n            nextOp = iter.next(end - index);\n            ops.push(nextOp);\n          }\n\n          index += op.length(nextOp);\n        }\n\n        return new Delta(ops);\n      };\n\n      Delta.prototype.compose = function (other) {\n        var thisIter = op.iterator(this.ops);\n        var otherIter = op.iterator(other.ops);\n        var ops = [];\n        var firstOther = otherIter.peek();\n\n        if (firstOther != null && typeof firstOther.retain === 'number' && firstOther.attributes == null) {\n          var firstLeft = firstOther.retain;\n\n          while (thisIter.peekType() === 'insert' && thisIter.peekLength() <= firstLeft) {\n            firstLeft -= thisIter.peekLength();\n            ops.push(thisIter.next());\n          }\n\n          if (firstOther.retain - firstLeft > 0) {\n            otherIter.next(firstOther.retain - firstLeft);\n          }\n        }\n\n        var delta = new Delta(ops);\n\n        while (thisIter.hasNext() || otherIter.hasNext()) {\n          if (otherIter.peekType() === 'insert') {\n            delta.push(otherIter.next());\n          } else if (thisIter.peekType() === 'delete') {\n            delta.push(thisIter.next());\n          } else {\n            var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\n            var thisOp = thisIter.next(length);\n            var otherOp = otherIter.next(length);\n\n            if (typeof otherOp.retain === 'number') {\n              var newOp = {};\n\n              if (typeof thisOp.retain === 'number') {\n                newOp.retain = length;\n              } else {\n                newOp.insert = thisOp.insert;\n              } // Preserve null when composing with a retain, otherwise remove it for inserts\n\n\n              var attributes = op.attributes.compose(thisOp.attributes, otherOp.attributes, typeof thisOp.retain === 'number');\n              if (attributes) newOp.attributes = attributes;\n              delta.push(newOp); // Optimization if rest of other is just retain\n\n              if (!otherIter.hasNext() && equal(delta.ops[delta.ops.length - 1], newOp)) {\n                var rest = new Delta(thisIter.rest());\n                return delta.concat(rest).chop();\n              } // Other op should be delete, we could be an insert or retain\n              // Insert + delete cancels out\n\n            } else if (typeof otherOp['delete'] === 'number' && typeof thisOp.retain === 'number') {\n              delta.push(otherOp);\n            }\n          }\n        }\n\n        return delta.chop();\n      };\n\n      Delta.prototype.concat = function (other) {\n        var delta = new Delta(this.ops.slice());\n\n        if (other.ops.length > 0) {\n          delta.push(other.ops[0]);\n          delta.ops = delta.ops.concat(other.ops.slice(1));\n        }\n\n        return delta;\n      };\n\n      Delta.prototype.diff = function (other, index) {\n        if (this.ops === other.ops) {\n          return new Delta();\n        }\n\n        var strings = [this, other].map(function (delta) {\n          return delta.map(function (op) {\n            if (op.insert != null) {\n              return typeof op.insert === 'string' ? op.insert : NULL_CHARACTER;\n            }\n\n            var prep = delta === other ? 'on' : 'with';\n            throw new Error('diff() called ' + prep + ' non-document');\n          }).join('');\n        });\n        var delta = new Delta();\n        var diffResult = diff(strings[0], strings[1], index);\n        var thisIter = op.iterator(this.ops);\n        var otherIter = op.iterator(other.ops);\n        diffResult.forEach(function (component) {\n          var length = component[1].length;\n\n          while (length > 0) {\n            var opLength = 0;\n\n            switch (component[0]) {\n              case diff.INSERT:\n                opLength = Math.min(otherIter.peekLength(), length);\n                delta.push(otherIter.next(opLength));\n                break;\n\n              case diff.DELETE:\n                opLength = Math.min(length, thisIter.peekLength());\n                thisIter.next(opLength);\n                delta['delete'](opLength);\n                break;\n\n              case diff.EQUAL:\n                opLength = Math.min(thisIter.peekLength(), otherIter.peekLength(), length);\n                var thisOp = thisIter.next(opLength);\n                var otherOp = otherIter.next(opLength);\n\n                if (equal(thisOp.insert, otherOp.insert)) {\n                  delta.retain(opLength, op.attributes.diff(thisOp.attributes, otherOp.attributes));\n                } else {\n                  delta.push(otherOp)['delete'](opLength);\n                }\n\n                break;\n            }\n\n            length -= opLength;\n          }\n        });\n        return delta.chop();\n      };\n\n      Delta.prototype.eachLine = function (predicate, newline) {\n        newline = newline || '\\n';\n        var iter = op.iterator(this.ops);\n        var line = new Delta();\n        var i = 0;\n\n        while (iter.hasNext()) {\n          if (iter.peekType() !== 'insert') return;\n          var thisOp = iter.peek();\n          var start = op.length(thisOp) - iter.peekLength();\n          var index = typeof thisOp.insert === 'string' ? thisOp.insert.indexOf(newline, start) - start : -1;\n\n          if (index < 0) {\n            line.push(iter.next());\n          } else if (index > 0) {\n            line.push(iter.next(index));\n          } else {\n            if (predicate(line, iter.next(1).attributes || {}, i) === false) {\n              return;\n            }\n\n            i += 1;\n            line = new Delta();\n          }\n        }\n\n        if (line.length() > 0) {\n          predicate(line, {}, i);\n        }\n      };\n\n      Delta.prototype.transform = function (other, priority) {\n        priority = !!priority;\n\n        if (typeof other === 'number') {\n          return this.transformPosition(other, priority);\n        }\n\n        var thisIter = op.iterator(this.ops);\n        var otherIter = op.iterator(other.ops);\n        var delta = new Delta();\n\n        while (thisIter.hasNext() || otherIter.hasNext()) {\n          if (thisIter.peekType() === 'insert' && (priority || otherIter.peekType() !== 'insert')) {\n            delta.retain(op.length(thisIter.next()));\n          } else if (otherIter.peekType() === 'insert') {\n            delta.push(otherIter.next());\n          } else {\n            var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\n            var thisOp = thisIter.next(length);\n            var otherOp = otherIter.next(length);\n\n            if (thisOp['delete']) {\n              // Our delete either makes their delete redundant or removes their retain\n              continue;\n            } else if (otherOp['delete']) {\n              delta.push(otherOp);\n            } else {\n              // We retain either their retain or insert\n              delta.retain(length, op.attributes.transform(thisOp.attributes, otherOp.attributes, priority));\n            }\n          }\n        }\n\n        return delta.chop();\n      };\n\n      Delta.prototype.transformPosition = function (index, priority) {\n        priority = !!priority;\n        var thisIter = op.iterator(this.ops);\n        var offset = 0;\n\n        while (thisIter.hasNext() && offset <= index) {\n          var length = thisIter.peekLength();\n          var nextType = thisIter.peekType();\n          thisIter.next();\n\n          if (nextType === 'delete') {\n            index -= Math.min(length, index - offset);\n            continue;\n          } else if (nextType === 'insert' && (offset < index || !priority)) {\n            index += length;\n          }\n\n          offset += length;\n        }\n\n        return index;\n      };\n\n      module.exports = Delta;\n      /***/\n    },\n    /* 3 */\n\n    /***/\n    function (module, exports) {\n      'use strict';\n\n      var hasOwn = Object.prototype.hasOwnProperty;\n      var toStr = Object.prototype.toString;\n      var defineProperty = Object.defineProperty;\n      var gOPD = Object.getOwnPropertyDescriptor;\n\n      var isArray = function isArray(arr) {\n        if (typeof Array.isArray === 'function') {\n          return Array.isArray(arr);\n        }\n\n        return toStr.call(arr) === '[object Array]';\n      };\n\n      var isPlainObject = function isPlainObject(obj) {\n        if (!obj || toStr.call(obj) !== '[object Object]') {\n          return false;\n        }\n\n        var hasOwnConstructor = hasOwn.call(obj, 'constructor');\n        var hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf'); // Not own constructor property must be Object\n\n        if (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n          return false;\n        } // Own properties are enumerated firstly, so to speed up,\n        // if last one is own, then all properties are own.\n\n\n        var key;\n\n        for (key in obj) {\n          /**/\n        }\n\n        return typeof key === 'undefined' || hasOwn.call(obj, key);\n      }; // If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\n\n\n      var setProperty = function setProperty(target, options) {\n        if (defineProperty && options.name === '__proto__') {\n          defineProperty(target, options.name, {\n            enumerable: true,\n            configurable: true,\n            value: options.newValue,\n            writable: true\n          });\n        } else {\n          target[options.name] = options.newValue;\n        }\n      }; // Return undefined instead of __proto__ if '__proto__' is not an own property\n\n\n      var getProperty = function getProperty(obj, name) {\n        if (name === '__proto__') {\n          if (!hasOwn.call(obj, name)) {\n            return void 0;\n          } else if (gOPD) {\n            // In early versions of node, obj['__proto__'] is buggy when obj has\n            // __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n            return gOPD(obj, name).value;\n          }\n        }\n\n        return obj[name];\n      };\n\n      module.exports = function extend() {\n        var options, name, src, copy, copyIsArray, clone;\n        var target = arguments[0];\n        var i = 1;\n        var length = arguments.length;\n        var deep = false; // Handle a deep copy situation\n\n        if (typeof target === 'boolean') {\n          deep = target;\n          target = arguments[1] || {}; // skip the boolean and the target\n\n          i = 2;\n        }\n\n        if (target == null || typeof target !== 'object' && typeof target !== 'function') {\n          target = {};\n        }\n\n        for (; i < length; ++i) {\n          options = arguments[i]; // Only deal with non-null/undefined values\n\n          if (options != null) {\n            // Extend the base object\n            for (name in options) {\n              src = getProperty(target, name);\n              copy = getProperty(options, name); // Prevent never-ending loop\n\n              if (target !== copy) {\n                // Recurse if we're merging plain objects or arrays\n                if (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n                  if (copyIsArray) {\n                    copyIsArray = false;\n                    clone = src && isArray(src) ? src : [];\n                  } else {\n                    clone = src && isPlainObject(src) ? src : {};\n                  } // Never move original objects, clone them\n\n\n                  setProperty(target, {\n                    name: name,\n                    newValue: extend(deep, clone, copy)\n                  }); // Don't bring in undefined values\n                } else if (typeof copy !== 'undefined') {\n                  setProperty(target, {\n                    name: name,\n                    newValue: copy\n                  });\n                }\n              }\n            }\n          }\n        } // Return the modified object\n\n\n        return target;\n      };\n      /***/\n\n    },\n    /* 4 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.BlockEmbed = exports.bubbleFormats = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _extend = __webpack_require__(3);\n\n      var _extend2 = _interopRequireDefault(_extend);\n\n      var _quillDelta = __webpack_require__(2);\n\n      var _quillDelta2 = _interopRequireDefault(_quillDelta);\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _break = __webpack_require__(16);\n\n      var _break2 = _interopRequireDefault(_break);\n\n      var _inline = __webpack_require__(6);\n\n      var _inline2 = _interopRequireDefault(_inline);\n\n      var _text = __webpack_require__(7);\n\n      var _text2 = _interopRequireDefault(_text);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var NEWLINE_LENGTH = 1;\n\n      var BlockEmbed = function (_Parchment$Embed) {\n        _inherits(BlockEmbed, _Parchment$Embed);\n\n        function BlockEmbed() {\n          _classCallCheck(this, BlockEmbed);\n\n          return _possibleConstructorReturn(this, (BlockEmbed.__proto__ || Object.getPrototypeOf(BlockEmbed)).apply(this, arguments));\n        }\n\n        _createClass(BlockEmbed, [{\n          key: 'attach',\n          value: function attach() {\n            _get(BlockEmbed.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed.prototype), 'attach', this).call(this);\n\n            this.attributes = new _parchment2.default.Attributor.Store(this.domNode);\n          }\n        }, {\n          key: 'delta',\n          value: function delta() {\n            return new _quillDelta2.default().insert(this.value(), (0, _extend2.default)(this.formats(), this.attributes.values()));\n          }\n        }, {\n          key: 'format',\n          value: function format(name, value) {\n            var attribute = _parchment2.default.query(name, _parchment2.default.Scope.BLOCK_ATTRIBUTE);\n\n            if (attribute != null) {\n              this.attributes.attribute(attribute, value);\n            }\n          }\n        }, {\n          key: 'formatAt',\n          value: function formatAt(index, length, name, value) {\n            this.format(name, value);\n          }\n        }, {\n          key: 'insertAt',\n          value: function insertAt(index, value, def) {\n            if (typeof value === 'string' && value.endsWith('\\n')) {\n              var block = _parchment2.default.create(Block.blotName);\n\n              this.parent.insertBefore(block, index === 0 ? this : this.next);\n              block.insertAt(0, value.slice(0, -1));\n            } else {\n              _get(BlockEmbed.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed.prototype), 'insertAt', this).call(this, index, value, def);\n            }\n          }\n        }]);\n\n        return BlockEmbed;\n      }(_parchment2.default.Embed);\n\n      BlockEmbed.scope = _parchment2.default.Scope.BLOCK_BLOT; // It is important for cursor behavior BlockEmbeds use tags that are block level elements\n\n      var Block = function (_Parchment$Block) {\n        _inherits(Block, _Parchment$Block);\n\n        function Block(domNode) {\n          _classCallCheck(this, Block);\n\n          var _this2 = _possibleConstructorReturn(this, (Block.__proto__ || Object.getPrototypeOf(Block)).call(this, domNode));\n\n          _this2.cache = {};\n          return _this2;\n        }\n\n        _createClass(Block, [{\n          key: 'delta',\n          value: function delta() {\n            if (this.cache.delta == null) {\n              this.cache.delta = this.descendants(_parchment2.default.Leaf).reduce(function (delta, leaf) {\n                if (leaf.length() === 0) {\n                  return delta;\n                } else {\n                  return delta.insert(leaf.value(), bubbleFormats(leaf));\n                }\n              }, new _quillDelta2.default()).insert('\\n', bubbleFormats(this));\n            }\n\n            return this.cache.delta;\n          }\n        }, {\n          key: 'deleteAt',\n          value: function deleteAt(index, length) {\n            _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'deleteAt', this).call(this, index, length);\n\n            this.cache = {};\n          }\n        }, {\n          key: 'formatAt',\n          value: function formatAt(index, length, name, value) {\n            if (length <= 0) return;\n\n            if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {\n              if (index + length === this.length()) {\n                this.format(name, value);\n              }\n            } else {\n              _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'formatAt', this).call(this, index, Math.min(length, this.length() - index - 1), name, value);\n            }\n\n            this.cache = {};\n          }\n        }, {\n          key: 'insertAt',\n          value: function insertAt(index, value, def) {\n            if (def != null) return _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertAt', this).call(this, index, value, def);\n            if (value.length === 0) return;\n            var lines = value.split('\\n');\n            var text = lines.shift();\n\n            if (text.length > 0) {\n              if (index < this.length() - 1 || this.children.tail == null) {\n                _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertAt', this).call(this, Math.min(index, this.length() - 1), text);\n              } else {\n                this.children.tail.insertAt(this.children.tail.length(), text);\n              }\n\n              this.cache = {};\n            }\n\n            var block = this;\n            lines.reduce(function (index, line) {\n              block = block.split(index, true);\n              block.insertAt(0, line);\n              return line.length;\n            }, index + text.length);\n          }\n        }, {\n          key: 'insertBefore',\n          value: function insertBefore(blot, ref) {\n            var head = this.children.head;\n\n            _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertBefore', this).call(this, blot, ref);\n\n            if (head instanceof _break2.default) {\n              head.remove();\n            }\n\n            this.cache = {};\n          }\n        }, {\n          key: 'length',\n          value: function length() {\n            if (this.cache.length == null) {\n              this.cache.length = _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'length', this).call(this) + NEWLINE_LENGTH;\n            }\n\n            return this.cache.length;\n          }\n        }, {\n          key: 'moveChildren',\n          value: function moveChildren(target, ref) {\n            _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'moveChildren', this).call(this, target, ref);\n\n            this.cache = {};\n          }\n        }, {\n          key: 'optimize',\n          value: function optimize(context) {\n            _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'optimize', this).call(this, context);\n\n            this.cache = {};\n          }\n        }, {\n          key: 'path',\n          value: function path(index) {\n            return _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'path', this).call(this, index, true);\n          }\n        }, {\n          key: 'removeChild',\n          value: function removeChild(child) {\n            _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'removeChild', this).call(this, child);\n\n            this.cache = {};\n          }\n        }, {\n          key: 'split',\n          value: function split(index) {\n            var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n            if (force && (index === 0 || index >= this.length() - NEWLINE_LENGTH)) {\n              var clone = this.clone();\n\n              if (index === 0) {\n                this.parent.insertBefore(clone, this);\n                return this;\n              } else {\n                this.parent.insertBefore(clone, this.next);\n                return clone;\n              }\n            } else {\n              var next = _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'split', this).call(this, index, force);\n\n              this.cache = {};\n              return next;\n            }\n          }\n        }]);\n\n        return Block;\n      }(_parchment2.default.Block);\n\n      Block.blotName = 'block';\n      Block.tagName = 'P';\n      Block.defaultChild = 'break';\n      Block.allowedChildren = [_inline2.default, _parchment2.default.Embed, _text2.default];\n\n      function bubbleFormats(blot) {\n        var formats = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        if (blot == null) return formats;\n\n        if (typeof blot.formats === 'function') {\n          formats = (0, _extend2.default)(formats, blot.formats());\n        }\n\n        if (blot.parent == null || blot.parent.blotName == 'scroll' || blot.parent.statics.scope !== blot.statics.scope) {\n          return formats;\n        }\n\n        return bubbleFormats(blot.parent, formats);\n      }\n\n      exports.bubbleFormats = bubbleFormats;\n      exports.BlockEmbed = BlockEmbed;\n      exports.default = Block;\n      /***/\n    },\n    /* 5 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.overload = exports.expandConfig = undefined;\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      __webpack_require__(50);\n\n      var _quillDelta = __webpack_require__(2);\n\n      var _quillDelta2 = _interopRequireDefault(_quillDelta);\n\n      var _editor = __webpack_require__(14);\n\n      var _editor2 = _interopRequireDefault(_editor);\n\n      var _emitter3 = __webpack_require__(8);\n\n      var _emitter4 = _interopRequireDefault(_emitter3);\n\n      var _module = __webpack_require__(9);\n\n      var _module2 = _interopRequireDefault(_module);\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _selection = __webpack_require__(15);\n\n      var _selection2 = _interopRequireDefault(_selection);\n\n      var _extend = __webpack_require__(3);\n\n      var _extend2 = _interopRequireDefault(_extend);\n\n      var _logger = __webpack_require__(10);\n\n      var _logger2 = _interopRequireDefault(_logger);\n\n      var _theme = __webpack_require__(34);\n\n      var _theme2 = _interopRequireDefault(_theme);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var debug = (0, _logger2.default)('quill');\n\n      var Quill = function () {\n        _createClass(Quill, null, [{\n          key: 'debug',\n          value: function debug(limit) {\n            if (limit === true) {\n              limit = 'log';\n            }\n\n            _logger2.default.level(limit);\n          }\n        }, {\n          key: 'find',\n          value: function find(node) {\n            return node.__quill || _parchment2.default.find(node);\n          }\n        }, {\n          key: 'import',\n          value: function _import(name) {\n            if (this.imports[name] == null) {\n              debug.error('Cannot import ' + name + '. Are you sure it was registered?');\n            }\n\n            return this.imports[name];\n          }\n        }, {\n          key: 'register',\n          value: function register(path, target) {\n            var _this = this;\n\n            var overwrite = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n            if (typeof path !== 'string') {\n              var name = path.attrName || path.blotName;\n\n              if (typeof name === 'string') {\n                // register(Blot | Attributor, overwrite)\n                this.register('formats/' + name, path, target);\n              } else {\n                Object.keys(path).forEach(function (key) {\n                  _this.register(key, path[key], target);\n                });\n              }\n            } else {\n              if (this.imports[path] != null && !overwrite) {\n                debug.warn('Overwriting ' + path + ' with', target);\n              }\n\n              this.imports[path] = target;\n\n              if ((path.startsWith('blots/') || path.startsWith('formats/')) && target.blotName !== 'abstract') {\n                _parchment2.default.register(target);\n              } else if (path.startsWith('modules') && typeof target.register === 'function') {\n                target.register();\n              }\n            }\n          }\n        }]);\n\n        function Quill(container) {\n          var _this2 = this;\n\n          var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n          _classCallCheck(this, Quill);\n\n          this.options = expandConfig(container, options);\n          this.container = this.options.container;\n\n          if (this.container == null) {\n            return debug.error('Invalid Quill container', container);\n          }\n\n          if (this.options.debug) {\n            Quill.debug(this.options.debug);\n          }\n\n          var html = this.container.innerHTML.trim();\n          this.container.classList.add('ql-container');\n          this.container.innerHTML = '';\n          this.container.__quill = this;\n          this.root = this.addContainer('ql-editor');\n          this.root.classList.add('ql-blank');\n          this.root.setAttribute('data-gramm', false);\n          this.scrollingContainer = this.options.scrollingContainer || this.root;\n          this.emitter = new _emitter4.default();\n          this.scroll = _parchment2.default.create(this.root, {\n            emitter: this.emitter,\n            whitelist: this.options.formats\n          });\n          this.editor = new _editor2.default(this.scroll);\n          this.selection = new _selection2.default(this.scroll, this.emitter);\n          this.theme = new this.options.theme(this, this.options);\n          this.keyboard = this.theme.addModule('keyboard');\n          this.clipboard = this.theme.addModule('clipboard');\n          this.history = this.theme.addModule('history');\n          this.theme.init();\n          this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function (type) {\n            if (type === _emitter4.default.events.TEXT_CHANGE) {\n              _this2.root.classList.toggle('ql-blank', _this2.editor.isBlank());\n            }\n          });\n          this.emitter.on(_emitter4.default.events.SCROLL_UPDATE, function (source, mutations) {\n            var range = _this2.selection.lastRange;\n            var index = range && range.length === 0 ? range.index : undefined;\n            modify.call(_this2, function () {\n              return _this2.editor.update(null, mutations, index);\n            }, source);\n          });\n          var contents = this.clipboard.convert('<div class=\\'ql-editor\\' style=\"white-space: normal;\">' + html + '<p><br></p></div>');\n          this.setContents(contents);\n          this.history.clear();\n\n          if (this.options.placeholder) {\n            this.root.setAttribute('data-placeholder', this.options.placeholder);\n          }\n\n          if (this.options.readOnly) {\n            this.disable();\n          }\n        }\n\n        _createClass(Quill, [{\n          key: 'addContainer',\n          value: function addContainer(container) {\n            var refNode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n            if (typeof container === 'string') {\n              var className = container;\n              container = document.createElement('div');\n              container.classList.add(className);\n            }\n\n            this.container.insertBefore(container, refNode);\n            return container;\n          }\n        }, {\n          key: 'blur',\n          value: function blur() {\n            this.selection.setRange(null);\n          }\n        }, {\n          key: 'deleteText',\n          value: function deleteText(index, length, source) {\n            var _this3 = this;\n\n            var _overload = overload(index, length, source);\n\n            var _overload2 = _slicedToArray(_overload, 4);\n\n            index = _overload2[0];\n            length = _overload2[1];\n            source = _overload2[3];\n            return modify.call(this, function () {\n              return _this3.editor.deleteText(index, length);\n            }, source, index, -1 * length);\n          }\n        }, {\n          key: 'disable',\n          value: function disable() {\n            this.enable(false);\n          }\n        }, {\n          key: 'enable',\n          value: function enable() {\n            var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n            this.scroll.enable(enabled);\n            this.container.classList.toggle('ql-disabled', !enabled);\n          }\n        }, {\n          key: 'focus',\n          value: function focus() {\n            var scrollTop = this.scrollingContainer.scrollTop;\n            this.selection.focus();\n            this.scrollingContainer.scrollTop = scrollTop;\n            this.scrollIntoView();\n          }\n        }, {\n          key: 'format',\n          value: function format(name, value) {\n            var _this4 = this;\n\n            var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _emitter4.default.sources.API;\n            return modify.call(this, function () {\n              var range = _this4.getSelection(true);\n\n              var change = new _quillDelta2.default();\n\n              if (range == null) {\n                return change;\n              } else if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {\n                change = _this4.editor.formatLine(range.index, range.length, _defineProperty({}, name, value));\n              } else if (range.length === 0) {\n                _this4.selection.format(name, value);\n\n                return change;\n              } else {\n                change = _this4.editor.formatText(range.index, range.length, _defineProperty({}, name, value));\n              }\n\n              _this4.setSelection(range, _emitter4.default.sources.SILENT);\n\n              return change;\n            }, source);\n          }\n        }, {\n          key: 'formatLine',\n          value: function formatLine(index, length, name, value, source) {\n            var _this5 = this;\n\n            var formats = void 0;\n\n            var _overload3 = overload(index, length, name, value, source);\n\n            var _overload4 = _slicedToArray(_overload3, 4);\n\n            index = _overload4[0];\n            length = _overload4[1];\n            formats = _overload4[2];\n            source = _overload4[3];\n            return modify.call(this, function () {\n              return _this5.editor.formatLine(index, length, formats);\n            }, source, index, 0);\n          }\n        }, {\n          key: 'formatText',\n          value: function formatText(index, length, name, value, source) {\n            var _this6 = this;\n\n            var formats = void 0;\n\n            var _overload5 = overload(index, length, name, value, source);\n\n            var _overload6 = _slicedToArray(_overload5, 4);\n\n            index = _overload6[0];\n            length = _overload6[1];\n            formats = _overload6[2];\n            source = _overload6[3];\n            return modify.call(this, function () {\n              return _this6.editor.formatText(index, length, formats);\n            }, source, index, 0);\n          }\n        }, {\n          key: 'getBounds',\n          value: function getBounds(index) {\n            var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n            var bounds = void 0;\n\n            if (typeof index === 'number') {\n              bounds = this.selection.getBounds(index, length);\n            } else {\n              bounds = this.selection.getBounds(index.index, index.length);\n            }\n\n            var containerBounds = this.container.getBoundingClientRect();\n            return {\n              bottom: bounds.bottom - containerBounds.top,\n              height: bounds.height,\n              left: bounds.left - containerBounds.left,\n              right: bounds.right - containerBounds.left,\n              top: bounds.top - containerBounds.top,\n              width: bounds.width\n            };\n          }\n        }, {\n          key: 'getContents',\n          value: function getContents() {\n            var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n            var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getLength() - index;\n\n            var _overload7 = overload(index, length);\n\n            var _overload8 = _slicedToArray(_overload7, 2);\n\n            index = _overload8[0];\n            length = _overload8[1];\n            return this.editor.getContents(index, length);\n          }\n        }, {\n          key: 'getFormat',\n          value: function getFormat() {\n            var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getSelection(true);\n            var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n            if (typeof index === 'number') {\n              return this.editor.getFormat(index, length);\n            } else {\n              return this.editor.getFormat(index.index, index.length);\n            }\n          }\n        }, {\n          key: 'getIndex',\n          value: function getIndex(blot) {\n            return blot.offset(this.scroll);\n          }\n        }, {\n          key: 'getLength',\n          value: function getLength() {\n            return this.scroll.length();\n          }\n        }, {\n          key: 'getLeaf',\n          value: function getLeaf(index) {\n            return this.scroll.leaf(index);\n          }\n        }, {\n          key: 'getLine',\n          value: function getLine(index) {\n            return this.scroll.line(index);\n          }\n        }, {\n          key: 'getLines',\n          value: function getLines() {\n            var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n            var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.MAX_VALUE;\n\n            if (typeof index !== 'number') {\n              return this.scroll.lines(index.index, index.length);\n            } else {\n              return this.scroll.lines(index, length);\n            }\n          }\n        }, {\n          key: 'getModule',\n          value: function getModule(name) {\n            return this.theme.modules[name];\n          }\n        }, {\n          key: 'getSelection',\n          value: function getSelection() {\n            var focus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n            if (focus) this.focus();\n            this.update(); // Make sure we access getRange with editor in consistent state\n\n            return this.selection.getRange()[0];\n          }\n        }, {\n          key: 'getText',\n          value: function getText() {\n            var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n            var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getLength() - index;\n\n            var _overload9 = overload(index, length);\n\n            var _overload10 = _slicedToArray(_overload9, 2);\n\n            index = _overload10[0];\n            length = _overload10[1];\n            return this.editor.getText(index, length);\n          }\n        }, {\n          key: 'hasFocus',\n          value: function hasFocus() {\n            return this.selection.hasFocus();\n          }\n        }, {\n          key: 'insertEmbed',\n          value: function insertEmbed(index, embed, value) {\n            var _this7 = this;\n\n            var source = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : Quill.sources.API;\n            return modify.call(this, function () {\n              return _this7.editor.insertEmbed(index, embed, value);\n            }, source, index);\n          }\n        }, {\n          key: 'insertText',\n          value: function insertText(index, text, name, value, source) {\n            var _this8 = this;\n\n            var formats = void 0;\n\n            var _overload11 = overload(index, 0, name, value, source);\n\n            var _overload12 = _slicedToArray(_overload11, 4);\n\n            index = _overload12[0];\n            formats = _overload12[2];\n            source = _overload12[3];\n            return modify.call(this, function () {\n              return _this8.editor.insertText(index, text, formats);\n            }, source, index, text.length);\n          }\n        }, {\n          key: 'isEnabled',\n          value: function isEnabled() {\n            return !this.container.classList.contains('ql-disabled');\n          }\n        }, {\n          key: 'off',\n          value: function off() {\n            return this.emitter.off.apply(this.emitter, arguments);\n          }\n        }, {\n          key: 'on',\n          value: function on() {\n            return this.emitter.on.apply(this.emitter, arguments);\n          }\n        }, {\n          key: 'once',\n          value: function once() {\n            return this.emitter.once.apply(this.emitter, arguments);\n          }\n        }, {\n          key: 'pasteHTML',\n          value: function pasteHTML(index, html, source) {\n            this.clipboard.dangerouslyPasteHTML(index, html, source);\n          }\n        }, {\n          key: 'removeFormat',\n          value: function removeFormat(index, length, source) {\n            var _this9 = this;\n\n            var _overload13 = overload(index, length, source);\n\n            var _overload14 = _slicedToArray(_overload13, 4);\n\n            index = _overload14[0];\n            length = _overload14[1];\n            source = _overload14[3];\n            return modify.call(this, function () {\n              return _this9.editor.removeFormat(index, length);\n            }, source, index);\n          }\n        }, {\n          key: 'scrollIntoView',\n          value: function scrollIntoView() {\n            this.selection.scrollIntoView(this.scrollingContainer);\n          }\n        }, {\n          key: 'setContents',\n          value: function setContents(delta) {\n            var _this10 = this;\n\n            var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n            return modify.call(this, function () {\n              delta = new _quillDelta2.default(delta);\n\n              var length = _this10.getLength();\n\n              var deleted = _this10.editor.deleteText(0, length);\n\n              var applied = _this10.editor.applyDelta(delta);\n\n              var lastOp = applied.ops[applied.ops.length - 1];\n\n              if (lastOp != null && typeof lastOp.insert === 'string' && lastOp.insert[lastOp.insert.length - 1] === '\\n') {\n                _this10.editor.deleteText(_this10.getLength() - 1, 1);\n\n                applied.delete(1);\n              }\n\n              var ret = deleted.compose(applied);\n              return ret;\n            }, source);\n          }\n        }, {\n          key: 'setSelection',\n          value: function setSelection(index, length, source) {\n            if (index == null) {\n              this.selection.setRange(null, length || Quill.sources.API);\n            } else {\n              var _overload15 = overload(index, length, source);\n\n              var _overload16 = _slicedToArray(_overload15, 4);\n\n              index = _overload16[0];\n              length = _overload16[1];\n              source = _overload16[3];\n              this.selection.setRange(new _selection.Range(index, length), source);\n\n              if (source !== _emitter4.default.sources.SILENT) {\n                this.selection.scrollIntoView(this.scrollingContainer);\n              }\n            }\n          }\n        }, {\n          key: 'setText',\n          value: function setText(text) {\n            var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n            var delta = new _quillDelta2.default().insert(text);\n            return this.setContents(delta, source);\n          }\n        }, {\n          key: 'update',\n          value: function update() {\n            var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _emitter4.default.sources.USER;\n            var change = this.scroll.update(source); // Will update selection before selection.update() does if text changes\n\n            this.selection.update(source);\n            return change;\n          }\n        }, {\n          key: 'updateContents',\n          value: function updateContents(delta) {\n            var _this11 = this;\n\n            var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n            return modify.call(this, function () {\n              delta = new _quillDelta2.default(delta);\n              return _this11.editor.applyDelta(delta, source);\n            }, source, true);\n          }\n        }]);\n\n        return Quill;\n      }();\n\n      Quill.DEFAULTS = {\n        bounds: null,\n        formats: null,\n        modules: {},\n        placeholder: '',\n        readOnly: false,\n        scrollingContainer: null,\n        strict: true,\n        theme: 'default'\n      };\n      Quill.events = _emitter4.default.events;\n      Quill.sources = _emitter4.default.sources; // eslint-disable-next-line no-undef\n\n      Quill.version = false ? 'dev' : \"1.3.7\";\n      Quill.imports = {\n        'delta': _quillDelta2.default,\n        'parchment': _parchment2.default,\n        'core/module': _module2.default,\n        'core/theme': _theme2.default\n      };\n\n      function expandConfig(container, userConfig) {\n        userConfig = (0, _extend2.default)(true, {\n          container: container,\n          modules: {\n            clipboard: true,\n            keyboard: true,\n            history: true\n          }\n        }, userConfig);\n\n        if (!userConfig.theme || userConfig.theme === Quill.DEFAULTS.theme) {\n          userConfig.theme = _theme2.default;\n        } else {\n          userConfig.theme = Quill.import('themes/' + userConfig.theme);\n\n          if (userConfig.theme == null) {\n            throw new Error('Invalid theme ' + userConfig.theme + '. Did you register it?');\n          }\n        }\n\n        var themeConfig = (0, _extend2.default)(true, {}, userConfig.theme.DEFAULTS);\n        [themeConfig, userConfig].forEach(function (config) {\n          config.modules = config.modules || {};\n          Object.keys(config.modules).forEach(function (module) {\n            if (config.modules[module] === true) {\n              config.modules[module] = {};\n            }\n          });\n        });\n        var moduleNames = Object.keys(themeConfig.modules).concat(Object.keys(userConfig.modules));\n        var moduleConfig = moduleNames.reduce(function (config, name) {\n          var moduleClass = Quill.import('modules/' + name);\n\n          if (moduleClass == null) {\n            debug.error('Cannot load ' + name + ' module. Are you sure you registered it?');\n          } else {\n            config[name] = moduleClass.DEFAULTS || {};\n          }\n\n          return config;\n        }, {}); // Special case toolbar shorthand\n\n        if (userConfig.modules != null && userConfig.modules.toolbar && userConfig.modules.toolbar.constructor !== Object) {\n          userConfig.modules.toolbar = {\n            container: userConfig.modules.toolbar\n          };\n        }\n\n        userConfig = (0, _extend2.default)(true, {}, Quill.DEFAULTS, {\n          modules: moduleConfig\n        }, themeConfig, userConfig);\n        ['bounds', 'container', 'scrollingContainer'].forEach(function (key) {\n          if (typeof userConfig[key] === 'string') {\n            userConfig[key] = document.querySelector(userConfig[key]);\n          }\n        });\n        userConfig.modules = Object.keys(userConfig.modules).reduce(function (config, name) {\n          if (userConfig.modules[name]) {\n            config[name] = userConfig.modules[name];\n          }\n\n          return config;\n        }, {});\n        return userConfig;\n      } // Handle selection preservation and TEXT_CHANGE emission\n      // common to modification APIs\n\n\n      function modify(modifier, source, index, shift) {\n        if (this.options.strict && !this.isEnabled() && source === _emitter4.default.sources.USER) {\n          return new _quillDelta2.default();\n        }\n\n        var range = index == null ? null : this.getSelection();\n        var oldDelta = this.editor.delta;\n        var change = modifier();\n\n        if (range != null) {\n          if (index === true) index = range.index;\n\n          if (shift == null) {\n            range = shiftRange(range, change, source);\n          } else if (shift !== 0) {\n            range = shiftRange(range, index, shift, source);\n          }\n\n          this.setSelection(range, _emitter4.default.sources.SILENT);\n        }\n\n        if (change.length() > 0) {\n          var _emitter;\n\n          var args = [_emitter4.default.events.TEXT_CHANGE, change, oldDelta, source];\n\n          (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));\n\n          if (source !== _emitter4.default.sources.SILENT) {\n            var _emitter2;\n\n            (_emitter2 = this.emitter).emit.apply(_emitter2, args);\n          }\n        }\n\n        return change;\n      }\n\n      function overload(index, length, name, value, source) {\n        var formats = {};\n\n        if (typeof index.index === 'number' && typeof index.length === 'number') {\n          // Allow for throwaway end (used by insertText/insertEmbed)\n          if (typeof length !== 'number') {\n            source = value, value = name, name = length, length = index.length, index = index.index;\n          } else {\n            length = index.length, index = index.index;\n          }\n        } else if (typeof length !== 'number') {\n          source = value, value = name, name = length, length = 0;\n        } // Handle format being object, two format name/value strings or excluded\n\n\n        if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\n          formats = name;\n          source = value;\n        } else if (typeof name === 'string') {\n          if (value != null) {\n            formats[name] = value;\n          } else {\n            source = name;\n          }\n        } // Handle optional source\n\n\n        source = source || _emitter4.default.sources.API;\n        return [index, length, formats, source];\n      }\n\n      function shiftRange(range, index, length, source) {\n        if (range == null) return null;\n        var start = void 0,\n            end = void 0;\n\n        if (index instanceof _quillDelta2.default) {\n          var _map = [range.index, range.index + range.length].map(function (pos) {\n            return index.transformPosition(pos, source !== _emitter4.default.sources.USER);\n          });\n\n          var _map2 = _slicedToArray(_map, 2);\n\n          start = _map2[0];\n          end = _map2[1];\n        } else {\n          var _map3 = [range.index, range.index + range.length].map(function (pos) {\n            if (pos < index || pos === index && source === _emitter4.default.sources.USER) return pos;\n\n            if (length >= 0) {\n              return pos + length;\n            } else {\n              return Math.max(index, pos + length);\n            }\n          });\n\n          var _map4 = _slicedToArray(_map3, 2);\n\n          start = _map4[0];\n          end = _map4[1];\n        }\n\n        return new _selection.Range(start, end - start);\n      }\n\n      exports.expandConfig = expandConfig;\n      exports.overload = overload;\n      exports.default = Quill;\n      /***/\n    },\n    /* 6 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _text = __webpack_require__(7);\n\n      var _text2 = _interopRequireDefault(_text);\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Inline = function (_Parchment$Inline) {\n        _inherits(Inline, _Parchment$Inline);\n\n        function Inline() {\n          _classCallCheck(this, Inline);\n\n          return _possibleConstructorReturn(this, (Inline.__proto__ || Object.getPrototypeOf(Inline)).apply(this, arguments));\n        }\n\n        _createClass(Inline, [{\n          key: 'formatAt',\n          value: function formatAt(index, length, name, value) {\n            if (Inline.compare(this.statics.blotName, name) < 0 && _parchment2.default.query(name, _parchment2.default.Scope.BLOT)) {\n              var blot = this.isolate(index, length);\n\n              if (value) {\n                blot.wrap(name, value);\n              }\n            } else {\n              _get(Inline.prototype.__proto__ || Object.getPrototypeOf(Inline.prototype), 'formatAt', this).call(this, index, length, name, value);\n            }\n          }\n        }, {\n          key: 'optimize',\n          value: function optimize(context) {\n            _get(Inline.prototype.__proto__ || Object.getPrototypeOf(Inline.prototype), 'optimize', this).call(this, context);\n\n            if (this.parent instanceof Inline && Inline.compare(this.statics.blotName, this.parent.statics.blotName) > 0) {\n              var parent = this.parent.isolate(this.offset(), this.length());\n              this.moveChildren(parent);\n              parent.wrap(this);\n            }\n          }\n        }], [{\n          key: 'compare',\n          value: function compare(self, other) {\n            var selfIndex = Inline.order.indexOf(self);\n            var otherIndex = Inline.order.indexOf(other);\n\n            if (selfIndex >= 0 || otherIndex >= 0) {\n              return selfIndex - otherIndex;\n            } else if (self === other) {\n              return 0;\n            } else if (self < other) {\n              return -1;\n            } else {\n              return 1;\n            }\n          }\n        }]);\n\n        return Inline;\n      }(_parchment2.default.Inline);\n\n      Inline.allowedChildren = [Inline, _parchment2.default.Embed, _text2.default]; // Lower index means deeper in the DOM tree, since not found (-1) is for embeds\n\n      Inline.order = ['cursor', 'inline', // Must be lower\n      'underline', 'strike', 'italic', 'bold', 'script', 'link', 'code' // Must be higher\n      ];\n      exports.default = Inline;\n      /***/\n    },\n    /* 7 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var TextBlot = function (_Parchment$Text) {\n        _inherits(TextBlot, _Parchment$Text);\n\n        function TextBlot() {\n          _classCallCheck(this, TextBlot);\n\n          return _possibleConstructorReturn(this, (TextBlot.__proto__ || Object.getPrototypeOf(TextBlot)).apply(this, arguments));\n        }\n\n        return TextBlot;\n      }(_parchment2.default.Text);\n\n      exports.default = TextBlot;\n      /***/\n    },\n    /* 8 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _eventemitter = __webpack_require__(54);\n\n      var _eventemitter2 = _interopRequireDefault(_eventemitter);\n\n      var _logger = __webpack_require__(10);\n\n      var _logger2 = _interopRequireDefault(_logger);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var debug = (0, _logger2.default)('quill:events');\n      var EVENTS = ['selectionchange', 'mousedown', 'mouseup', 'click'];\n      EVENTS.forEach(function (eventName) {\n        document.addEventListener(eventName, function () {\n          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          [].slice.call(document.querySelectorAll('.ql-container')).forEach(function (node) {\n            // TODO use WeakMap\n            if (node.__quill && node.__quill.emitter) {\n              var _node$__quill$emitter;\n\n              (_node$__quill$emitter = node.__quill.emitter).handleDOM.apply(_node$__quill$emitter, args);\n            }\n          });\n        });\n      });\n\n      var Emitter = function (_EventEmitter) {\n        _inherits(Emitter, _EventEmitter);\n\n        function Emitter() {\n          _classCallCheck(this, Emitter);\n\n          var _this = _possibleConstructorReturn(this, (Emitter.__proto__ || Object.getPrototypeOf(Emitter)).call(this));\n\n          _this.listeners = {};\n\n          _this.on('error', debug.error);\n\n          return _this;\n        }\n\n        _createClass(Emitter, [{\n          key: 'emit',\n          value: function emit() {\n            debug.log.apply(debug, arguments);\n\n            _get(Emitter.prototype.__proto__ || Object.getPrototypeOf(Emitter.prototype), 'emit', this).apply(this, arguments);\n          }\n        }, {\n          key: 'handleDOM',\n          value: function handleDOM(event) {\n            for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n              args[_key2 - 1] = arguments[_key2];\n            }\n\n            (this.listeners[event.type] || []).forEach(function (_ref) {\n              var node = _ref.node,\n                  handler = _ref.handler;\n\n              if (event.target === node || node.contains(event.target)) {\n                handler.apply(undefined, [event].concat(args));\n              }\n            });\n          }\n        }, {\n          key: 'listenDOM',\n          value: function listenDOM(eventName, node, handler) {\n            if (!this.listeners[eventName]) {\n              this.listeners[eventName] = [];\n            }\n\n            this.listeners[eventName].push({\n              node: node,\n              handler: handler\n            });\n          }\n        }]);\n\n        return Emitter;\n      }(_eventemitter2.default);\n\n      Emitter.events = {\n        EDITOR_CHANGE: 'editor-change',\n        SCROLL_BEFORE_UPDATE: 'scroll-before-update',\n        SCROLL_OPTIMIZE: 'scroll-optimize',\n        SCROLL_UPDATE: 'scroll-update',\n        SELECTION_CHANGE: 'selection-change',\n        TEXT_CHANGE: 'text-change'\n      };\n      Emitter.sources = {\n        API: 'api',\n        SILENT: 'silent',\n        USER: 'user'\n      };\n      exports.default = Emitter;\n      /***/\n    },\n    /* 9 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var Module = function Module(quill) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        _classCallCheck(this, Module);\n\n        this.quill = quill;\n        this.options = options;\n      };\n\n      Module.DEFAULTS = {};\n      exports.default = Module;\n      /***/\n    },\n    /* 10 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      var levels = ['error', 'warn', 'log', 'info'];\n      var level = 'warn';\n\n      function debug(method) {\n        if (levels.indexOf(method) <= levels.indexOf(level)) {\n          var _console;\n\n          for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n          }\n\n          (_console = console)[method].apply(_console, args); // eslint-disable-line no-console\n\n        }\n      }\n\n      function namespace(ns) {\n        return levels.reduce(function (logger, method) {\n          logger[method] = debug.bind(console, method, ns);\n          return logger;\n        }, {});\n      }\n\n      debug.level = namespace.level = function (newLevel) {\n        level = newLevel;\n      };\n\n      exports.default = namespace;\n      /***/\n    },\n    /* 11 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var pSlice = Array.prototype.slice;\n\n      var objectKeys = __webpack_require__(52);\n\n      var isArguments = __webpack_require__(53);\n\n      var deepEqual = module.exports = function (actual, expected, opts) {\n        if (!opts) opts = {}; // 7.1. All identical values are equivalent, as determined by ===.\n\n        if (actual === expected) {\n          return true;\n        } else if (actual instanceof Date && expected instanceof Date) {\n          return actual.getTime() === expected.getTime(); // 7.3. Other pairs that do not both pass typeof value == 'object',\n          // equivalence is determined by ==.\n        } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\n          return opts.strict ? actual === expected : actual == expected; // 7.4. For all other Object pairs, including Array objects, equivalence is\n          // determined by having the same number of owned properties (as verified\n          // with Object.prototype.hasOwnProperty.call), the same set of keys\n          // (although not necessarily the same order), equivalent values for every\n          // corresponding key, and an identical 'prototype' property. Note: this\n          // accounts for both named and indexed properties on Arrays.\n        } else {\n          return objEquiv(actual, expected, opts);\n        }\n      };\n\n      function isUndefinedOrNull(value) {\n        return value === null || value === undefined;\n      }\n\n      function isBuffer(x) {\n        if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\n\n        if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n          return false;\n        }\n\n        if (x.length > 0 && typeof x[0] !== 'number') return false;\n        return true;\n      }\n\n      function objEquiv(a, b, opts) {\n        var i, key;\n        if (isUndefinedOrNull(a) || isUndefinedOrNull(b)) return false; // an identical 'prototype' property.\n\n        if (a.prototype !== b.prototype) return false; //~~~I've managed to break Object.keys through screwy arguments passing.\n        //   Converting to array solves the problem.\n\n        if (isArguments(a)) {\n          if (!isArguments(b)) {\n            return false;\n          }\n\n          a = pSlice.call(a);\n          b = pSlice.call(b);\n          return deepEqual(a, b, opts);\n        }\n\n        if (isBuffer(a)) {\n          if (!isBuffer(b)) {\n            return false;\n          }\n\n          if (a.length !== b.length) return false;\n\n          for (i = 0; i < a.length; i++) {\n            if (a[i] !== b[i]) return false;\n          }\n\n          return true;\n        }\n\n        try {\n          var ka = objectKeys(a),\n              kb = objectKeys(b);\n        } catch (e) {\n          //happens when one is a string literal and the other isn't\n          return false;\n        } // having the same number of owned properties (keys incorporates\n        // hasOwnProperty)\n\n\n        if (ka.length != kb.length) return false; //the same set of keys (although not necessarily the same order),\n\n        ka.sort();\n        kb.sort(); //~~~cheap key test\n\n        for (i = ka.length - 1; i >= 0; i--) {\n          if (ka[i] != kb[i]) return false;\n        } //equivalent values for every corresponding key, and\n        //~~~possibly expensive deep test\n\n\n        for (i = ka.length - 1; i >= 0; i--) {\n          key = ka[i];\n          if (!deepEqual(a[key], b[key], opts)) return false;\n        }\n\n        return typeof a === typeof b;\n      }\n      /***/\n\n    },\n    /* 12 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Registry = __webpack_require__(1);\n\n      var Attributor =\n      /** @class */\n      function () {\n        function Attributor(attrName, keyName, options) {\n          if (options === void 0) {\n            options = {};\n          }\n\n          this.attrName = attrName;\n          this.keyName = keyName;\n          var attributeBit = Registry.Scope.TYPE & Registry.Scope.ATTRIBUTE;\n\n          if (options.scope != null) {\n            // Ignore type bits, force attribute bit\n            this.scope = options.scope & Registry.Scope.LEVEL | attributeBit;\n          } else {\n            this.scope = Registry.Scope.ATTRIBUTE;\n          }\n\n          if (options.whitelist != null) this.whitelist = options.whitelist;\n        }\n\n        Attributor.keys = function (node) {\n          return [].map.call(node.attributes, function (item) {\n            return item.name;\n          });\n        };\n\n        Attributor.prototype.add = function (node, value) {\n          if (!this.canAdd(node, value)) return false;\n          node.setAttribute(this.keyName, value);\n          return true;\n        };\n\n        Attributor.prototype.canAdd = function (node, value) {\n          var match = Registry.query(node, Registry.Scope.BLOT & (this.scope | Registry.Scope.TYPE));\n          if (match == null) return false;\n          if (this.whitelist == null) return true;\n\n          if (typeof value === 'string') {\n            return this.whitelist.indexOf(value.replace(/[\"']/g, '')) > -1;\n          } else {\n            return this.whitelist.indexOf(value) > -1;\n          }\n        };\n\n        Attributor.prototype.remove = function (node) {\n          node.removeAttribute(this.keyName);\n        };\n\n        Attributor.prototype.value = function (node) {\n          var value = node.getAttribute(this.keyName);\n\n          if (this.canAdd(node, value) && value) {\n            return value;\n          }\n\n          return '';\n        };\n\n        return Attributor;\n      }();\n\n      exports.default = Attributor;\n      /***/\n    },\n    /* 13 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.Code = undefined;\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _quillDelta = __webpack_require__(2);\n\n      var _quillDelta2 = _interopRequireDefault(_quillDelta);\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _block = __webpack_require__(4);\n\n      var _block2 = _interopRequireDefault(_block);\n\n      var _inline = __webpack_require__(6);\n\n      var _inline2 = _interopRequireDefault(_inline);\n\n      var _text = __webpack_require__(7);\n\n      var _text2 = _interopRequireDefault(_text);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Code = function (_Inline) {\n        _inherits(Code, _Inline);\n\n        function Code() {\n          _classCallCheck(this, Code);\n\n          return _possibleConstructorReturn(this, (Code.__proto__ || Object.getPrototypeOf(Code)).apply(this, arguments));\n        }\n\n        return Code;\n      }(_inline2.default);\n\n      Code.blotName = 'code';\n      Code.tagName = 'CODE';\n\n      var CodeBlock = function (_Block) {\n        _inherits(CodeBlock, _Block);\n\n        function CodeBlock() {\n          _classCallCheck(this, CodeBlock);\n\n          return _possibleConstructorReturn(this, (CodeBlock.__proto__ || Object.getPrototypeOf(CodeBlock)).apply(this, arguments));\n        }\n\n        _createClass(CodeBlock, [{\n          key: 'delta',\n          value: function delta() {\n            var _this3 = this;\n\n            var text = this.domNode.textContent;\n\n            if (text.endsWith('\\n')) {\n              // Should always be true\n              text = text.slice(0, -1);\n            }\n\n            return text.split('\\n').reduce(function (delta, frag) {\n              return delta.insert(frag).insert('\\n', _this3.formats());\n            }, new _quillDelta2.default());\n          }\n        }, {\n          key: 'format',\n          value: function format(name, value) {\n            if (name === this.statics.blotName && value) return;\n\n            var _descendant = this.descendant(_text2.default, this.length() - 1),\n                _descendant2 = _slicedToArray(_descendant, 1),\n                text = _descendant2[0];\n\n            if (text != null) {\n              text.deleteAt(text.length() - 1, 1);\n            }\n\n            _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'format', this).call(this, name, value);\n          }\n        }, {\n          key: 'formatAt',\n          value: function formatAt(index, length, name, value) {\n            if (length === 0) return;\n\n            if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK) == null || name === this.statics.blotName && value === this.statics.formats(this.domNode)) {\n              return;\n            }\n\n            var nextNewline = this.newlineIndex(index);\n            if (nextNewline < 0 || nextNewline >= index + length) return;\n            var prevNewline = this.newlineIndex(index, true) + 1;\n            var isolateLength = nextNewline - prevNewline + 1;\n            var blot = this.isolate(prevNewline, isolateLength);\n            var next = blot.next;\n            blot.format(name, value);\n\n            if (next instanceof CodeBlock) {\n              next.formatAt(0, index - prevNewline + length - isolateLength, name, value);\n            }\n          }\n        }, {\n          key: 'insertAt',\n          value: function insertAt(index, value, def) {\n            if (def != null) return;\n\n            var _descendant3 = this.descendant(_text2.default, index),\n                _descendant4 = _slicedToArray(_descendant3, 2),\n                text = _descendant4[0],\n                offset = _descendant4[1];\n\n            text.insertAt(offset, value);\n          }\n        }, {\n          key: 'length',\n          value: function length() {\n            var length = this.domNode.textContent.length;\n\n            if (!this.domNode.textContent.endsWith('\\n')) {\n              return length + 1;\n            }\n\n            return length;\n          }\n        }, {\n          key: 'newlineIndex',\n          value: function newlineIndex(searchIndex) {\n            var reverse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n            if (!reverse) {\n              var offset = this.domNode.textContent.slice(searchIndex).indexOf('\\n');\n              return offset > -1 ? searchIndex + offset : -1;\n            } else {\n              return this.domNode.textContent.slice(0, searchIndex).lastIndexOf('\\n');\n            }\n          }\n        }, {\n          key: 'optimize',\n          value: function optimize(context) {\n            if (!this.domNode.textContent.endsWith('\\n')) {\n              this.appendChild(_parchment2.default.create('text', '\\n'));\n            }\n\n            _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'optimize', this).call(this, context);\n\n            var next = this.next;\n\n            if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && this.statics.formats(this.domNode) === next.statics.formats(next.domNode)) {\n              next.optimize(context);\n              next.moveChildren(this);\n              next.remove();\n            }\n          }\n        }, {\n          key: 'replace',\n          value: function replace(target) {\n            _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'replace', this).call(this, target);\n\n            [].slice.call(this.domNode.querySelectorAll('*')).forEach(function (node) {\n              var blot = _parchment2.default.find(node);\n\n              if (blot == null) {\n                node.parentNode.removeChild(node);\n              } else if (blot instanceof _parchment2.default.Embed) {\n                blot.remove();\n              } else {\n                blot.unwrap();\n              }\n            });\n          }\n        }], [{\n          key: 'create',\n          value: function create(value) {\n            var domNode = _get(CodeBlock.__proto__ || Object.getPrototypeOf(CodeBlock), 'create', this).call(this, value);\n\n            domNode.setAttribute('spellcheck', false);\n            return domNode;\n          }\n        }, {\n          key: 'formats',\n          value: function formats() {\n            return true;\n          }\n        }]);\n\n        return CodeBlock;\n      }(_block2.default);\n\n      CodeBlock.blotName = 'code-block';\n      CodeBlock.tagName = 'PRE';\n      CodeBlock.TAB = '  ';\n      exports.Code = Code;\n      exports.default = CodeBlock;\n      /***/\n    },\n    /* 14 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _quillDelta = __webpack_require__(2);\n\n      var _quillDelta2 = _interopRequireDefault(_quillDelta);\n\n      var _op = __webpack_require__(20);\n\n      var _op2 = _interopRequireDefault(_op);\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _code = __webpack_require__(13);\n\n      var _code2 = _interopRequireDefault(_code);\n\n      var _cursor = __webpack_require__(24);\n\n      var _cursor2 = _interopRequireDefault(_cursor);\n\n      var _block = __webpack_require__(4);\n\n      var _block2 = _interopRequireDefault(_block);\n\n      var _break = __webpack_require__(16);\n\n      var _break2 = _interopRequireDefault(_break);\n\n      var _clone = __webpack_require__(21);\n\n      var _clone2 = _interopRequireDefault(_clone);\n\n      var _deepEqual = __webpack_require__(11);\n\n      var _deepEqual2 = _interopRequireDefault(_deepEqual);\n\n      var _extend = __webpack_require__(3);\n\n      var _extend2 = _interopRequireDefault(_extend);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var ASCII = /^[ -~]*$/;\n\n      var Editor = function () {\n        function Editor(scroll) {\n          _classCallCheck(this, Editor);\n\n          this.scroll = scroll;\n          this.delta = this.getDelta();\n        }\n\n        _createClass(Editor, [{\n          key: 'applyDelta',\n          value: function applyDelta(delta) {\n            var _this = this;\n\n            var consumeNextNewline = false;\n            this.scroll.update();\n            var scrollLength = this.scroll.length();\n            this.scroll.batchStart();\n            delta = normalizeDelta(delta);\n            delta.reduce(function (index, op) {\n              var length = op.retain || op.delete || op.insert.length || 1;\n              var attributes = op.attributes || {};\n\n              if (op.insert != null) {\n                if (typeof op.insert === 'string') {\n                  var text = op.insert;\n\n                  if (text.endsWith('\\n') && consumeNextNewline) {\n                    consumeNextNewline = false;\n                    text = text.slice(0, -1);\n                  }\n\n                  if (index >= scrollLength && !text.endsWith('\\n')) {\n                    consumeNextNewline = true;\n                  }\n\n                  _this.scroll.insertAt(index, text);\n\n                  var _scroll$line = _this.scroll.line(index),\n                      _scroll$line2 = _slicedToArray(_scroll$line, 2),\n                      line = _scroll$line2[0],\n                      offset = _scroll$line2[1];\n\n                  var formats = (0, _extend2.default)({}, (0, _block.bubbleFormats)(line));\n\n                  if (line instanceof _block2.default) {\n                    var _line$descendant = line.descendant(_parchment2.default.Leaf, offset),\n                        _line$descendant2 = _slicedToArray(_line$descendant, 1),\n                        leaf = _line$descendant2[0];\n\n                    formats = (0, _extend2.default)(formats, (0, _block.bubbleFormats)(leaf));\n                  }\n\n                  attributes = _op2.default.attributes.diff(formats, attributes) || {};\n                } else if (_typeof(op.insert) === 'object') {\n                  var key = Object.keys(op.insert)[0]; // There should only be one key\n\n                  if (key == null) return index;\n\n                  _this.scroll.insertAt(index, key, op.insert[key]);\n                }\n\n                scrollLength += length;\n              }\n\n              Object.keys(attributes).forEach(function (name) {\n                _this.scroll.formatAt(index, length, name, attributes[name]);\n              });\n              return index + length;\n            }, 0);\n            delta.reduce(function (index, op) {\n              if (typeof op.delete === 'number') {\n                _this.scroll.deleteAt(index, op.delete);\n\n                return index;\n              }\n\n              return index + (op.retain || op.insert.length || 1);\n            }, 0);\n            this.scroll.batchEnd();\n            return this.update(delta);\n          }\n        }, {\n          key: 'deleteText',\n          value: function deleteText(index, length) {\n            this.scroll.deleteAt(index, length);\n            return this.update(new _quillDelta2.default().retain(index).delete(length));\n          }\n        }, {\n          key: 'formatLine',\n          value: function formatLine(index, length) {\n            var _this2 = this;\n\n            var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n            this.scroll.update();\n            Object.keys(formats).forEach(function (format) {\n              if (_this2.scroll.whitelist != null && !_this2.scroll.whitelist[format]) return;\n\n              var lines = _this2.scroll.lines(index, Math.max(length, 1));\n\n              var lengthRemaining = length;\n              lines.forEach(function (line) {\n                var lineLength = line.length();\n\n                if (!(line instanceof _code2.default)) {\n                  line.format(format, formats[format]);\n                } else {\n                  var codeIndex = index - line.offset(_this2.scroll);\n                  var codeLength = line.newlineIndex(codeIndex + lengthRemaining) - codeIndex + 1;\n                  line.formatAt(codeIndex, codeLength, format, formats[format]);\n                }\n\n                lengthRemaining -= lineLength;\n              });\n            });\n            this.scroll.optimize();\n            return this.update(new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats)));\n          }\n        }, {\n          key: 'formatText',\n          value: function formatText(index, length) {\n            var _this3 = this;\n\n            var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n            Object.keys(formats).forEach(function (format) {\n              _this3.scroll.formatAt(index, length, format, formats[format]);\n            });\n            return this.update(new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats)));\n          }\n        }, {\n          key: 'getContents',\n          value: function getContents(index, length) {\n            return this.delta.slice(index, index + length);\n          }\n        }, {\n          key: 'getDelta',\n          value: function getDelta() {\n            return this.scroll.lines().reduce(function (delta, line) {\n              return delta.concat(line.delta());\n            }, new _quillDelta2.default());\n          }\n        }, {\n          key: 'getFormat',\n          value: function getFormat(index) {\n            var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n            var lines = [],\n                leaves = [];\n\n            if (length === 0) {\n              this.scroll.path(index).forEach(function (path) {\n                var _path = _slicedToArray(path, 1),\n                    blot = _path[0];\n\n                if (blot instanceof _block2.default) {\n                  lines.push(blot);\n                } else if (blot instanceof _parchment2.default.Leaf) {\n                  leaves.push(blot);\n                }\n              });\n            } else {\n              lines = this.scroll.lines(index, length);\n              leaves = this.scroll.descendants(_parchment2.default.Leaf, index, length);\n            }\n\n            var formatsArr = [lines, leaves].map(function (blots) {\n              if (blots.length === 0) return {};\n              var formats = (0, _block.bubbleFormats)(blots.shift());\n\n              while (Object.keys(formats).length > 0) {\n                var blot = blots.shift();\n                if (blot == null) return formats;\n                formats = combineFormats((0, _block.bubbleFormats)(blot), formats);\n              }\n\n              return formats;\n            });\n            return _extend2.default.apply(_extend2.default, formatsArr);\n          }\n        }, {\n          key: 'getText',\n          value: function getText(index, length) {\n            return this.getContents(index, length).filter(function (op) {\n              return typeof op.insert === 'string';\n            }).map(function (op) {\n              return op.insert;\n            }).join('');\n          }\n        }, {\n          key: 'insertEmbed',\n          value: function insertEmbed(index, embed, value) {\n            this.scroll.insertAt(index, embed, value);\n            return this.update(new _quillDelta2.default().retain(index).insert(_defineProperty({}, embed, value)));\n          }\n        }, {\n          key: 'insertText',\n          value: function insertText(index, text) {\n            var _this4 = this;\n\n            var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n            text = text.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n            this.scroll.insertAt(index, text);\n            Object.keys(formats).forEach(function (format) {\n              _this4.scroll.formatAt(index, text.length, format, formats[format]);\n            });\n            return this.update(new _quillDelta2.default().retain(index).insert(text, (0, _clone2.default)(formats)));\n          }\n        }, {\n          key: 'isBlank',\n          value: function isBlank() {\n            if (this.scroll.children.length == 0) return true;\n            if (this.scroll.children.length > 1) return false;\n            var block = this.scroll.children.head;\n            if (block.statics.blotName !== _block2.default.blotName) return false;\n            if (block.children.length > 1) return false;\n            return block.children.head instanceof _break2.default;\n          }\n        }, {\n          key: 'removeFormat',\n          value: function removeFormat(index, length) {\n            var text = this.getText(index, length);\n\n            var _scroll$line3 = this.scroll.line(index + length),\n                _scroll$line4 = _slicedToArray(_scroll$line3, 2),\n                line = _scroll$line4[0],\n                offset = _scroll$line4[1];\n\n            var suffixLength = 0,\n                suffix = new _quillDelta2.default();\n\n            if (line != null) {\n              if (!(line instanceof _code2.default)) {\n                suffixLength = line.length() - offset;\n              } else {\n                suffixLength = line.newlineIndex(offset) - offset + 1;\n              }\n\n              suffix = line.delta().slice(offset, offset + suffixLength - 1).insert('\\n');\n            }\n\n            var contents = this.getContents(index, length + suffixLength);\n            var diff = contents.diff(new _quillDelta2.default().insert(text).concat(suffix));\n            var delta = new _quillDelta2.default().retain(index).concat(diff);\n            return this.applyDelta(delta);\n          }\n        }, {\n          key: 'update',\n          value: function update(change) {\n            var mutations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n            var cursorIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n            var oldDelta = this.delta;\n\n            if (mutations.length === 1 && mutations[0].type === 'characterData' && mutations[0].target.data.match(ASCII) && _parchment2.default.find(mutations[0].target)) {\n              // Optimization for character changes\n              var textBlot = _parchment2.default.find(mutations[0].target);\n\n              var formats = (0, _block.bubbleFormats)(textBlot);\n              var index = textBlot.offset(this.scroll);\n              var oldValue = mutations[0].oldValue.replace(_cursor2.default.CONTENTS, '');\n              var oldText = new _quillDelta2.default().insert(oldValue);\n              var newText = new _quillDelta2.default().insert(textBlot.value());\n              var diffDelta = new _quillDelta2.default().retain(index).concat(oldText.diff(newText, cursorIndex));\n              change = diffDelta.reduce(function (delta, op) {\n                if (op.insert) {\n                  return delta.insert(op.insert, formats);\n                } else {\n                  return delta.push(op);\n                }\n              }, new _quillDelta2.default());\n              this.delta = oldDelta.compose(change);\n            } else {\n              this.delta = this.getDelta();\n\n              if (!change || !(0, _deepEqual2.default)(oldDelta.compose(change), this.delta)) {\n                change = oldDelta.diff(this.delta, cursorIndex);\n              }\n            }\n\n            return change;\n          }\n        }]);\n\n        return Editor;\n      }();\n\n      function combineFormats(formats, combined) {\n        return Object.keys(combined).reduce(function (merged, name) {\n          if (formats[name] == null) return merged;\n\n          if (combined[name] === formats[name]) {\n            merged[name] = combined[name];\n          } else if (Array.isArray(combined[name])) {\n            if (combined[name].indexOf(formats[name]) < 0) {\n              merged[name] = combined[name].concat([formats[name]]);\n            }\n          } else {\n            merged[name] = [combined[name], formats[name]];\n          }\n\n          return merged;\n        }, {});\n      }\n\n      function normalizeDelta(delta) {\n        return delta.reduce(function (delta, op) {\n          if (op.insert === 1) {\n            var attributes = (0, _clone2.default)(op.attributes);\n            delete attributes['image'];\n            return delta.insert({\n              image: op.attributes.image\n            }, attributes);\n          }\n\n          if (op.attributes != null && (op.attributes.list === true || op.attributes.bullet === true)) {\n            op = (0, _clone2.default)(op);\n\n            if (op.attributes.list) {\n              op.attributes.list = 'ordered';\n            } else {\n              op.attributes.list = 'bullet';\n              delete op.attributes.bullet;\n            }\n          }\n\n          if (typeof op.insert === 'string') {\n            var text = op.insert.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n            return delta.insert(text, op.attributes);\n          }\n\n          return delta.push(op);\n        }, new _quillDelta2.default());\n      }\n\n      exports.default = Editor;\n      /***/\n    },\n    /* 15 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.Range = undefined;\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _clone = __webpack_require__(21);\n\n      var _clone2 = _interopRequireDefault(_clone);\n\n      var _deepEqual = __webpack_require__(11);\n\n      var _deepEqual2 = _interopRequireDefault(_deepEqual);\n\n      var _emitter3 = __webpack_require__(8);\n\n      var _emitter4 = _interopRequireDefault(_emitter3);\n\n      var _logger = __webpack_require__(10);\n\n      var _logger2 = _interopRequireDefault(_logger);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _toConsumableArray(arr) {\n        if (Array.isArray(arr)) {\n          for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n            arr2[i] = arr[i];\n          }\n\n          return arr2;\n        } else {\n          return Array.from(arr);\n        }\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var debug = (0, _logger2.default)('quill:selection');\n\n      var Range = function Range(index) {\n        var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n        _classCallCheck(this, Range);\n\n        this.index = index;\n        this.length = length;\n      };\n\n      var Selection = function () {\n        function Selection(scroll, emitter) {\n          var _this = this;\n\n          _classCallCheck(this, Selection);\n\n          this.emitter = emitter;\n          this.scroll = scroll;\n          this.composing = false;\n          this.mouseDown = false;\n          this.root = this.scroll.domNode;\n          this.cursor = _parchment2.default.create('cursor', this); // savedRange is last non-null range\n\n          this.lastRange = this.savedRange = new Range(0, 0);\n          this.handleComposition();\n          this.handleDragging();\n          this.emitter.listenDOM('selectionchange', document, function () {\n            if (!_this.mouseDown) {\n              setTimeout(_this.update.bind(_this, _emitter4.default.sources.USER), 1);\n            }\n          });\n          this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function (type, delta) {\n            if (type === _emitter4.default.events.TEXT_CHANGE && delta.length() > 0) {\n              _this.update(_emitter4.default.sources.SILENT);\n            }\n          });\n          this.emitter.on(_emitter4.default.events.SCROLL_BEFORE_UPDATE, function () {\n            if (!_this.hasFocus()) return;\n\n            var native = _this.getNativeRange();\n\n            if (native == null) return;\n            if (native.start.node === _this.cursor.textNode) return; // cursor.restore() will handle\n            // TODO unclear if this has negative side effects\n\n            _this.emitter.once(_emitter4.default.events.SCROLL_UPDATE, function () {\n              try {\n                _this.setNativeRange(native.start.node, native.start.offset, native.end.node, native.end.offset);\n              } catch (ignored) {}\n            });\n          });\n          this.emitter.on(_emitter4.default.events.SCROLL_OPTIMIZE, function (mutations, context) {\n            if (context.range) {\n              var _context$range = context.range,\n                  startNode = _context$range.startNode,\n                  startOffset = _context$range.startOffset,\n                  endNode = _context$range.endNode,\n                  endOffset = _context$range.endOffset;\n\n              _this.setNativeRange(startNode, startOffset, endNode, endOffset);\n            }\n          });\n          this.update(_emitter4.default.sources.SILENT);\n        }\n\n        _createClass(Selection, [{\n          key: 'handleComposition',\n          value: function handleComposition() {\n            var _this2 = this;\n\n            this.root.addEventListener('compositionstart', function () {\n              _this2.composing = true;\n            });\n            this.root.addEventListener('compositionend', function () {\n              _this2.composing = false;\n\n              if (_this2.cursor.parent) {\n                var range = _this2.cursor.restore();\n\n                if (!range) return;\n                setTimeout(function () {\n                  _this2.setNativeRange(range.startNode, range.startOffset, range.endNode, range.endOffset);\n                }, 1);\n              }\n            });\n          }\n        }, {\n          key: 'handleDragging',\n          value: function handleDragging() {\n            var _this3 = this;\n\n            this.emitter.listenDOM('mousedown', document.body, function () {\n              _this3.mouseDown = true;\n            });\n            this.emitter.listenDOM('mouseup', document.body, function () {\n              _this3.mouseDown = false;\n\n              _this3.update(_emitter4.default.sources.USER);\n            });\n          }\n        }, {\n          key: 'focus',\n          value: function focus() {\n            if (this.hasFocus()) return;\n            this.root.focus();\n            this.setRange(this.savedRange);\n          }\n        }, {\n          key: 'format',\n          value: function format(_format, value) {\n            if (this.scroll.whitelist != null && !this.scroll.whitelist[_format]) return;\n            this.scroll.update();\n            var nativeRange = this.getNativeRange();\n            if (nativeRange == null || !nativeRange.native.collapsed || _parchment2.default.query(_format, _parchment2.default.Scope.BLOCK)) return;\n\n            if (nativeRange.start.node !== this.cursor.textNode) {\n              var blot = _parchment2.default.find(nativeRange.start.node, false);\n\n              if (blot == null) return; // TODO Give blot ability to not split\n\n              if (blot instanceof _parchment2.default.Leaf) {\n                var after = blot.split(nativeRange.start.offset);\n                blot.parent.insertBefore(this.cursor, after);\n              } else {\n                blot.insertBefore(this.cursor, nativeRange.start.node); // Should never happen\n              }\n\n              this.cursor.attach();\n            }\n\n            this.cursor.format(_format, value);\n            this.scroll.optimize();\n            this.setNativeRange(this.cursor.textNode, this.cursor.textNode.data.length);\n            this.update();\n          }\n        }, {\n          key: 'getBounds',\n          value: function getBounds(index) {\n            var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n            var scrollLength = this.scroll.length();\n            index = Math.min(index, scrollLength - 1);\n            length = Math.min(index + length, scrollLength - 1) - index;\n\n            var node = void 0,\n                _scroll$leaf = this.scroll.leaf(index),\n                _scroll$leaf2 = _slicedToArray(_scroll$leaf, 2),\n                leaf = _scroll$leaf2[0],\n                offset = _scroll$leaf2[1];\n\n            if (leaf == null) return null;\n\n            var _leaf$position = leaf.position(offset, true);\n\n            var _leaf$position2 = _slicedToArray(_leaf$position, 2);\n\n            node = _leaf$position2[0];\n            offset = _leaf$position2[1];\n            var range = document.createRange();\n\n            if (length > 0) {\n              range.setStart(node, offset);\n\n              var _scroll$leaf3 = this.scroll.leaf(index + length);\n\n              var _scroll$leaf4 = _slicedToArray(_scroll$leaf3, 2);\n\n              leaf = _scroll$leaf4[0];\n              offset = _scroll$leaf4[1];\n              if (leaf == null) return null;\n\n              var _leaf$position3 = leaf.position(offset, true);\n\n              var _leaf$position4 = _slicedToArray(_leaf$position3, 2);\n\n              node = _leaf$position4[0];\n              offset = _leaf$position4[1];\n              range.setEnd(node, offset);\n              return range.getBoundingClientRect();\n            } else {\n              var side = 'left';\n              var rect = void 0;\n\n              if (node instanceof Text) {\n                if (offset < node.data.length) {\n                  range.setStart(node, offset);\n                  range.setEnd(node, offset + 1);\n                } else {\n                  range.setStart(node, offset - 1);\n                  range.setEnd(node, offset);\n                  side = 'right';\n                }\n\n                rect = range.getBoundingClientRect();\n              } else {\n                rect = leaf.domNode.getBoundingClientRect();\n                if (offset > 0) side = 'right';\n              }\n\n              return {\n                bottom: rect.top + rect.height,\n                height: rect.height,\n                left: rect[side],\n                right: rect[side],\n                top: rect.top,\n                width: 0\n              };\n            }\n          }\n        }, {\n          key: 'getNativeRange',\n          value: function getNativeRange() {\n            var selection = document.getSelection();\n            if (selection == null || selection.rangeCount <= 0) return null;\n            var nativeRange = selection.getRangeAt(0);\n            if (nativeRange == null) return null;\n            var range = this.normalizeNative(nativeRange);\n            debug.info('getNativeRange', range);\n            return range;\n          }\n        }, {\n          key: 'getRange',\n          value: function getRange() {\n            var normalized = this.getNativeRange();\n            if (normalized == null) return [null, null];\n            var range = this.normalizedToRange(normalized);\n            return [range, normalized];\n          }\n        }, {\n          key: 'hasFocus',\n          value: function hasFocus() {\n            return document.activeElement === this.root;\n          }\n        }, {\n          key: 'normalizedToRange',\n          value: function normalizedToRange(range) {\n            var _this4 = this;\n\n            var positions = [[range.start.node, range.start.offset]];\n\n            if (!range.native.collapsed) {\n              positions.push([range.end.node, range.end.offset]);\n            }\n\n            var indexes = positions.map(function (position) {\n              var _position = _slicedToArray(position, 2),\n                  node = _position[0],\n                  offset = _position[1];\n\n              var blot = _parchment2.default.find(node, true);\n\n              var index = blot.offset(_this4.scroll);\n\n              if (offset === 0) {\n                return index;\n              } else if (blot instanceof _parchment2.default.Container) {\n                return index + blot.length();\n              } else {\n                return index + blot.index(node, offset);\n              }\n            });\n            var end = Math.min(Math.max.apply(Math, _toConsumableArray(indexes)), this.scroll.length() - 1);\n            var start = Math.min.apply(Math, [end].concat(_toConsumableArray(indexes)));\n            return new Range(start, end - start);\n          }\n        }, {\n          key: 'normalizeNative',\n          value: function normalizeNative(nativeRange) {\n            if (!contains(this.root, nativeRange.startContainer) || !nativeRange.collapsed && !contains(this.root, nativeRange.endContainer)) {\n              return null;\n            }\n\n            var range = {\n              start: {\n                node: nativeRange.startContainer,\n                offset: nativeRange.startOffset\n              },\n              end: {\n                node: nativeRange.endContainer,\n                offset: nativeRange.endOffset\n              },\n              native: nativeRange\n            };\n            [range.start, range.end].forEach(function (position) {\n              var node = position.node,\n                  offset = position.offset;\n\n              while (!(node instanceof Text) && node.childNodes.length > 0) {\n                if (node.childNodes.length > offset) {\n                  node = node.childNodes[offset];\n                  offset = 0;\n                } else if (node.childNodes.length === offset) {\n                  node = node.lastChild;\n                  offset = node instanceof Text ? node.data.length : node.childNodes.length + 1;\n                } else {\n                  break;\n                }\n              }\n\n              position.node = node, position.offset = offset;\n            });\n            return range;\n          }\n        }, {\n          key: 'rangeToNative',\n          value: function rangeToNative(range) {\n            var _this5 = this;\n\n            var indexes = range.collapsed ? [range.index] : [range.index, range.index + range.length];\n            var args = [];\n            var scrollLength = this.scroll.length();\n            indexes.forEach(function (index, i) {\n              index = Math.min(scrollLength - 1, index);\n\n              var node = void 0,\n                  _scroll$leaf5 = _this5.scroll.leaf(index),\n                  _scroll$leaf6 = _slicedToArray(_scroll$leaf5, 2),\n                  leaf = _scroll$leaf6[0],\n                  offset = _scroll$leaf6[1];\n\n              var _leaf$position5 = leaf.position(offset, i !== 0);\n\n              var _leaf$position6 = _slicedToArray(_leaf$position5, 2);\n\n              node = _leaf$position6[0];\n              offset = _leaf$position6[1];\n              args.push(node, offset);\n            });\n\n            if (args.length < 2) {\n              args = args.concat(args);\n            }\n\n            return args;\n          }\n        }, {\n          key: 'scrollIntoView',\n          value: function scrollIntoView(scrollingContainer) {\n            var range = this.lastRange;\n            if (range == null) return;\n            var bounds = this.getBounds(range.index, range.length);\n            if (bounds == null) return;\n            var limit = this.scroll.length() - 1;\n\n            var _scroll$line = this.scroll.line(Math.min(range.index, limit)),\n                _scroll$line2 = _slicedToArray(_scroll$line, 1),\n                first = _scroll$line2[0];\n\n            var last = first;\n\n            if (range.length > 0) {\n              var _scroll$line3 = this.scroll.line(Math.min(range.index + range.length, limit));\n\n              var _scroll$line4 = _slicedToArray(_scroll$line3, 1);\n\n              last = _scroll$line4[0];\n            }\n\n            if (first == null || last == null) return;\n            var scrollBounds = scrollingContainer.getBoundingClientRect();\n\n            if (bounds.top < scrollBounds.top) {\n              scrollingContainer.scrollTop -= scrollBounds.top - bounds.top;\n            } else if (bounds.bottom > scrollBounds.bottom) {\n              scrollingContainer.scrollTop += bounds.bottom - scrollBounds.bottom;\n            }\n          }\n        }, {\n          key: 'setNativeRange',\n          value: function setNativeRange(startNode, startOffset) {\n            var endNode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : startNode;\n            var endOffset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : startOffset;\n            var force = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n            debug.info('setNativeRange', startNode, startOffset, endNode, endOffset);\n\n            if (startNode != null && (this.root.parentNode == null || startNode.parentNode == null || endNode.parentNode == null)) {\n              return;\n            }\n\n            var selection = document.getSelection();\n            if (selection == null) return;\n\n            if (startNode != null) {\n              if (!this.hasFocus()) this.root.focus();\n              var native = (this.getNativeRange() || {}).native;\n\n              if (native == null || force || startNode !== native.startContainer || startOffset !== native.startOffset || endNode !== native.endContainer || endOffset !== native.endOffset) {\n                if (startNode.tagName == \"BR\") {\n                  startOffset = [].indexOf.call(startNode.parentNode.childNodes, startNode);\n                  startNode = startNode.parentNode;\n                }\n\n                if (endNode.tagName == \"BR\") {\n                  endOffset = [].indexOf.call(endNode.parentNode.childNodes, endNode);\n                  endNode = endNode.parentNode;\n                }\n\n                var range = document.createRange();\n                range.setStart(startNode, startOffset);\n                range.setEnd(endNode, endOffset);\n                selection.removeAllRanges();\n                selection.addRange(range);\n              }\n            } else {\n              selection.removeAllRanges();\n              this.root.blur();\n              document.body.focus(); // root.blur() not enough on IE11+Travis+SauceLabs (but not local VMs)\n            }\n          }\n        }, {\n          key: 'setRange',\n          value: function setRange(range) {\n            var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n            var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _emitter4.default.sources.API;\n\n            if (typeof force === 'string') {\n              source = force;\n              force = false;\n            }\n\n            debug.info('setRange', range);\n\n            if (range != null) {\n              var args = this.rangeToNative(range);\n              this.setNativeRange.apply(this, _toConsumableArray(args).concat([force]));\n            } else {\n              this.setNativeRange(null);\n            }\n\n            this.update(source);\n          }\n        }, {\n          key: 'update',\n          value: function update() {\n            var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _emitter4.default.sources.USER;\n            var oldRange = this.lastRange;\n\n            var _getRange = this.getRange(),\n                _getRange2 = _slicedToArray(_getRange, 2),\n                lastRange = _getRange2[0],\n                nativeRange = _getRange2[1];\n\n            this.lastRange = lastRange;\n\n            if (this.lastRange != null) {\n              this.savedRange = this.lastRange;\n            }\n\n            if (!(0, _deepEqual2.default)(oldRange, this.lastRange)) {\n              var _emitter;\n\n              if (!this.composing && nativeRange != null && nativeRange.native.collapsed && nativeRange.start.node !== this.cursor.textNode) {\n                this.cursor.restore();\n              }\n\n              var args = [_emitter4.default.events.SELECTION_CHANGE, (0, _clone2.default)(this.lastRange), (0, _clone2.default)(oldRange), source];\n\n              (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));\n\n              if (source !== _emitter4.default.sources.SILENT) {\n                var _emitter2;\n\n                (_emitter2 = this.emitter).emit.apply(_emitter2, args);\n              }\n            }\n          }\n        }]);\n\n        return Selection;\n      }();\n\n      function contains(parent, descendant) {\n        try {\n          // Firefox inserts inaccessible nodes around video elements\n          descendant.parentNode;\n        } catch (e) {\n          return false;\n        } // IE11 has bug with Text nodes\n        // https://connect.microsoft.com/IE/feedback/details/780874/node-contains-is-incorrect\n\n\n        if (descendant instanceof Text) {\n          descendant = descendant.parentNode;\n        }\n\n        return parent.contains(descendant);\n      }\n\n      exports.Range = Range;\n      exports.default = Selection;\n      /***/\n    },\n    /* 16 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Break = function (_Parchment$Embed) {\n        _inherits(Break, _Parchment$Embed);\n\n        function Break() {\n          _classCallCheck(this, Break);\n\n          return _possibleConstructorReturn(this, (Break.__proto__ || Object.getPrototypeOf(Break)).apply(this, arguments));\n        }\n\n        _createClass(Break, [{\n          key: 'insertInto',\n          value: function insertInto(parent, ref) {\n            if (parent.children.length === 0) {\n              _get(Break.prototype.__proto__ || Object.getPrototypeOf(Break.prototype), 'insertInto', this).call(this, parent, ref);\n            } else {\n              this.remove();\n            }\n          }\n        }, {\n          key: 'length',\n          value: function length() {\n            return 0;\n          }\n        }, {\n          key: 'value',\n          value: function value() {\n            return '';\n          }\n        }], [{\n          key: 'value',\n          value: function value() {\n            return undefined;\n          }\n        }]);\n\n        return Break;\n      }(_parchment2.default.Embed);\n\n      Break.blotName = 'break';\n      Break.tagName = 'BR';\n      exports.default = Break;\n      /***/\n    },\n    /* 17 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var linked_list_1 = __webpack_require__(44);\n\n      var shadow_1 = __webpack_require__(30);\n\n      var Registry = __webpack_require__(1);\n\n      var ContainerBlot =\n      /** @class */\n      function (_super) {\n        __extends(ContainerBlot, _super);\n\n        function ContainerBlot(domNode) {\n          var _this = _super.call(this, domNode) || this;\n\n          _this.build();\n\n          return _this;\n        }\n\n        ContainerBlot.prototype.appendChild = function (other) {\n          this.insertBefore(other);\n        };\n\n        ContainerBlot.prototype.attach = function () {\n          _super.prototype.attach.call(this);\n\n          this.children.forEach(function (child) {\n            child.attach();\n          });\n        };\n\n        ContainerBlot.prototype.build = function () {\n          var _this = this;\n\n          this.children = new linked_list_1.default(); // Need to be reversed for if DOM nodes already in order\n\n          [].slice.call(this.domNode.childNodes).reverse().forEach(function (node) {\n            try {\n              var child = makeBlot(node);\n\n              _this.insertBefore(child, _this.children.head || undefined);\n            } catch (err) {\n              if (err instanceof Registry.ParchmentError) return;else throw err;\n            }\n          });\n        };\n\n        ContainerBlot.prototype.deleteAt = function (index, length) {\n          if (index === 0 && length === this.length()) {\n            return this.remove();\n          }\n\n          this.children.forEachAt(index, length, function (child, offset, length) {\n            child.deleteAt(offset, length);\n          });\n        };\n\n        ContainerBlot.prototype.descendant = function (criteria, index) {\n          var _a = this.children.find(index),\n              child = _a[0],\n              offset = _a[1];\n\n          if (criteria.blotName == null && criteria(child) || criteria.blotName != null && child instanceof criteria) {\n            return [child, offset];\n          } else if (child instanceof ContainerBlot) {\n            return child.descendant(criteria, offset);\n          } else {\n            return [null, -1];\n          }\n        };\n\n        ContainerBlot.prototype.descendants = function (criteria, index, length) {\n          if (index === void 0) {\n            index = 0;\n          }\n\n          if (length === void 0) {\n            length = Number.MAX_VALUE;\n          }\n\n          var descendants = [];\n          var lengthLeft = length;\n          this.children.forEachAt(index, length, function (child, index, length) {\n            if (criteria.blotName == null && criteria(child) || criteria.blotName != null && child instanceof criteria) {\n              descendants.push(child);\n            }\n\n            if (child instanceof ContainerBlot) {\n              descendants = descendants.concat(child.descendants(criteria, index, lengthLeft));\n            }\n\n            lengthLeft -= length;\n          });\n          return descendants;\n        };\n\n        ContainerBlot.prototype.detach = function () {\n          this.children.forEach(function (child) {\n            child.detach();\n          });\n\n          _super.prototype.detach.call(this);\n        };\n\n        ContainerBlot.prototype.formatAt = function (index, length, name, value) {\n          this.children.forEachAt(index, length, function (child, offset, length) {\n            child.formatAt(offset, length, name, value);\n          });\n        };\n\n        ContainerBlot.prototype.insertAt = function (index, value, def) {\n          var _a = this.children.find(index),\n              child = _a[0],\n              offset = _a[1];\n\n          if (child) {\n            child.insertAt(offset, value, def);\n          } else {\n            var blot = def == null ? Registry.create('text', value) : Registry.create(value, def);\n            this.appendChild(blot);\n          }\n        };\n\n        ContainerBlot.prototype.insertBefore = function (childBlot, refBlot) {\n          if (this.statics.allowedChildren != null && !this.statics.allowedChildren.some(function (child) {\n            return childBlot instanceof child;\n          })) {\n            throw new Registry.ParchmentError(\"Cannot insert \" + childBlot.statics.blotName + \" into \" + this.statics.blotName);\n          }\n\n          childBlot.insertInto(this, refBlot);\n        };\n\n        ContainerBlot.prototype.length = function () {\n          return this.children.reduce(function (memo, child) {\n            return memo + child.length();\n          }, 0);\n        };\n\n        ContainerBlot.prototype.moveChildren = function (targetParent, refNode) {\n          this.children.forEach(function (child) {\n            targetParent.insertBefore(child, refNode);\n          });\n        };\n\n        ContainerBlot.prototype.optimize = function (context) {\n          _super.prototype.optimize.call(this, context);\n\n          if (this.children.length === 0) {\n            if (this.statics.defaultChild != null) {\n              var child = Registry.create(this.statics.defaultChild);\n              this.appendChild(child);\n              child.optimize(context);\n            } else {\n              this.remove();\n            }\n          }\n        };\n\n        ContainerBlot.prototype.path = function (index, inclusive) {\n          if (inclusive === void 0) {\n            inclusive = false;\n          }\n\n          var _a = this.children.find(index, inclusive),\n              child = _a[0],\n              offset = _a[1];\n\n          var position = [[this, index]];\n\n          if (child instanceof ContainerBlot) {\n            return position.concat(child.path(offset, inclusive));\n          } else if (child != null) {\n            position.push([child, offset]);\n          }\n\n          return position;\n        };\n\n        ContainerBlot.prototype.removeChild = function (child) {\n          this.children.remove(child);\n        };\n\n        ContainerBlot.prototype.replace = function (target) {\n          if (target instanceof ContainerBlot) {\n            target.moveChildren(this);\n          }\n\n          _super.prototype.replace.call(this, target);\n        };\n\n        ContainerBlot.prototype.split = function (index, force) {\n          if (force === void 0) {\n            force = false;\n          }\n\n          if (!force) {\n            if (index === 0) return this;\n            if (index === this.length()) return this.next;\n          }\n\n          var after = this.clone();\n          this.parent.insertBefore(after, this.next);\n          this.children.forEachAt(index, this.length(), function (child, offset, length) {\n            child = child.split(offset, force);\n            after.appendChild(child);\n          });\n          return after;\n        };\n\n        ContainerBlot.prototype.unwrap = function () {\n          this.moveChildren(this.parent, this.next);\n          this.remove();\n        };\n\n        ContainerBlot.prototype.update = function (mutations, context) {\n          var _this = this;\n\n          var addedNodes = [];\n          var removedNodes = [];\n          mutations.forEach(function (mutation) {\n            if (mutation.target === _this.domNode && mutation.type === 'childList') {\n              addedNodes.push.apply(addedNodes, mutation.addedNodes);\n              removedNodes.push.apply(removedNodes, mutation.removedNodes);\n            }\n          });\n          removedNodes.forEach(function (node) {\n            // Check node has actually been removed\n            // One exception is Chrome does not immediately remove IFRAMEs\n            // from DOM but MutationRecord is correct in its reported removal\n            if (node.parentNode != null && // @ts-ignore\n            node.tagName !== 'IFRAME' && document.body.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n              return;\n            }\n\n            var blot = Registry.find(node);\n            if (blot == null) return;\n\n            if (blot.domNode.parentNode == null || blot.domNode.parentNode === _this.domNode) {\n              blot.detach();\n            }\n          });\n          addedNodes.filter(function (node) {\n            return node.parentNode == _this.domNode;\n          }).sort(function (a, b) {\n            if (a === b) return 0;\n\n            if (a.compareDocumentPosition(b) & Node.DOCUMENT_POSITION_FOLLOWING) {\n              return 1;\n            }\n\n            return -1;\n          }).forEach(function (node) {\n            var refBlot = null;\n\n            if (node.nextSibling != null) {\n              refBlot = Registry.find(node.nextSibling);\n            }\n\n            var blot = makeBlot(node);\n\n            if (blot.next != refBlot || blot.next == null) {\n              if (blot.parent != null) {\n                blot.parent.removeChild(_this);\n              }\n\n              _this.insertBefore(blot, refBlot || undefined);\n            }\n          });\n        };\n\n        return ContainerBlot;\n      }(shadow_1.default);\n\n      function makeBlot(node) {\n        var blot = Registry.find(node);\n\n        if (blot == null) {\n          try {\n            blot = Registry.create(node);\n          } catch (e) {\n            blot = Registry.create(Registry.Scope.INLINE);\n            [].slice.call(node.childNodes).forEach(function (child) {\n              // @ts-ignore\n              blot.domNode.appendChild(child);\n            });\n\n            if (node.parentNode) {\n              node.parentNode.replaceChild(blot.domNode, node);\n            }\n\n            blot.attach();\n          }\n        }\n\n        return blot;\n      }\n\n      exports.default = ContainerBlot;\n      /***/\n    },\n    /* 18 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var attributor_1 = __webpack_require__(12);\n\n      var store_1 = __webpack_require__(31);\n\n      var container_1 = __webpack_require__(17);\n\n      var Registry = __webpack_require__(1);\n\n      var FormatBlot =\n      /** @class */\n      function (_super) {\n        __extends(FormatBlot, _super);\n\n        function FormatBlot(domNode) {\n          var _this = _super.call(this, domNode) || this;\n\n          _this.attributes = new store_1.default(_this.domNode);\n          return _this;\n        }\n\n        FormatBlot.formats = function (domNode) {\n          if (typeof this.tagName === 'string') {\n            return true;\n          } else if (Array.isArray(this.tagName)) {\n            return domNode.tagName.toLowerCase();\n          }\n\n          return undefined;\n        };\n\n        FormatBlot.prototype.format = function (name, value) {\n          var format = Registry.query(name);\n\n          if (format instanceof attributor_1.default) {\n            this.attributes.attribute(format, value);\n          } else if (value) {\n            if (format != null && (name !== this.statics.blotName || this.formats()[name] !== value)) {\n              this.replaceWith(name, value);\n            }\n          }\n        };\n\n        FormatBlot.prototype.formats = function () {\n          var formats = this.attributes.values();\n          var format = this.statics.formats(this.domNode);\n\n          if (format != null) {\n            formats[this.statics.blotName] = format;\n          }\n\n          return formats;\n        };\n\n        FormatBlot.prototype.replaceWith = function (name, value) {\n          var replacement = _super.prototype.replaceWith.call(this, name, value);\n\n          this.attributes.copy(replacement);\n          return replacement;\n        };\n\n        FormatBlot.prototype.update = function (mutations, context) {\n          var _this = this;\n\n          _super.prototype.update.call(this, mutations, context);\n\n          if (mutations.some(function (mutation) {\n            return mutation.target === _this.domNode && mutation.type === 'attributes';\n          })) {\n            this.attributes.build();\n          }\n        };\n\n        FormatBlot.prototype.wrap = function (name, value) {\n          var wrapper = _super.prototype.wrap.call(this, name, value);\n\n          if (wrapper instanceof FormatBlot && wrapper.statics.scope === this.statics.scope) {\n            this.attributes.move(wrapper);\n          }\n\n          return wrapper;\n        };\n\n        return FormatBlot;\n      }(container_1.default);\n\n      exports.default = FormatBlot;\n      /***/\n    },\n    /* 19 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var shadow_1 = __webpack_require__(30);\n\n      var Registry = __webpack_require__(1);\n\n      var LeafBlot =\n      /** @class */\n      function (_super) {\n        __extends(LeafBlot, _super);\n\n        function LeafBlot() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        LeafBlot.value = function (domNode) {\n          return true;\n        };\n\n        LeafBlot.prototype.index = function (node, offset) {\n          if (this.domNode === node || this.domNode.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n            return Math.min(offset, 1);\n          }\n\n          return -1;\n        };\n\n        LeafBlot.prototype.position = function (index, inclusive) {\n          var offset = [].indexOf.call(this.parent.domNode.childNodes, this.domNode);\n          if (index > 0) offset += 1;\n          return [this.parent.domNode, offset];\n        };\n\n        LeafBlot.prototype.value = function () {\n          var _a;\n\n          return _a = {}, _a[this.statics.blotName] = this.statics.value(this.domNode) || true, _a;\n        };\n\n        LeafBlot.scope = Registry.Scope.INLINE_BLOT;\n        return LeafBlot;\n      }(shadow_1.default);\n\n      exports.default = LeafBlot;\n      /***/\n    },\n    /* 20 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var equal = __webpack_require__(11);\n\n      var extend = __webpack_require__(3);\n\n      var lib = {\n        attributes: {\n          compose: function compose(a, b, keepNull) {\n            if (typeof a !== 'object') a = {};\n            if (typeof b !== 'object') b = {};\n            var attributes = extend(true, {}, b);\n\n            if (!keepNull) {\n              attributes = Object.keys(attributes).reduce(function (copy, key) {\n                if (attributes[key] != null) {\n                  copy[key] = attributes[key];\n                }\n\n                return copy;\n              }, {});\n            }\n\n            for (var key in a) {\n              if (a[key] !== undefined && b[key] === undefined) {\n                attributes[key] = a[key];\n              }\n            }\n\n            return Object.keys(attributes).length > 0 ? attributes : undefined;\n          },\n          diff: function diff(a, b) {\n            if (typeof a !== 'object') a = {};\n            if (typeof b !== 'object') b = {};\n            var attributes = Object.keys(a).concat(Object.keys(b)).reduce(function (attributes, key) {\n              if (!equal(a[key], b[key])) {\n                attributes[key] = b[key] === undefined ? null : b[key];\n              }\n\n              return attributes;\n            }, {});\n            return Object.keys(attributes).length > 0 ? attributes : undefined;\n          },\n          transform: function transform(a, b, priority) {\n            if (typeof a !== 'object') return b;\n            if (typeof b !== 'object') return undefined;\n            if (!priority) return b; // b simply overwrites us without priority\n\n            var attributes = Object.keys(b).reduce(function (attributes, key) {\n              if (a[key] === undefined) attributes[key] = b[key]; // null is a valid value\n\n              return attributes;\n            }, {});\n            return Object.keys(attributes).length > 0 ? attributes : undefined;\n          }\n        },\n        iterator: function iterator(ops) {\n          return new Iterator(ops);\n        },\n        length: function length(op) {\n          if (typeof op['delete'] === 'number') {\n            return op['delete'];\n          } else if (typeof op.retain === 'number') {\n            return op.retain;\n          } else {\n            return typeof op.insert === 'string' ? op.insert.length : 1;\n          }\n        }\n      };\n\n      function Iterator(ops) {\n        this.ops = ops;\n        this.index = 0;\n        this.offset = 0;\n      }\n\n      ;\n\n      Iterator.prototype.hasNext = function () {\n        return this.peekLength() < Infinity;\n      };\n\n      Iterator.prototype.next = function (length) {\n        if (!length) length = Infinity;\n        var nextOp = this.ops[this.index];\n\n        if (nextOp) {\n          var offset = this.offset;\n          var opLength = lib.length(nextOp);\n\n          if (length >= opLength - offset) {\n            length = opLength - offset;\n            this.index += 1;\n            this.offset = 0;\n          } else {\n            this.offset += length;\n          }\n\n          if (typeof nextOp['delete'] === 'number') {\n            return {\n              'delete': length\n            };\n          } else {\n            var retOp = {};\n\n            if (nextOp.attributes) {\n              retOp.attributes = nextOp.attributes;\n            }\n\n            if (typeof nextOp.retain === 'number') {\n              retOp.retain = length;\n            } else if (typeof nextOp.insert === 'string') {\n              retOp.insert = nextOp.insert.substr(offset, length);\n            } else {\n              // offset should === 0, length should === 1\n              retOp.insert = nextOp.insert;\n            }\n\n            return retOp;\n          }\n        } else {\n          return {\n            retain: Infinity\n          };\n        }\n      };\n\n      Iterator.prototype.peek = function () {\n        return this.ops[this.index];\n      };\n\n      Iterator.prototype.peekLength = function () {\n        if (this.ops[this.index]) {\n          // Should never return 0 if our index is being managed correctly\n          return lib.length(this.ops[this.index]) - this.offset;\n        } else {\n          return Infinity;\n        }\n      };\n\n      Iterator.prototype.peekType = function () {\n        if (this.ops[this.index]) {\n          if (typeof this.ops[this.index]['delete'] === 'number') {\n            return 'delete';\n          } else if (typeof this.ops[this.index].retain === 'number') {\n            return 'retain';\n          } else {\n            return 'insert';\n          }\n        }\n\n        return 'retain';\n      };\n\n      Iterator.prototype.rest = function () {\n        if (!this.hasNext()) {\n          return [];\n        } else if (this.offset === 0) {\n          return this.ops.slice(this.index);\n        } else {\n          var offset = this.offset;\n          var index = this.index;\n          var next = this.next();\n          var rest = this.ops.slice(this.index);\n          this.offset = offset;\n          this.index = index;\n          return [next].concat(rest);\n        }\n      };\n\n      module.exports = lib;\n      /***/\n    },\n    /* 21 */\n\n    /***/\n    function (module, exports) {\n      var clone = function () {\n        'use strict';\n\n        function _instanceof(obj, type) {\n          return type != null && obj instanceof type;\n        }\n\n        var nativeMap;\n\n        try {\n          nativeMap = Map;\n        } catch (_) {\n          // maybe a reference error because no `Map`. Give it a dummy value that no\n          // value will ever be an instanceof.\n          nativeMap = function nativeMap() {};\n        }\n\n        var nativeSet;\n\n        try {\n          nativeSet = Set;\n        } catch (_) {\n          nativeSet = function nativeSet() {};\n        }\n\n        var nativePromise;\n\n        try {\n          nativePromise = Promise;\n        } catch (_) {\n          nativePromise = function nativePromise() {};\n        }\n        /**\n         * Clones (copies) an Object using deep copying.\n         *\n         * This function supports circular references by default, but if you are certain\n         * there are no circular references in your object, you can save some CPU time\n         * by calling clone(obj, false).\n         *\n         * Caution: if `circular` is false and `parent` contains circular references,\n         * your program may enter an infinite loop and crash.\n         *\n         * @param `parent` - the object to be cloned\n         * @param `circular` - set to true if the object to be cloned may contain\n         *    circular references. (optional - true by default)\n         * @param `depth` - set to a number if the object is only to be cloned to\n         *    a particular depth. (optional - defaults to Infinity)\n         * @param `prototype` - sets the prototype to be used when cloning an object.\n         *    (optional - defaults to parent prototype).\n         * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n         *    should be cloned as well. Non-enumerable properties on the prototype\n         *    chain will be ignored. (optional - false by default)\n        */\n\n\n        function clone(parent, circular, depth, prototype, includeNonEnumerable) {\n          if (typeof circular === 'object') {\n            depth = circular.depth;\n            prototype = circular.prototype;\n            includeNonEnumerable = circular.includeNonEnumerable;\n            circular = circular.circular;\n          } // maintain two arrays for circular references, where corresponding parents\n          // and children have the same index\n\n\n          var allParents = [];\n          var allChildren = [];\n          var useBuffer = typeof Buffer != 'undefined';\n          if (typeof circular == 'undefined') circular = true;\n          if (typeof depth == 'undefined') depth = Infinity; // recurse this function so we don't reset allParents and allChildren\n\n          function _clone(parent, depth) {\n            // cloning null always returns null\n            if (parent === null) return null;\n            if (depth === 0) return parent;\n            var child;\n            var proto;\n\n            if (typeof parent != 'object') {\n              return parent;\n            }\n\n            if (_instanceof(parent, nativeMap)) {\n              child = new nativeMap();\n            } else if (_instanceof(parent, nativeSet)) {\n              child = new nativeSet();\n            } else if (_instanceof(parent, nativePromise)) {\n              child = new nativePromise(function (resolve, reject) {\n                parent.then(function (value) {\n                  resolve(_clone(value, depth - 1));\n                }, function (err) {\n                  reject(_clone(err, depth - 1));\n                });\n              });\n            } else if (clone.__isArray(parent)) {\n              child = [];\n            } else if (clone.__isRegExp(parent)) {\n              child = new RegExp(parent.source, __getRegExpFlags(parent));\n              if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n            } else if (clone.__isDate(parent)) {\n              child = new Date(parent.getTime());\n            } else if (useBuffer && Buffer.isBuffer(parent)) {\n              if (Buffer.allocUnsafe) {\n                // Node.js >= 4.5.0\n                child = Buffer.allocUnsafe(parent.length);\n              } else {\n                // Older Node.js versions\n                child = new Buffer(parent.length);\n              }\n\n              parent.copy(child);\n              return child;\n            } else if (_instanceof(parent, Error)) {\n              child = Object.create(parent);\n            } else {\n              if (typeof prototype == 'undefined') {\n                proto = Object.getPrototypeOf(parent);\n                child = Object.create(proto);\n              } else {\n                child = Object.create(prototype);\n                proto = prototype;\n              }\n            }\n\n            if (circular) {\n              var index = allParents.indexOf(parent);\n\n              if (index != -1) {\n                return allChildren[index];\n              }\n\n              allParents.push(parent);\n              allChildren.push(child);\n            }\n\n            if (_instanceof(parent, nativeMap)) {\n              parent.forEach(function (value, key) {\n                var keyChild = _clone(key, depth - 1);\n\n                var valueChild = _clone(value, depth - 1);\n\n                child.set(keyChild, valueChild);\n              });\n            }\n\n            if (_instanceof(parent, nativeSet)) {\n              parent.forEach(function (value) {\n                var entryChild = _clone(value, depth - 1);\n\n                child.add(entryChild);\n              });\n            }\n\n            for (var i in parent) {\n              var attrs;\n\n              if (proto) {\n                attrs = Object.getOwnPropertyDescriptor(proto, i);\n              }\n\n              if (attrs && attrs.set == null) {\n                continue;\n              }\n\n              child[i] = _clone(parent[i], depth - 1);\n            }\n\n            if (Object.getOwnPropertySymbols) {\n              var symbols = Object.getOwnPropertySymbols(parent);\n\n              for (var i = 0; i < symbols.length; i++) {\n                // Don't need to worry about cloning a symbol because it is a primitive,\n                // like a number or string.\n                var symbol = symbols[i];\n                var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n\n                if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n                  continue;\n                }\n\n                child[symbol] = _clone(parent[symbol], depth - 1);\n\n                if (!descriptor.enumerable) {\n                  Object.defineProperty(child, symbol, {\n                    enumerable: false\n                  });\n                }\n              }\n            }\n\n            if (includeNonEnumerable) {\n              var allPropertyNames = Object.getOwnPropertyNames(parent);\n\n              for (var i = 0; i < allPropertyNames.length; i++) {\n                var propertyName = allPropertyNames[i];\n                var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n\n                if (descriptor && descriptor.enumerable) {\n                  continue;\n                }\n\n                child[propertyName] = _clone(parent[propertyName], depth - 1);\n                Object.defineProperty(child, propertyName, {\n                  enumerable: false\n                });\n              }\n            }\n\n            return child;\n          }\n\n          return _clone(parent, depth);\n        }\n        /**\n         * Simple flat clone using prototype, accepts only objects, usefull for property\n         * override on FLAT configuration object (no nested props).\n         *\n         * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n         * works.\n         */\n\n\n        clone.clonePrototype = function clonePrototype(parent) {\n          if (parent === null) return null;\n\n          var c = function c() {};\n\n          c.prototype = parent;\n          return new c();\n        }; // private utility functions\n\n\n        function __objToStr(o) {\n          return Object.prototype.toString.call(o);\n        }\n\n        clone.__objToStr = __objToStr;\n\n        function __isDate(o) {\n          return typeof o === 'object' && __objToStr(o) === '[object Date]';\n        }\n\n        clone.__isDate = __isDate;\n\n        function __isArray(o) {\n          return typeof o === 'object' && __objToStr(o) === '[object Array]';\n        }\n\n        clone.__isArray = __isArray;\n\n        function __isRegExp(o) {\n          return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n        }\n\n        clone.__isRegExp = __isRegExp;\n\n        function __getRegExpFlags(re) {\n          var flags = '';\n          if (re.global) flags += 'g';\n          if (re.ignoreCase) flags += 'i';\n          if (re.multiline) flags += 'm';\n          return flags;\n        }\n\n        clone.__getRegExpFlags = __getRegExpFlags;\n        return clone;\n      }();\n\n      if (typeof module === 'object' && module.exports) {\n        module.exports = clone;\n      }\n      /***/\n\n    },\n    /* 22 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _emitter = __webpack_require__(8);\n\n      var _emitter2 = _interopRequireDefault(_emitter);\n\n      var _block = __webpack_require__(4);\n\n      var _block2 = _interopRequireDefault(_block);\n\n      var _break = __webpack_require__(16);\n\n      var _break2 = _interopRequireDefault(_break);\n\n      var _code = __webpack_require__(13);\n\n      var _code2 = _interopRequireDefault(_code);\n\n      var _container = __webpack_require__(25);\n\n      var _container2 = _interopRequireDefault(_container);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      function isLine(blot) {\n        return blot instanceof _block2.default || blot instanceof _block.BlockEmbed;\n      }\n\n      var Scroll = function (_Parchment$Scroll) {\n        _inherits(Scroll, _Parchment$Scroll);\n\n        function Scroll(domNode, config) {\n          _classCallCheck(this, Scroll);\n\n          var _this = _possibleConstructorReturn(this, (Scroll.__proto__ || Object.getPrototypeOf(Scroll)).call(this, domNode));\n\n          _this.emitter = config.emitter;\n\n          if (Array.isArray(config.whitelist)) {\n            _this.whitelist = config.whitelist.reduce(function (whitelist, format) {\n              whitelist[format] = true;\n              return whitelist;\n            }, {});\n          } // Some reason fixes composition issues with character languages in Windows/Chrome, Safari\n\n\n          _this.domNode.addEventListener('DOMNodeInserted', function () {});\n\n          _this.optimize();\n\n          _this.enable();\n\n          return _this;\n        }\n\n        _createClass(Scroll, [{\n          key: 'batchStart',\n          value: function batchStart() {\n            this.batch = true;\n          }\n        }, {\n          key: 'batchEnd',\n          value: function batchEnd() {\n            this.batch = false;\n            this.optimize();\n          }\n        }, {\n          key: 'deleteAt',\n          value: function deleteAt(index, length) {\n            var _line = this.line(index),\n                _line2 = _slicedToArray(_line, 2),\n                first = _line2[0],\n                offset = _line2[1];\n\n            var _line3 = this.line(index + length),\n                _line4 = _slicedToArray(_line3, 1),\n                last = _line4[0];\n\n            _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'deleteAt', this).call(this, index, length);\n\n            if (last != null && first !== last && offset > 0) {\n              if (first instanceof _block.BlockEmbed || last instanceof _block.BlockEmbed) {\n                this.optimize();\n                return;\n              }\n\n              if (first instanceof _code2.default) {\n                var newlineIndex = first.newlineIndex(first.length(), true);\n\n                if (newlineIndex > -1) {\n                  first = first.split(newlineIndex + 1);\n\n                  if (first === last) {\n                    this.optimize();\n                    return;\n                  }\n                }\n              } else if (last instanceof _code2.default) {\n                var _newlineIndex = last.newlineIndex(0);\n\n                if (_newlineIndex > -1) {\n                  last.split(_newlineIndex + 1);\n                }\n              }\n\n              var ref = last.children.head instanceof _break2.default ? null : last.children.head;\n              first.moveChildren(last, ref);\n              first.remove();\n            }\n\n            this.optimize();\n          }\n        }, {\n          key: 'enable',\n          value: function enable() {\n            var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n            this.domNode.setAttribute('contenteditable', enabled);\n          }\n        }, {\n          key: 'formatAt',\n          value: function formatAt(index, length, format, value) {\n            if (this.whitelist != null && !this.whitelist[format]) return;\n\n            _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'formatAt', this).call(this, index, length, format, value);\n\n            this.optimize();\n          }\n        }, {\n          key: 'insertAt',\n          value: function insertAt(index, value, def) {\n            if (def != null && this.whitelist != null && !this.whitelist[value]) return;\n\n            if (index >= this.length()) {\n              if (def == null || _parchment2.default.query(value, _parchment2.default.Scope.BLOCK) == null) {\n                var blot = _parchment2.default.create(this.statics.defaultChild);\n\n                this.appendChild(blot);\n\n                if (def == null && value.endsWith('\\n')) {\n                  value = value.slice(0, -1);\n                }\n\n                blot.insertAt(0, value, def);\n              } else {\n                var embed = _parchment2.default.create(value, def);\n\n                this.appendChild(embed);\n              }\n            } else {\n              _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'insertAt', this).call(this, index, value, def);\n            }\n\n            this.optimize();\n          }\n        }, {\n          key: 'insertBefore',\n          value: function insertBefore(blot, ref) {\n            if (blot.statics.scope === _parchment2.default.Scope.INLINE_BLOT) {\n              var wrapper = _parchment2.default.create(this.statics.defaultChild);\n\n              wrapper.appendChild(blot);\n              blot = wrapper;\n            }\n\n            _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'insertBefore', this).call(this, blot, ref);\n          }\n        }, {\n          key: 'leaf',\n          value: function leaf(index) {\n            return this.path(index).pop() || [null, -1];\n          }\n        }, {\n          key: 'line',\n          value: function line(index) {\n            if (index === this.length()) {\n              return this.line(index - 1);\n            }\n\n            return this.descendant(isLine, index);\n          }\n        }, {\n          key: 'lines',\n          value: function lines() {\n            var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n            var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.MAX_VALUE;\n\n            var getLines = function getLines(blot, index, length) {\n              var lines = [],\n                  lengthLeft = length;\n              blot.children.forEachAt(index, length, function (child, index, length) {\n                if (isLine(child)) {\n                  lines.push(child);\n                } else if (child instanceof _parchment2.default.Container) {\n                  lines = lines.concat(getLines(child, index, lengthLeft));\n                }\n\n                lengthLeft -= length;\n              });\n              return lines;\n            };\n\n            return getLines(this, index, length);\n          }\n        }, {\n          key: 'optimize',\n          value: function optimize() {\n            var mutations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n            var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n            if (this.batch === true) return;\n\n            _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'optimize', this).call(this, mutations, context);\n\n            if (mutations.length > 0) {\n              this.emitter.emit(_emitter2.default.events.SCROLL_OPTIMIZE, mutations, context);\n            }\n          }\n        }, {\n          key: 'path',\n          value: function path(index) {\n            return _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'path', this).call(this, index).slice(1); // Exclude self\n          }\n        }, {\n          key: 'update',\n          value: function update(mutations) {\n            if (this.batch === true) return;\n            var source = _emitter2.default.sources.USER;\n\n            if (typeof mutations === 'string') {\n              source = mutations;\n            }\n\n            if (!Array.isArray(mutations)) {\n              mutations = this.observer.takeRecords();\n            }\n\n            if (mutations.length > 0) {\n              this.emitter.emit(_emitter2.default.events.SCROLL_BEFORE_UPDATE, source, mutations);\n            }\n\n            _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'update', this).call(this, mutations.concat([])); // pass copy\n\n\n            if (mutations.length > 0) {\n              this.emitter.emit(_emitter2.default.events.SCROLL_UPDATE, source, mutations);\n            }\n          }\n        }]);\n\n        return Scroll;\n      }(_parchment2.default.Scroll);\n\n      Scroll.blotName = 'scroll';\n      Scroll.className = 'ql-editor';\n      Scroll.tagName = 'DIV';\n      Scroll.defaultChild = 'block';\n      Scroll.allowedChildren = [_block2.default, _block.BlockEmbed, _container2.default];\n      exports.default = Scroll;\n      /***/\n    },\n    /* 23 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.SHORTKEY = exports.default = undefined;\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _clone = __webpack_require__(21);\n\n      var _clone2 = _interopRequireDefault(_clone);\n\n      var _deepEqual = __webpack_require__(11);\n\n      var _deepEqual2 = _interopRequireDefault(_deepEqual);\n\n      var _extend = __webpack_require__(3);\n\n      var _extend2 = _interopRequireDefault(_extend);\n\n      var _quillDelta = __webpack_require__(2);\n\n      var _quillDelta2 = _interopRequireDefault(_quillDelta);\n\n      var _op = __webpack_require__(20);\n\n      var _op2 = _interopRequireDefault(_op);\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _quill = __webpack_require__(5);\n\n      var _quill2 = _interopRequireDefault(_quill);\n\n      var _logger = __webpack_require__(10);\n\n      var _logger2 = _interopRequireDefault(_logger);\n\n      var _module = __webpack_require__(9);\n\n      var _module2 = _interopRequireDefault(_module);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var debug = (0, _logger2.default)('quill:keyboard');\n      var SHORTKEY = /Mac/i.test(navigator.platform) ? 'metaKey' : 'ctrlKey';\n\n      var Keyboard = function (_Module) {\n        _inherits(Keyboard, _Module);\n\n        _createClass(Keyboard, null, [{\n          key: 'match',\n          value: function match(evt, binding) {\n            binding = normalize(binding);\n\n            if (['altKey', 'ctrlKey', 'metaKey', 'shiftKey'].some(function (key) {\n              return !!binding[key] !== evt[key] && binding[key] !== null;\n            })) {\n              return false;\n            }\n\n            return binding.key === (evt.which || evt.keyCode);\n          }\n        }]);\n\n        function Keyboard(quill, options) {\n          _classCallCheck(this, Keyboard);\n\n          var _this = _possibleConstructorReturn(this, (Keyboard.__proto__ || Object.getPrototypeOf(Keyboard)).call(this, quill, options));\n\n          _this.bindings = {};\n          Object.keys(_this.options.bindings).forEach(function (name) {\n            if (name === 'list autofill' && quill.scroll.whitelist != null && !quill.scroll.whitelist['list']) {\n              return;\n            }\n\n            if (_this.options.bindings[name]) {\n              _this.addBinding(_this.options.bindings[name]);\n            }\n          });\n\n          _this.addBinding({\n            key: Keyboard.keys.ENTER,\n            shiftKey: null\n          }, handleEnter);\n\n          _this.addBinding({\n            key: Keyboard.keys.ENTER,\n            metaKey: null,\n            ctrlKey: null,\n            altKey: null\n          }, function () {});\n\n          if (/Firefox/i.test(navigator.userAgent)) {\n            // Need to handle delete and backspace for Firefox in the general case #1171\n            _this.addBinding({\n              key: Keyboard.keys.BACKSPACE\n            }, {\n              collapsed: true\n            }, handleBackspace);\n\n            _this.addBinding({\n              key: Keyboard.keys.DELETE\n            }, {\n              collapsed: true\n            }, handleDelete);\n          } else {\n            _this.addBinding({\n              key: Keyboard.keys.BACKSPACE\n            }, {\n              collapsed: true,\n              prefix: /^.?$/\n            }, handleBackspace);\n\n            _this.addBinding({\n              key: Keyboard.keys.DELETE\n            }, {\n              collapsed: true,\n              suffix: /^.?$/\n            }, handleDelete);\n          }\n\n          _this.addBinding({\n            key: Keyboard.keys.BACKSPACE\n          }, {\n            collapsed: false\n          }, handleDeleteRange);\n\n          _this.addBinding({\n            key: Keyboard.keys.DELETE\n          }, {\n            collapsed: false\n          }, handleDeleteRange);\n\n          _this.addBinding({\n            key: Keyboard.keys.BACKSPACE,\n            altKey: null,\n            ctrlKey: null,\n            metaKey: null,\n            shiftKey: null\n          }, {\n            collapsed: true,\n            offset: 0\n          }, handleBackspace);\n\n          _this.listen();\n\n          return _this;\n        }\n\n        _createClass(Keyboard, [{\n          key: 'addBinding',\n          value: function addBinding(key) {\n            var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n            var handler = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n            var binding = normalize(key);\n\n            if (binding == null || binding.key == null) {\n              return debug.warn('Attempted to add invalid keyboard binding', binding);\n            }\n\n            if (typeof context === 'function') {\n              context = {\n                handler: context\n              };\n            }\n\n            if (typeof handler === 'function') {\n              handler = {\n                handler: handler\n              };\n            }\n\n            binding = (0, _extend2.default)(binding, context, handler);\n            this.bindings[binding.key] = this.bindings[binding.key] || [];\n            this.bindings[binding.key].push(binding);\n          }\n        }, {\n          key: 'listen',\n          value: function listen() {\n            var _this2 = this;\n\n            this.quill.root.addEventListener('keydown', function (evt) {\n              if (evt.defaultPrevented) return;\n              var which = evt.which || evt.keyCode;\n              var bindings = (_this2.bindings[which] || []).filter(function (binding) {\n                return Keyboard.match(evt, binding);\n              });\n              if (bindings.length === 0) return;\n\n              var range = _this2.quill.getSelection();\n\n              if (range == null || !_this2.quill.hasFocus()) return;\n\n              var _quill$getLine = _this2.quill.getLine(range.index),\n                  _quill$getLine2 = _slicedToArray(_quill$getLine, 2),\n                  line = _quill$getLine2[0],\n                  offset = _quill$getLine2[1];\n\n              var _quill$getLeaf = _this2.quill.getLeaf(range.index),\n                  _quill$getLeaf2 = _slicedToArray(_quill$getLeaf, 2),\n                  leafStart = _quill$getLeaf2[0],\n                  offsetStart = _quill$getLeaf2[1];\n\n              var _ref = range.length === 0 ? [leafStart, offsetStart] : _this2.quill.getLeaf(range.index + range.length),\n                  _ref2 = _slicedToArray(_ref, 2),\n                  leafEnd = _ref2[0],\n                  offsetEnd = _ref2[1];\n\n              var prefixText = leafStart instanceof _parchment2.default.Text ? leafStart.value().slice(0, offsetStart) : '';\n              var suffixText = leafEnd instanceof _parchment2.default.Text ? leafEnd.value().slice(offsetEnd) : '';\n              var curContext = {\n                collapsed: range.length === 0,\n                empty: range.length === 0 && line.length() <= 1,\n                format: _this2.quill.getFormat(range),\n                offset: offset,\n                prefix: prefixText,\n                suffix: suffixText\n              };\n              var prevented = bindings.some(function (binding) {\n                if (binding.collapsed != null && binding.collapsed !== curContext.collapsed) return false;\n                if (binding.empty != null && binding.empty !== curContext.empty) return false;\n                if (binding.offset != null && binding.offset !== curContext.offset) return false;\n\n                if (Array.isArray(binding.format)) {\n                  // any format is present\n                  if (binding.format.every(function (name) {\n                    return curContext.format[name] == null;\n                  })) {\n                    return false;\n                  }\n                } else if (_typeof(binding.format) === 'object') {\n                  // all formats must match\n                  if (!Object.keys(binding.format).every(function (name) {\n                    if (binding.format[name] === true) return curContext.format[name] != null;\n                    if (binding.format[name] === false) return curContext.format[name] == null;\n                    return (0, _deepEqual2.default)(binding.format[name], curContext.format[name]);\n                  })) {\n                    return false;\n                  }\n                }\n\n                if (binding.prefix != null && !binding.prefix.test(curContext.prefix)) return false;\n                if (binding.suffix != null && !binding.suffix.test(curContext.suffix)) return false;\n                return binding.handler.call(_this2, range, curContext) !== true;\n              });\n\n              if (prevented) {\n                evt.preventDefault();\n              }\n            });\n          }\n        }]);\n\n        return Keyboard;\n      }(_module2.default);\n\n      Keyboard.keys = {\n        BACKSPACE: 8,\n        TAB: 9,\n        ENTER: 13,\n        ESCAPE: 27,\n        LEFT: 37,\n        UP: 38,\n        RIGHT: 39,\n        DOWN: 40,\n        DELETE: 46\n      };\n      Keyboard.DEFAULTS = {\n        bindings: {\n          'bold': makeFormatHandler('bold'),\n          'italic': makeFormatHandler('italic'),\n          'underline': makeFormatHandler('underline'),\n          'indent': {\n            // highlight tab or tab at beginning of list, indent or blockquote\n            key: Keyboard.keys.TAB,\n            format: ['blockquote', 'indent', 'list'],\n            handler: function handler(range, context) {\n              if (context.collapsed && context.offset !== 0) return true;\n              this.quill.format('indent', '+1', _quill2.default.sources.USER);\n            }\n          },\n          'outdent': {\n            key: Keyboard.keys.TAB,\n            shiftKey: true,\n            format: ['blockquote', 'indent', 'list'],\n            // highlight tab or tab at beginning of list, indent or blockquote\n            handler: function handler(range, context) {\n              if (context.collapsed && context.offset !== 0) return true;\n              this.quill.format('indent', '-1', _quill2.default.sources.USER);\n            }\n          },\n          'outdent backspace': {\n            key: Keyboard.keys.BACKSPACE,\n            collapsed: true,\n            shiftKey: null,\n            metaKey: null,\n            ctrlKey: null,\n            altKey: null,\n            format: ['indent', 'list'],\n            offset: 0,\n            handler: function handler(range, context) {\n              if (context.format.indent != null) {\n                this.quill.format('indent', '-1', _quill2.default.sources.USER);\n              } else if (context.format.list != null) {\n                this.quill.format('list', false, _quill2.default.sources.USER);\n              }\n            }\n          },\n          'indent code-block': makeCodeBlockHandler(true),\n          'outdent code-block': makeCodeBlockHandler(false),\n          'remove tab': {\n            key: Keyboard.keys.TAB,\n            shiftKey: true,\n            collapsed: true,\n            prefix: /\\t$/,\n            handler: function handler(range) {\n              this.quill.deleteText(range.index - 1, 1, _quill2.default.sources.USER);\n            }\n          },\n          'tab': {\n            key: Keyboard.keys.TAB,\n            handler: function handler(range) {\n              this.quill.history.cutoff();\n              var delta = new _quillDelta2.default().retain(range.index).delete(range.length).insert('\\t');\n              this.quill.updateContents(delta, _quill2.default.sources.USER);\n              this.quill.history.cutoff();\n              this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n            }\n          },\n          'list empty enter': {\n            key: Keyboard.keys.ENTER,\n            collapsed: true,\n            format: ['list'],\n            empty: true,\n            handler: function handler(range, context) {\n              this.quill.format('list', false, _quill2.default.sources.USER);\n\n              if (context.format.indent) {\n                this.quill.format('indent', false, _quill2.default.sources.USER);\n              }\n            }\n          },\n          'checklist enter': {\n            key: Keyboard.keys.ENTER,\n            collapsed: true,\n            format: {\n              list: 'checked'\n            },\n            handler: function handler(range) {\n              var _quill$getLine3 = this.quill.getLine(range.index),\n                  _quill$getLine4 = _slicedToArray(_quill$getLine3, 2),\n                  line = _quill$getLine4[0],\n                  offset = _quill$getLine4[1];\n\n              var formats = (0, _extend2.default)({}, line.formats(), {\n                list: 'checked'\n              });\n              var delta = new _quillDelta2.default().retain(range.index).insert('\\n', formats).retain(line.length() - offset - 1).retain(1, {\n                list: 'unchecked'\n              });\n              this.quill.updateContents(delta, _quill2.default.sources.USER);\n              this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n              this.quill.scrollIntoView();\n            }\n          },\n          'header enter': {\n            key: Keyboard.keys.ENTER,\n            collapsed: true,\n            format: ['header'],\n            suffix: /^$/,\n            handler: function handler(range, context) {\n              var _quill$getLine5 = this.quill.getLine(range.index),\n                  _quill$getLine6 = _slicedToArray(_quill$getLine5, 2),\n                  line = _quill$getLine6[0],\n                  offset = _quill$getLine6[1];\n\n              var delta = new _quillDelta2.default().retain(range.index).insert('\\n', context.format).retain(line.length() - offset - 1).retain(1, {\n                header: null\n              });\n              this.quill.updateContents(delta, _quill2.default.sources.USER);\n              this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n              this.quill.scrollIntoView();\n            }\n          },\n          'list autofill': {\n            key: ' ',\n            collapsed: true,\n            format: {\n              list: false\n            },\n            prefix: /^\\s*?(\\d+\\.|-|\\*|\\[ ?\\]|\\[x\\])$/,\n            handler: function handler(range, context) {\n              var length = context.prefix.length;\n\n              var _quill$getLine7 = this.quill.getLine(range.index),\n                  _quill$getLine8 = _slicedToArray(_quill$getLine7, 2),\n                  line = _quill$getLine8[0],\n                  offset = _quill$getLine8[1];\n\n              if (offset > length) return true;\n              var value = void 0;\n\n              switch (context.prefix.trim()) {\n                case '[]':\n                case '[ ]':\n                  value = 'unchecked';\n                  break;\n\n                case '[x]':\n                  value = 'checked';\n                  break;\n\n                case '-':\n                case '*':\n                  value = 'bullet';\n                  break;\n\n                default:\n                  value = 'ordered';\n              }\n\n              this.quill.insertText(range.index, ' ', _quill2.default.sources.USER);\n              this.quill.history.cutoff();\n              var delta = new _quillDelta2.default().retain(range.index - offset).delete(length + 1).retain(line.length() - 2 - offset).retain(1, {\n                list: value\n              });\n              this.quill.updateContents(delta, _quill2.default.sources.USER);\n              this.quill.history.cutoff();\n              this.quill.setSelection(range.index - length, _quill2.default.sources.SILENT);\n            }\n          },\n          'code exit': {\n            key: Keyboard.keys.ENTER,\n            collapsed: true,\n            format: ['code-block'],\n            prefix: /\\n\\n$/,\n            suffix: /^\\s+$/,\n            handler: function handler(range) {\n              var _quill$getLine9 = this.quill.getLine(range.index),\n                  _quill$getLine10 = _slicedToArray(_quill$getLine9, 2),\n                  line = _quill$getLine10[0],\n                  offset = _quill$getLine10[1];\n\n              var delta = new _quillDelta2.default().retain(range.index + line.length() - offset - 2).retain(1, {\n                'code-block': null\n              }).delete(1);\n              this.quill.updateContents(delta, _quill2.default.sources.USER);\n            }\n          },\n          'embed left': makeEmbedArrowHandler(Keyboard.keys.LEFT, false),\n          'embed left shift': makeEmbedArrowHandler(Keyboard.keys.LEFT, true),\n          'embed right': makeEmbedArrowHandler(Keyboard.keys.RIGHT, false),\n          'embed right shift': makeEmbedArrowHandler(Keyboard.keys.RIGHT, true)\n        }\n      };\n\n      function makeEmbedArrowHandler(key, shiftKey) {\n        var _ref3;\n\n        var where = key === Keyboard.keys.LEFT ? 'prefix' : 'suffix';\n        return _ref3 = {\n          key: key,\n          shiftKey: shiftKey,\n          altKey: null\n        }, _defineProperty(_ref3, where, /^$/), _defineProperty(_ref3, 'handler', function handler(range) {\n          var index = range.index;\n\n          if (key === Keyboard.keys.RIGHT) {\n            index += range.length + 1;\n          }\n\n          var _quill$getLeaf3 = this.quill.getLeaf(index),\n              _quill$getLeaf4 = _slicedToArray(_quill$getLeaf3, 1),\n              leaf = _quill$getLeaf4[0];\n\n          if (!(leaf instanceof _parchment2.default.Embed)) return true;\n\n          if (key === Keyboard.keys.LEFT) {\n            if (shiftKey) {\n              this.quill.setSelection(range.index - 1, range.length + 1, _quill2.default.sources.USER);\n            } else {\n              this.quill.setSelection(range.index - 1, _quill2.default.sources.USER);\n            }\n          } else {\n            if (shiftKey) {\n              this.quill.setSelection(range.index, range.length + 1, _quill2.default.sources.USER);\n            } else {\n              this.quill.setSelection(range.index + range.length + 1, _quill2.default.sources.USER);\n            }\n          }\n\n          return false;\n        }), _ref3;\n      }\n\n      function handleBackspace(range, context) {\n        if (range.index === 0 || this.quill.getLength() <= 1) return;\n\n        var _quill$getLine11 = this.quill.getLine(range.index),\n            _quill$getLine12 = _slicedToArray(_quill$getLine11, 1),\n            line = _quill$getLine12[0];\n\n        var formats = {};\n\n        if (context.offset === 0) {\n          var _quill$getLine13 = this.quill.getLine(range.index - 1),\n              _quill$getLine14 = _slicedToArray(_quill$getLine13, 1),\n              prev = _quill$getLine14[0];\n\n          if (prev != null && prev.length() > 1) {\n            var curFormats = line.formats();\n            var prevFormats = this.quill.getFormat(range.index - 1, 1);\n            formats = _op2.default.attributes.diff(curFormats, prevFormats) || {};\n          }\n        } // Check for astral symbols\n\n\n        var length = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]$/.test(context.prefix) ? 2 : 1;\n        this.quill.deleteText(range.index - length, length, _quill2.default.sources.USER);\n\n        if (Object.keys(formats).length > 0) {\n          this.quill.formatLine(range.index - length, length, formats, _quill2.default.sources.USER);\n        }\n\n        this.quill.focus();\n      }\n\n      function handleDelete(range, context) {\n        // Check for astral symbols\n        var length = /^[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/.test(context.suffix) ? 2 : 1;\n        if (range.index >= this.quill.getLength() - length) return;\n        var formats = {},\n            nextLength = 0;\n\n        var _quill$getLine15 = this.quill.getLine(range.index),\n            _quill$getLine16 = _slicedToArray(_quill$getLine15, 1),\n            line = _quill$getLine16[0];\n\n        if (context.offset >= line.length() - 1) {\n          var _quill$getLine17 = this.quill.getLine(range.index + 1),\n              _quill$getLine18 = _slicedToArray(_quill$getLine17, 1),\n              next = _quill$getLine18[0];\n\n          if (next) {\n            var curFormats = line.formats();\n            var nextFormats = this.quill.getFormat(range.index, 1);\n            formats = _op2.default.attributes.diff(curFormats, nextFormats) || {};\n            nextLength = next.length();\n          }\n        }\n\n        this.quill.deleteText(range.index, length, _quill2.default.sources.USER);\n\n        if (Object.keys(formats).length > 0) {\n          this.quill.formatLine(range.index + nextLength - 1, length, formats, _quill2.default.sources.USER);\n        }\n      }\n\n      function handleDeleteRange(range) {\n        var lines = this.quill.getLines(range);\n        var formats = {};\n\n        if (lines.length > 1) {\n          var firstFormats = lines[0].formats();\n          var lastFormats = lines[lines.length - 1].formats();\n          formats = _op2.default.attributes.diff(lastFormats, firstFormats) || {};\n        }\n\n        this.quill.deleteText(range, _quill2.default.sources.USER);\n\n        if (Object.keys(formats).length > 0) {\n          this.quill.formatLine(range.index, 1, formats, _quill2.default.sources.USER);\n        }\n\n        this.quill.setSelection(range.index, _quill2.default.sources.SILENT);\n        this.quill.focus();\n      }\n\n      function handleEnter(range, context) {\n        var _this3 = this;\n\n        if (range.length > 0) {\n          this.quill.scroll.deleteAt(range.index, range.length); // So we do not trigger text-change\n        }\n\n        var lineFormats = Object.keys(context.format).reduce(function (lineFormats, format) {\n          if (_parchment2.default.query(format, _parchment2.default.Scope.BLOCK) && !Array.isArray(context.format[format])) {\n            lineFormats[format] = context.format[format];\n          }\n\n          return lineFormats;\n        }, {});\n        this.quill.insertText(range.index, '\\n', lineFormats, _quill2.default.sources.USER); // Earlier scroll.deleteAt might have messed up our selection,\n        // so insertText's built in selection preservation is not reliable\n\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n        this.quill.focus();\n        Object.keys(context.format).forEach(function (name) {\n          if (lineFormats[name] != null) return;\n          if (Array.isArray(context.format[name])) return;\n          if (name === 'link') return;\n\n          _this3.quill.format(name, context.format[name], _quill2.default.sources.USER);\n        });\n      }\n\n      function makeCodeBlockHandler(indent) {\n        return {\n          key: Keyboard.keys.TAB,\n          shiftKey: !indent,\n          format: {\n            'code-block': true\n          },\n          handler: function handler(range) {\n            var CodeBlock = _parchment2.default.query('code-block');\n\n            var index = range.index,\n                length = range.length;\n\n            var _quill$scroll$descend = this.quill.scroll.descendant(CodeBlock, index),\n                _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2),\n                block = _quill$scroll$descend2[0],\n                offset = _quill$scroll$descend2[1];\n\n            if (block == null) return;\n            var scrollIndex = this.quill.getIndex(block);\n            var start = block.newlineIndex(offset, true) + 1;\n            var end = block.newlineIndex(scrollIndex + offset + length);\n            var lines = block.domNode.textContent.slice(start, end).split('\\n');\n            offset = 0;\n            lines.forEach(function (line, i) {\n              if (indent) {\n                block.insertAt(start + offset, CodeBlock.TAB);\n                offset += CodeBlock.TAB.length;\n\n                if (i === 0) {\n                  index += CodeBlock.TAB.length;\n                } else {\n                  length += CodeBlock.TAB.length;\n                }\n              } else if (line.startsWith(CodeBlock.TAB)) {\n                block.deleteAt(start + offset, CodeBlock.TAB.length);\n                offset -= CodeBlock.TAB.length;\n\n                if (i === 0) {\n                  index -= CodeBlock.TAB.length;\n                } else {\n                  length -= CodeBlock.TAB.length;\n                }\n              }\n\n              offset += line.length + 1;\n            });\n            this.quill.update(_quill2.default.sources.USER);\n            this.quill.setSelection(index, length, _quill2.default.sources.SILENT);\n          }\n        };\n      }\n\n      function makeFormatHandler(format) {\n        return {\n          key: format[0].toUpperCase(),\n          shortKey: true,\n          handler: function handler(range, context) {\n            this.quill.format(format, !context.format[format], _quill2.default.sources.USER);\n          }\n        };\n      }\n\n      function normalize(binding) {\n        if (typeof binding === 'string' || typeof binding === 'number') {\n          return normalize({\n            key: binding\n          });\n        }\n\n        if ((typeof binding === 'undefined' ? 'undefined' : _typeof(binding)) === 'object') {\n          binding = (0, _clone2.default)(binding, false);\n        }\n\n        if (typeof binding.key === 'string') {\n          if (Keyboard.keys[binding.key.toUpperCase()] != null) {\n            binding.key = Keyboard.keys[binding.key.toUpperCase()];\n          } else if (binding.key.length === 1) {\n            binding.key = binding.key.toUpperCase().charCodeAt(0);\n          } else {\n            return null;\n          }\n        }\n\n        if (binding.shortKey) {\n          binding[SHORTKEY] = binding.shortKey;\n          delete binding.shortKey;\n        }\n\n        return binding;\n      }\n\n      exports.default = Keyboard;\n      exports.SHORTKEY = SHORTKEY;\n      /***/\n    },\n    /* 24 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _text = __webpack_require__(7);\n\n      var _text2 = _interopRequireDefault(_text);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Cursor = function (_Parchment$Embed) {\n        _inherits(Cursor, _Parchment$Embed);\n\n        _createClass(Cursor, null, [{\n          key: 'value',\n          value: function value() {\n            return undefined;\n          }\n        }]);\n\n        function Cursor(domNode, selection) {\n          _classCallCheck(this, Cursor);\n\n          var _this = _possibleConstructorReturn(this, (Cursor.__proto__ || Object.getPrototypeOf(Cursor)).call(this, domNode));\n\n          _this.selection = selection;\n          _this.textNode = document.createTextNode(Cursor.CONTENTS);\n\n          _this.domNode.appendChild(_this.textNode);\n\n          _this._length = 0;\n          return _this;\n        }\n\n        _createClass(Cursor, [{\n          key: 'detach',\n          value: function detach() {\n            // super.detach() will also clear domNode.__blot\n            if (this.parent != null) this.parent.removeChild(this);\n          }\n        }, {\n          key: 'format',\n          value: function format(name, value) {\n            if (this._length !== 0) {\n              return _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'format', this).call(this, name, value);\n            }\n\n            var target = this,\n                index = 0;\n\n            while (target != null && target.statics.scope !== _parchment2.default.Scope.BLOCK_BLOT) {\n              index += target.offset(target.parent);\n              target = target.parent;\n            }\n\n            if (target != null) {\n              this._length = Cursor.CONTENTS.length;\n              target.optimize();\n              target.formatAt(index, Cursor.CONTENTS.length, name, value);\n              this._length = 0;\n            }\n          }\n        }, {\n          key: 'index',\n          value: function index(node, offset) {\n            if (node === this.textNode) return 0;\n            return _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'index', this).call(this, node, offset);\n          }\n        }, {\n          key: 'length',\n          value: function length() {\n            return this._length;\n          }\n        }, {\n          key: 'position',\n          value: function position() {\n            return [this.textNode, this.textNode.data.length];\n          }\n        }, {\n          key: 'remove',\n          value: function remove() {\n            _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'remove', this).call(this);\n\n            this.parent = null;\n          }\n        }, {\n          key: 'restore',\n          value: function restore() {\n            if (this.selection.composing || this.parent == null) return;\n            var textNode = this.textNode;\n            var range = this.selection.getNativeRange();\n            var restoreText = void 0,\n                start = void 0,\n                end = void 0;\n\n            if (range != null && range.start.node === textNode && range.end.node === textNode) {\n              var _ref = [textNode, range.start.offset, range.end.offset];\n              restoreText = _ref[0];\n              start = _ref[1];\n              end = _ref[2];\n            } // Link format will insert text outside of anchor tag\n\n\n            while (this.domNode.lastChild != null && this.domNode.lastChild !== this.textNode) {\n              this.domNode.parentNode.insertBefore(this.domNode.lastChild, this.domNode);\n            }\n\n            if (this.textNode.data !== Cursor.CONTENTS) {\n              var text = this.textNode.data.split(Cursor.CONTENTS).join('');\n\n              if (this.next instanceof _text2.default) {\n                restoreText = this.next.domNode;\n                this.next.insertAt(0, text);\n                this.textNode.data = Cursor.CONTENTS;\n              } else {\n                this.textNode.data = text;\n                this.parent.insertBefore(_parchment2.default.create(this.textNode), this);\n                this.textNode = document.createTextNode(Cursor.CONTENTS);\n                this.domNode.appendChild(this.textNode);\n              }\n            }\n\n            this.remove();\n\n            if (start != null) {\n              var _map = [start, end].map(function (offset) {\n                return Math.max(0, Math.min(restoreText.data.length, offset - 1));\n              });\n\n              var _map2 = _slicedToArray(_map, 2);\n\n              start = _map2[0];\n              end = _map2[1];\n              return {\n                startNode: restoreText,\n                startOffset: start,\n                endNode: restoreText,\n                endOffset: end\n              };\n            }\n          }\n        }, {\n          key: 'update',\n          value: function update(mutations, context) {\n            var _this2 = this;\n\n            if (mutations.some(function (mutation) {\n              return mutation.type === 'characterData' && mutation.target === _this2.textNode;\n            })) {\n              var range = this.restore();\n              if (range) context.range = range;\n            }\n          }\n        }, {\n          key: 'value',\n          value: function value() {\n            return '';\n          }\n        }]);\n\n        return Cursor;\n      }(_parchment2.default.Embed);\n\n      Cursor.blotName = 'cursor';\n      Cursor.className = 'ql-cursor';\n      Cursor.tagName = 'span';\n      Cursor.CONTENTS = \"\\uFEFF\"; // Zero width no break space\n\n      exports.default = Cursor;\n      /***/\n    },\n    /* 25 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _block = __webpack_require__(4);\n\n      var _block2 = _interopRequireDefault(_block);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Container = function (_Parchment$Container) {\n        _inherits(Container, _Parchment$Container);\n\n        function Container() {\n          _classCallCheck(this, Container);\n\n          return _possibleConstructorReturn(this, (Container.__proto__ || Object.getPrototypeOf(Container)).apply(this, arguments));\n        }\n\n        return Container;\n      }(_parchment2.default.Container);\n\n      Container.allowedChildren = [_block2.default, _block.BlockEmbed, Container];\n      exports.default = Container;\n      /***/\n    },\n    /* 26 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ColorStyle = exports.ColorClass = exports.ColorAttributor = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var ColorAttributor = function (_Parchment$Attributor) {\n        _inherits(ColorAttributor, _Parchment$Attributor);\n\n        function ColorAttributor() {\n          _classCallCheck(this, ColorAttributor);\n\n          return _possibleConstructorReturn(this, (ColorAttributor.__proto__ || Object.getPrototypeOf(ColorAttributor)).apply(this, arguments));\n        }\n\n        _createClass(ColorAttributor, [{\n          key: 'value',\n          value: function value(domNode) {\n            var value = _get(ColorAttributor.prototype.__proto__ || Object.getPrototypeOf(ColorAttributor.prototype), 'value', this).call(this, domNode);\n\n            if (!value.startsWith('rgb(')) return value;\n            value = value.replace(/^[^\\d]+/, '').replace(/[^\\d]+$/, '');\n            return '#' + value.split(',').map(function (component) {\n              return ('00' + parseInt(component).toString(16)).slice(-2);\n            }).join('');\n          }\n        }]);\n\n        return ColorAttributor;\n      }(_parchment2.default.Attributor.Style);\n\n      var ColorClass = new _parchment2.default.Attributor.Class('color', 'ql-color', {\n        scope: _parchment2.default.Scope.INLINE\n      });\n      var ColorStyle = new ColorAttributor('color', 'color', {\n        scope: _parchment2.default.Scope.INLINE\n      });\n      exports.ColorAttributor = ColorAttributor;\n      exports.ColorClass = ColorClass;\n      exports.ColorStyle = ColorStyle;\n      /***/\n    },\n    /* 27 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.sanitize = exports.default = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _inline = __webpack_require__(6);\n\n      var _inline2 = _interopRequireDefault(_inline);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Link = function (_Inline) {\n        _inherits(Link, _Inline);\n\n        function Link() {\n          _classCallCheck(this, Link);\n\n          return _possibleConstructorReturn(this, (Link.__proto__ || Object.getPrototypeOf(Link)).apply(this, arguments));\n        }\n\n        _createClass(Link, [{\n          key: 'format',\n          value: function format(name, value) {\n            if (name !== this.statics.blotName || !value) return _get(Link.prototype.__proto__ || Object.getPrototypeOf(Link.prototype), 'format', this).call(this, name, value);\n            value = this.constructor.sanitize(value);\n            this.domNode.setAttribute('href', value);\n          }\n        }], [{\n          key: 'create',\n          value: function create(value) {\n            var node = _get(Link.__proto__ || Object.getPrototypeOf(Link), 'create', this).call(this, value);\n\n            value = this.sanitize(value);\n            node.setAttribute('href', value);\n            node.setAttribute('rel', 'noopener noreferrer');\n            node.setAttribute('target', '_blank');\n            return node;\n          }\n        }, {\n          key: 'formats',\n          value: function formats(domNode) {\n            return domNode.getAttribute('href');\n          }\n        }, {\n          key: 'sanitize',\n          value: function sanitize(url) {\n            return _sanitize(url, this.PROTOCOL_WHITELIST) ? url : this.SANITIZED_URL;\n          }\n        }]);\n\n        return Link;\n      }(_inline2.default);\n\n      Link.blotName = 'link';\n      Link.tagName = 'A';\n      Link.SANITIZED_URL = 'about:blank';\n      Link.PROTOCOL_WHITELIST = ['http', 'https', 'mailto', 'tel'];\n\n      function _sanitize(url, protocols) {\n        var anchor = document.createElement('a');\n        anchor.href = url;\n        var protocol = anchor.href.slice(0, anchor.href.indexOf(':'));\n        return protocols.indexOf(protocol) > -1;\n      }\n\n      exports.default = Link;\n      exports.sanitize = _sanitize;\n      /***/\n    },\n    /* 28 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _keyboard = __webpack_require__(23);\n\n      var _keyboard2 = _interopRequireDefault(_keyboard);\n\n      var _dropdown = __webpack_require__(107);\n\n      var _dropdown2 = _interopRequireDefault(_dropdown);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var optionsCounter = 0;\n\n      function toggleAriaAttribute(element, attribute) {\n        element.setAttribute(attribute, !(element.getAttribute(attribute) === 'true'));\n      }\n\n      var Picker = function () {\n        function Picker(select) {\n          var _this = this;\n\n          _classCallCheck(this, Picker);\n\n          this.select = select;\n          this.container = document.createElement('span');\n          this.buildPicker();\n          this.select.style.display = 'none';\n          this.select.parentNode.insertBefore(this.container, this.select);\n          this.label.addEventListener('mousedown', function () {\n            _this.togglePicker();\n          });\n          this.label.addEventListener('keydown', function (event) {\n            switch (event.keyCode) {\n              // Allows the \"Enter\" key to open the picker\n              case _keyboard2.default.keys.ENTER:\n                _this.togglePicker();\n\n                break;\n              // Allows the \"Escape\" key to close the picker\n\n              case _keyboard2.default.keys.ESCAPE:\n                _this.escape();\n\n                event.preventDefault();\n                break;\n\n              default:\n            }\n          });\n          this.select.addEventListener('change', this.update.bind(this));\n        }\n\n        _createClass(Picker, [{\n          key: 'togglePicker',\n          value: function togglePicker() {\n            this.container.classList.toggle('ql-expanded'); // Toggle aria-expanded and aria-hidden to make the picker accessible\n\n            toggleAriaAttribute(this.label, 'aria-expanded');\n            toggleAriaAttribute(this.options, 'aria-hidden');\n          }\n        }, {\n          key: 'buildItem',\n          value: function buildItem(option) {\n            var _this2 = this;\n\n            var item = document.createElement('span');\n            item.tabIndex = '0';\n            item.setAttribute('role', 'button');\n            item.classList.add('ql-picker-item');\n\n            if (option.hasAttribute('value')) {\n              item.setAttribute('data-value', option.getAttribute('value'));\n            }\n\n            if (option.textContent) {\n              item.setAttribute('data-label', option.textContent);\n            }\n\n            item.addEventListener('click', function () {\n              _this2.selectItem(item, true);\n            });\n            item.addEventListener('keydown', function (event) {\n              switch (event.keyCode) {\n                // Allows the \"Enter\" key to select an item\n                case _keyboard2.default.keys.ENTER:\n                  _this2.selectItem(item, true);\n\n                  event.preventDefault();\n                  break;\n                // Allows the \"Escape\" key to close the picker\n\n                case _keyboard2.default.keys.ESCAPE:\n                  _this2.escape();\n\n                  event.preventDefault();\n                  break;\n\n                default:\n              }\n            });\n            return item;\n          }\n        }, {\n          key: 'buildLabel',\n          value: function buildLabel() {\n            var label = document.createElement('span');\n            label.classList.add('ql-picker-label');\n            label.innerHTML = _dropdown2.default;\n            label.tabIndex = '0';\n            label.setAttribute('role', 'button');\n            label.setAttribute('aria-expanded', 'false');\n            this.container.appendChild(label);\n            return label;\n          }\n        }, {\n          key: 'buildOptions',\n          value: function buildOptions() {\n            var _this3 = this;\n\n            var options = document.createElement('span');\n            options.classList.add('ql-picker-options'); // Don't want screen readers to read this until options are visible\n\n            options.setAttribute('aria-hidden', 'true');\n            options.tabIndex = '-1'; // Need a unique id for aria-controls\n\n            options.id = 'ql-picker-options-' + optionsCounter;\n            optionsCounter += 1;\n            this.label.setAttribute('aria-controls', options.id);\n            this.options = options;\n            [].slice.call(this.select.options).forEach(function (option) {\n              var item = _this3.buildItem(option);\n\n              options.appendChild(item);\n\n              if (option.selected === true) {\n                _this3.selectItem(item);\n              }\n            });\n            this.container.appendChild(options);\n          }\n        }, {\n          key: 'buildPicker',\n          value: function buildPicker() {\n            var _this4 = this;\n\n            [].slice.call(this.select.attributes).forEach(function (item) {\n              _this4.container.setAttribute(item.name, item.value);\n            });\n            this.container.classList.add('ql-picker');\n            this.label = this.buildLabel();\n            this.buildOptions();\n          }\n        }, {\n          key: 'escape',\n          value: function escape() {\n            var _this5 = this; // Close menu and return focus to trigger label\n\n\n            this.close(); // Need setTimeout for accessibility to ensure that the browser executes\n            // focus on the next process thread and after any DOM content changes\n\n            setTimeout(function () {\n              return _this5.label.focus();\n            }, 1);\n          }\n        }, {\n          key: 'close',\n          value: function close() {\n            this.container.classList.remove('ql-expanded');\n            this.label.setAttribute('aria-expanded', 'false');\n            this.options.setAttribute('aria-hidden', 'true');\n          }\n        }, {\n          key: 'selectItem',\n          value: function selectItem(item) {\n            var trigger = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n            var selected = this.container.querySelector('.ql-selected');\n            if (item === selected) return;\n\n            if (selected != null) {\n              selected.classList.remove('ql-selected');\n            }\n\n            if (item == null) return;\n            item.classList.add('ql-selected');\n            this.select.selectedIndex = [].indexOf.call(item.parentNode.children, item);\n\n            if (item.hasAttribute('data-value')) {\n              this.label.setAttribute('data-value', item.getAttribute('data-value'));\n            } else {\n              this.label.removeAttribute('data-value');\n            }\n\n            if (item.hasAttribute('data-label')) {\n              this.label.setAttribute('data-label', item.getAttribute('data-label'));\n            } else {\n              this.label.removeAttribute('data-label');\n            }\n\n            if (trigger) {\n              if (typeof Event === 'function') {\n                this.select.dispatchEvent(new Event('change'));\n              } else if ((typeof Event === 'undefined' ? 'undefined' : _typeof(Event)) === 'object') {\n                // IE11\n                var event = document.createEvent('Event');\n                event.initEvent('change', true, true);\n                this.select.dispatchEvent(event);\n              }\n\n              this.close();\n            }\n          }\n        }, {\n          key: 'update',\n          value: function update() {\n            var option = void 0;\n\n            if (this.select.selectedIndex > -1) {\n              var item = this.container.querySelector('.ql-picker-options').children[this.select.selectedIndex];\n              option = this.select.options[this.select.selectedIndex];\n              this.selectItem(item);\n            } else {\n              this.selectItem(null);\n            }\n\n            var isActive = option != null && option !== this.select.querySelector('option[selected]');\n            this.label.classList.toggle('ql-active', isActive);\n          }\n        }]);\n\n        return Picker;\n      }();\n\n      exports.default = Picker;\n      /***/\n    },\n    /* 29 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _quill = __webpack_require__(5);\n\n      var _quill2 = _interopRequireDefault(_quill);\n\n      var _block = __webpack_require__(4);\n\n      var _block2 = _interopRequireDefault(_block);\n\n      var _break = __webpack_require__(16);\n\n      var _break2 = _interopRequireDefault(_break);\n\n      var _container = __webpack_require__(25);\n\n      var _container2 = _interopRequireDefault(_container);\n\n      var _cursor = __webpack_require__(24);\n\n      var _cursor2 = _interopRequireDefault(_cursor);\n\n      var _embed = __webpack_require__(35);\n\n      var _embed2 = _interopRequireDefault(_embed);\n\n      var _inline = __webpack_require__(6);\n\n      var _inline2 = _interopRequireDefault(_inline);\n\n      var _scroll = __webpack_require__(22);\n\n      var _scroll2 = _interopRequireDefault(_scroll);\n\n      var _text = __webpack_require__(7);\n\n      var _text2 = _interopRequireDefault(_text);\n\n      var _clipboard = __webpack_require__(55);\n\n      var _clipboard2 = _interopRequireDefault(_clipboard);\n\n      var _history = __webpack_require__(42);\n\n      var _history2 = _interopRequireDefault(_history);\n\n      var _keyboard = __webpack_require__(23);\n\n      var _keyboard2 = _interopRequireDefault(_keyboard);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      _quill2.default.register({\n        'blots/block': _block2.default,\n        'blots/block/embed': _block.BlockEmbed,\n        'blots/break': _break2.default,\n        'blots/container': _container2.default,\n        'blots/cursor': _cursor2.default,\n        'blots/embed': _embed2.default,\n        'blots/inline': _inline2.default,\n        'blots/scroll': _scroll2.default,\n        'blots/text': _text2.default,\n        'modules/clipboard': _clipboard2.default,\n        'modules/history': _history2.default,\n        'modules/keyboard': _keyboard2.default\n      });\n\n      _parchment2.default.register(_block2.default, _break2.default, _cursor2.default, _inline2.default, _scroll2.default, _text2.default);\n\n      exports.default = _quill2.default;\n      /***/\n    },\n    /* 30 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Registry = __webpack_require__(1);\n\n      var ShadowBlot =\n      /** @class */\n      function () {\n        function ShadowBlot(domNode) {\n          this.domNode = domNode; // @ts-ignore\n\n          this.domNode[Registry.DATA_KEY] = {\n            blot: this\n          };\n        }\n\n        Object.defineProperty(ShadowBlot.prototype, \"statics\", {\n          // Hack for accessing inherited static methods\n          get: function get() {\n            return this.constructor;\n          },\n          enumerable: true,\n          configurable: true\n        });\n\n        ShadowBlot.create = function (value) {\n          if (this.tagName == null) {\n            throw new Registry.ParchmentError('Blot definition missing tagName');\n          }\n\n          var node;\n\n          if (Array.isArray(this.tagName)) {\n            if (typeof value === 'string') {\n              value = value.toUpperCase();\n\n              if (parseInt(value).toString() === value) {\n                value = parseInt(value);\n              }\n            }\n\n            if (typeof value === 'number') {\n              node = document.createElement(this.tagName[value - 1]);\n            } else if (this.tagName.indexOf(value) > -1) {\n              node = document.createElement(value);\n            } else {\n              node = document.createElement(this.tagName[0]);\n            }\n          } else {\n            node = document.createElement(this.tagName);\n          }\n\n          if (this.className) {\n            node.classList.add(this.className);\n          }\n\n          return node;\n        };\n\n        ShadowBlot.prototype.attach = function () {\n          if (this.parent != null) {\n            this.scroll = this.parent.scroll;\n          }\n        };\n\n        ShadowBlot.prototype.clone = function () {\n          var domNode = this.domNode.cloneNode(false);\n          return Registry.create(domNode);\n        };\n\n        ShadowBlot.prototype.detach = function () {\n          if (this.parent != null) this.parent.removeChild(this); // @ts-ignore\n\n          delete this.domNode[Registry.DATA_KEY];\n        };\n\n        ShadowBlot.prototype.deleteAt = function (index, length) {\n          var blot = this.isolate(index, length);\n          blot.remove();\n        };\n\n        ShadowBlot.prototype.formatAt = function (index, length, name, value) {\n          var blot = this.isolate(index, length);\n\n          if (Registry.query(name, Registry.Scope.BLOT) != null && value) {\n            blot.wrap(name, value);\n          } else if (Registry.query(name, Registry.Scope.ATTRIBUTE) != null) {\n            var parent = Registry.create(this.statics.scope);\n            blot.wrap(parent);\n            parent.format(name, value);\n          }\n        };\n\n        ShadowBlot.prototype.insertAt = function (index, value, def) {\n          var blot = def == null ? Registry.create('text', value) : Registry.create(value, def);\n          var ref = this.split(index);\n          this.parent.insertBefore(blot, ref);\n        };\n\n        ShadowBlot.prototype.insertInto = function (parentBlot, refBlot) {\n          if (refBlot === void 0) {\n            refBlot = null;\n          }\n\n          if (this.parent != null) {\n            this.parent.children.remove(this);\n          }\n\n          var refDomNode = null;\n          parentBlot.children.insertBefore(this, refBlot);\n\n          if (refBlot != null) {\n            refDomNode = refBlot.domNode;\n          }\n\n          if (this.domNode.parentNode != parentBlot.domNode || this.domNode.nextSibling != refDomNode) {\n            parentBlot.domNode.insertBefore(this.domNode, refDomNode);\n          }\n\n          this.parent = parentBlot;\n          this.attach();\n        };\n\n        ShadowBlot.prototype.isolate = function (index, length) {\n          var target = this.split(index);\n          target.split(length);\n          return target;\n        };\n\n        ShadowBlot.prototype.length = function () {\n          return 1;\n        };\n\n        ShadowBlot.prototype.offset = function (root) {\n          if (root === void 0) {\n            root = this.parent;\n          }\n\n          if (this.parent == null || this == root) return 0;\n          return this.parent.children.offset(this) + this.parent.offset(root);\n        };\n\n        ShadowBlot.prototype.optimize = function (context) {\n          // TODO clean up once we use WeakMap\n          // @ts-ignore\n          if (this.domNode[Registry.DATA_KEY] != null) {\n            // @ts-ignore\n            delete this.domNode[Registry.DATA_KEY].mutations;\n          }\n        };\n\n        ShadowBlot.prototype.remove = function () {\n          if (this.domNode.parentNode != null) {\n            this.domNode.parentNode.removeChild(this.domNode);\n          }\n\n          this.detach();\n        };\n\n        ShadowBlot.prototype.replace = function (target) {\n          if (target.parent == null) return;\n          target.parent.insertBefore(this, target.next);\n          target.remove();\n        };\n\n        ShadowBlot.prototype.replaceWith = function (name, value) {\n          var replacement = typeof name === 'string' ? Registry.create(name, value) : name;\n          replacement.replace(this);\n          return replacement;\n        };\n\n        ShadowBlot.prototype.split = function (index, force) {\n          return index === 0 ? this : this.next;\n        };\n\n        ShadowBlot.prototype.update = function (mutations, context) {// Nothing to do by default\n        };\n\n        ShadowBlot.prototype.wrap = function (name, value) {\n          var wrapper = typeof name === 'string' ? Registry.create(name, value) : name;\n\n          if (this.parent != null) {\n            this.parent.insertBefore(wrapper, this.next);\n          }\n\n          wrapper.appendChild(this);\n          return wrapper;\n        };\n\n        ShadowBlot.blotName = 'abstract';\n        return ShadowBlot;\n      }();\n\n      exports.default = ShadowBlot;\n      /***/\n    },\n    /* 31 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var attributor_1 = __webpack_require__(12);\n\n      var class_1 = __webpack_require__(32);\n\n      var style_1 = __webpack_require__(33);\n\n      var Registry = __webpack_require__(1);\n\n      var AttributorStore =\n      /** @class */\n      function () {\n        function AttributorStore(domNode) {\n          this.attributes = {};\n          this.domNode = domNode;\n          this.build();\n        }\n\n        AttributorStore.prototype.attribute = function (attribute, value) {\n          // verb\n          if (value) {\n            if (attribute.add(this.domNode, value)) {\n              if (attribute.value(this.domNode) != null) {\n                this.attributes[attribute.attrName] = attribute;\n              } else {\n                delete this.attributes[attribute.attrName];\n              }\n            }\n          } else {\n            attribute.remove(this.domNode);\n            delete this.attributes[attribute.attrName];\n          }\n        };\n\n        AttributorStore.prototype.build = function () {\n          var _this = this;\n\n          this.attributes = {};\n          var attributes = attributor_1.default.keys(this.domNode);\n          var classes = class_1.default.keys(this.domNode);\n          var styles = style_1.default.keys(this.domNode);\n          attributes.concat(classes).concat(styles).forEach(function (name) {\n            var attr = Registry.query(name, Registry.Scope.ATTRIBUTE);\n\n            if (attr instanceof attributor_1.default) {\n              _this.attributes[attr.attrName] = attr;\n            }\n          });\n        };\n\n        AttributorStore.prototype.copy = function (target) {\n          var _this = this;\n\n          Object.keys(this.attributes).forEach(function (key) {\n            var value = _this.attributes[key].value(_this.domNode);\n\n            target.format(key, value);\n          });\n        };\n\n        AttributorStore.prototype.move = function (target) {\n          var _this = this;\n\n          this.copy(target);\n          Object.keys(this.attributes).forEach(function (key) {\n            _this.attributes[key].remove(_this.domNode);\n          });\n          this.attributes = {};\n        };\n\n        AttributorStore.prototype.values = function () {\n          var _this = this;\n\n          return Object.keys(this.attributes).reduce(function (attributes, name) {\n            attributes[name] = _this.attributes[name].value(_this.domNode);\n            return attributes;\n          }, {});\n        };\n\n        return AttributorStore;\n      }();\n\n      exports.default = AttributorStore;\n      /***/\n    },\n    /* 32 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var attributor_1 = __webpack_require__(12);\n\n      function match(node, prefix) {\n        var className = node.getAttribute('class') || '';\n        return className.split(/\\s+/).filter(function (name) {\n          return name.indexOf(prefix + \"-\") === 0;\n        });\n      }\n\n      var ClassAttributor =\n      /** @class */\n      function (_super) {\n        __extends(ClassAttributor, _super);\n\n        function ClassAttributor() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ClassAttributor.keys = function (node) {\n          return (node.getAttribute('class') || '').split(/\\s+/).map(function (name) {\n            return name.split('-').slice(0, -1).join('-');\n          });\n        };\n\n        ClassAttributor.prototype.add = function (node, value) {\n          if (!this.canAdd(node, value)) return false;\n          this.remove(node);\n          node.classList.add(this.keyName + \"-\" + value);\n          return true;\n        };\n\n        ClassAttributor.prototype.remove = function (node) {\n          var matches = match(node, this.keyName);\n          matches.forEach(function (name) {\n            node.classList.remove(name);\n          });\n\n          if (node.classList.length === 0) {\n            node.removeAttribute('class');\n          }\n        };\n\n        ClassAttributor.prototype.value = function (node) {\n          var result = match(node, this.keyName)[0] || '';\n          var value = result.slice(this.keyName.length + 1); // +1 for hyphen\n\n          return this.canAdd(node, value) ? value : '';\n        };\n\n        return ClassAttributor;\n      }(attributor_1.default);\n\n      exports.default = ClassAttributor;\n      /***/\n    },\n    /* 33 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var attributor_1 = __webpack_require__(12);\n\n      function camelize(name) {\n        var parts = name.split('-');\n        var rest = parts.slice(1).map(function (part) {\n          return part[0].toUpperCase() + part.slice(1);\n        }).join('');\n        return parts[0] + rest;\n      }\n\n      var StyleAttributor =\n      /** @class */\n      function (_super) {\n        __extends(StyleAttributor, _super);\n\n        function StyleAttributor() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        StyleAttributor.keys = function (node) {\n          return (node.getAttribute('style') || '').split(';').map(function (value) {\n            var arr = value.split(':');\n            return arr[0].trim();\n          });\n        };\n\n        StyleAttributor.prototype.add = function (node, value) {\n          if (!this.canAdd(node, value)) return false; // @ts-ignore\n\n          node.style[camelize(this.keyName)] = value;\n          return true;\n        };\n\n        StyleAttributor.prototype.remove = function (node) {\n          // @ts-ignore\n          node.style[camelize(this.keyName)] = '';\n\n          if (!node.getAttribute('style')) {\n            node.removeAttribute('style');\n          }\n        };\n\n        StyleAttributor.prototype.value = function (node) {\n          // @ts-ignore\n          var value = node.style[camelize(this.keyName)];\n          return this.canAdd(node, value) ? value : '';\n        };\n\n        return StyleAttributor;\n      }(attributor_1.default);\n\n      exports.default = StyleAttributor;\n      /***/\n    },\n    /* 34 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var Theme = function () {\n        function Theme(quill, options) {\n          _classCallCheck(this, Theme);\n\n          this.quill = quill;\n          this.options = options;\n          this.modules = {};\n        }\n\n        _createClass(Theme, [{\n          key: 'init',\n          value: function init() {\n            var _this = this;\n\n            Object.keys(this.options.modules).forEach(function (name) {\n              if (_this.modules[name] == null) {\n                _this.addModule(name);\n              }\n            });\n          }\n        }, {\n          key: 'addModule',\n          value: function addModule(name) {\n            var moduleClass = this.quill.constructor.import('modules/' + name);\n            this.modules[name] = new moduleClass(this.quill, this.options.modules[name] || {});\n            return this.modules[name];\n          }\n        }]);\n\n        return Theme;\n      }();\n\n      Theme.DEFAULTS = {\n        modules: {}\n      };\n      Theme.themes = {\n        'default': Theme\n      };\n      exports.default = Theme;\n      /***/\n    },\n    /* 35 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _text = __webpack_require__(7);\n\n      var _text2 = _interopRequireDefault(_text);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var GUARD_TEXT = \"\\uFEFF\";\n\n      var Embed = function (_Parchment$Embed) {\n        _inherits(Embed, _Parchment$Embed);\n\n        function Embed(node) {\n          _classCallCheck(this, Embed);\n\n          var _this = _possibleConstructorReturn(this, (Embed.__proto__ || Object.getPrototypeOf(Embed)).call(this, node));\n\n          _this.contentNode = document.createElement('span');\n\n          _this.contentNode.setAttribute('contenteditable', false);\n\n          [].slice.call(_this.domNode.childNodes).forEach(function (childNode) {\n            _this.contentNode.appendChild(childNode);\n          });\n          _this.leftGuard = document.createTextNode(GUARD_TEXT);\n          _this.rightGuard = document.createTextNode(GUARD_TEXT);\n\n          _this.domNode.appendChild(_this.leftGuard);\n\n          _this.domNode.appendChild(_this.contentNode);\n\n          _this.domNode.appendChild(_this.rightGuard);\n\n          return _this;\n        }\n\n        _createClass(Embed, [{\n          key: 'index',\n          value: function index(node, offset) {\n            if (node === this.leftGuard) return 0;\n            if (node === this.rightGuard) return 1;\n            return _get(Embed.prototype.__proto__ || Object.getPrototypeOf(Embed.prototype), 'index', this).call(this, node, offset);\n          }\n        }, {\n          key: 'restore',\n          value: function restore(node) {\n            var range = void 0,\n                textNode = void 0;\n            var text = node.data.split(GUARD_TEXT).join('');\n\n            if (node === this.leftGuard) {\n              if (this.prev instanceof _text2.default) {\n                var prevLength = this.prev.length();\n                this.prev.insertAt(prevLength, text);\n                range = {\n                  startNode: this.prev.domNode,\n                  startOffset: prevLength + text.length\n                };\n              } else {\n                textNode = document.createTextNode(text);\n                this.parent.insertBefore(_parchment2.default.create(textNode), this);\n                range = {\n                  startNode: textNode,\n                  startOffset: text.length\n                };\n              }\n            } else if (node === this.rightGuard) {\n              if (this.next instanceof _text2.default) {\n                this.next.insertAt(0, text);\n                range = {\n                  startNode: this.next.domNode,\n                  startOffset: text.length\n                };\n              } else {\n                textNode = document.createTextNode(text);\n                this.parent.insertBefore(_parchment2.default.create(textNode), this.next);\n                range = {\n                  startNode: textNode,\n                  startOffset: text.length\n                };\n              }\n            }\n\n            node.data = GUARD_TEXT;\n            return range;\n          }\n        }, {\n          key: 'update',\n          value: function update(mutations, context) {\n            var _this2 = this;\n\n            mutations.forEach(function (mutation) {\n              if (mutation.type === 'characterData' && (mutation.target === _this2.leftGuard || mutation.target === _this2.rightGuard)) {\n                var range = _this2.restore(mutation.target);\n\n                if (range) context.range = range;\n              }\n            });\n          }\n        }]);\n\n        return Embed;\n      }(_parchment2.default.Embed);\n\n      exports.default = Embed;\n      /***/\n    },\n    /* 36 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.AlignStyle = exports.AlignClass = exports.AlignAttribute = undefined;\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      var config = {\n        scope: _parchment2.default.Scope.BLOCK,\n        whitelist: ['right', 'center', 'justify']\n      };\n      var AlignAttribute = new _parchment2.default.Attributor.Attribute('align', 'align', config);\n      var AlignClass = new _parchment2.default.Attributor.Class('align', 'ql-align', config);\n      var AlignStyle = new _parchment2.default.Attributor.Style('align', 'text-align', config);\n      exports.AlignAttribute = AlignAttribute;\n      exports.AlignClass = AlignClass;\n      exports.AlignStyle = AlignStyle;\n      /***/\n    },\n    /* 37 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.BackgroundStyle = exports.BackgroundClass = undefined;\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _color = __webpack_require__(26);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      var BackgroundClass = new _parchment2.default.Attributor.Class('background', 'ql-bg', {\n        scope: _parchment2.default.Scope.INLINE\n      });\n      var BackgroundStyle = new _color.ColorAttributor('background', 'background-color', {\n        scope: _parchment2.default.Scope.INLINE\n      });\n      exports.BackgroundClass = BackgroundClass;\n      exports.BackgroundStyle = BackgroundStyle;\n      /***/\n    },\n    /* 38 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.DirectionStyle = exports.DirectionClass = exports.DirectionAttribute = undefined;\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      var config = {\n        scope: _parchment2.default.Scope.BLOCK,\n        whitelist: ['rtl']\n      };\n      var DirectionAttribute = new _parchment2.default.Attributor.Attribute('direction', 'dir', config);\n      var DirectionClass = new _parchment2.default.Attributor.Class('direction', 'ql-direction', config);\n      var DirectionStyle = new _parchment2.default.Attributor.Style('direction', 'direction', config);\n      exports.DirectionAttribute = DirectionAttribute;\n      exports.DirectionClass = DirectionClass;\n      exports.DirectionStyle = DirectionStyle;\n      /***/\n    },\n    /* 39 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.FontClass = exports.FontStyle = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var config = {\n        scope: _parchment2.default.Scope.INLINE,\n        whitelist: ['serif', 'monospace']\n      };\n      var FontClass = new _parchment2.default.Attributor.Class('font', 'ql-font', config);\n\n      var FontStyleAttributor = function (_Parchment$Attributor) {\n        _inherits(FontStyleAttributor, _Parchment$Attributor);\n\n        function FontStyleAttributor() {\n          _classCallCheck(this, FontStyleAttributor);\n\n          return _possibleConstructorReturn(this, (FontStyleAttributor.__proto__ || Object.getPrototypeOf(FontStyleAttributor)).apply(this, arguments));\n        }\n\n        _createClass(FontStyleAttributor, [{\n          key: 'value',\n          value: function value(node) {\n            return _get(FontStyleAttributor.prototype.__proto__ || Object.getPrototypeOf(FontStyleAttributor.prototype), 'value', this).call(this, node).replace(/[\"']/g, '');\n          }\n        }]);\n\n        return FontStyleAttributor;\n      }(_parchment2.default.Attributor.Style);\n\n      var FontStyle = new FontStyleAttributor('font', 'font-family', config);\n      exports.FontStyle = FontStyle;\n      exports.FontClass = FontClass;\n      /***/\n    },\n    /* 40 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.SizeStyle = exports.SizeClass = undefined;\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      var SizeClass = new _parchment2.default.Attributor.Class('size', 'ql-size', {\n        scope: _parchment2.default.Scope.INLINE,\n        whitelist: ['small', 'large', 'huge']\n      });\n      var SizeStyle = new _parchment2.default.Attributor.Style('size', 'font-size', {\n        scope: _parchment2.default.Scope.INLINE,\n        whitelist: ['10px', '18px', '32px']\n      });\n      exports.SizeClass = SizeClass;\n      exports.SizeStyle = SizeStyle;\n      /***/\n    },\n    /* 41 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = {\n        'align': {\n          '': __webpack_require__(76),\n          'center': __webpack_require__(77),\n          'right': __webpack_require__(78),\n          'justify': __webpack_require__(79)\n        },\n        'background': __webpack_require__(80),\n        'blockquote': __webpack_require__(81),\n        'bold': __webpack_require__(82),\n        'clean': __webpack_require__(83),\n        'code': __webpack_require__(58),\n        'code-block': __webpack_require__(58),\n        'color': __webpack_require__(84),\n        'direction': {\n          '': __webpack_require__(85),\n          'rtl': __webpack_require__(86)\n        },\n        'float': {\n          'center': __webpack_require__(87),\n          'full': __webpack_require__(88),\n          'left': __webpack_require__(89),\n          'right': __webpack_require__(90)\n        },\n        'formula': __webpack_require__(91),\n        'header': {\n          '1': __webpack_require__(92),\n          '2': __webpack_require__(93)\n        },\n        'italic': __webpack_require__(94),\n        'image': __webpack_require__(95),\n        'indent': {\n          '+1': __webpack_require__(96),\n          '-1': __webpack_require__(97)\n        },\n        'link': __webpack_require__(98),\n        'list': {\n          'ordered': __webpack_require__(99),\n          'bullet': __webpack_require__(100),\n          'check': __webpack_require__(101)\n        },\n        'script': {\n          'sub': __webpack_require__(102),\n          'super': __webpack_require__(103)\n        },\n        'strike': __webpack_require__(104),\n        'underline': __webpack_require__(105),\n        'video': __webpack_require__(106)\n      };\n      /***/\n    },\n    /* 42 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.getLastChangeIndex = exports.default = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _quill = __webpack_require__(5);\n\n      var _quill2 = _interopRequireDefault(_quill);\n\n      var _module = __webpack_require__(9);\n\n      var _module2 = _interopRequireDefault(_module);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var History = function (_Module) {\n        _inherits(History, _Module);\n\n        function History(quill, options) {\n          _classCallCheck(this, History);\n\n          var _this = _possibleConstructorReturn(this, (History.__proto__ || Object.getPrototypeOf(History)).call(this, quill, options));\n\n          _this.lastRecorded = 0;\n          _this.ignoreChange = false;\n\n          _this.clear();\n\n          _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function (eventName, delta, oldDelta, source) {\n            if (eventName !== _quill2.default.events.TEXT_CHANGE || _this.ignoreChange) return;\n\n            if (!_this.options.userOnly || source === _quill2.default.sources.USER) {\n              _this.record(delta, oldDelta);\n            } else {\n              _this.transform(delta);\n            }\n          });\n\n          _this.quill.keyboard.addBinding({\n            key: 'Z',\n            shortKey: true\n          }, _this.undo.bind(_this));\n\n          _this.quill.keyboard.addBinding({\n            key: 'Z',\n            shortKey: true,\n            shiftKey: true\n          }, _this.redo.bind(_this));\n\n          if (/Win/i.test(navigator.platform)) {\n            _this.quill.keyboard.addBinding({\n              key: 'Y',\n              shortKey: true\n            }, _this.redo.bind(_this));\n          }\n\n          return _this;\n        }\n\n        _createClass(History, [{\n          key: 'change',\n          value: function change(source, dest) {\n            if (this.stack[source].length === 0) return;\n            var delta = this.stack[source].pop();\n            this.stack[dest].push(delta);\n            this.lastRecorded = 0;\n            this.ignoreChange = true;\n            this.quill.updateContents(delta[source], _quill2.default.sources.USER);\n            this.ignoreChange = false;\n            var index = getLastChangeIndex(delta[source]);\n            this.quill.setSelection(index);\n          }\n        }, {\n          key: 'clear',\n          value: function clear() {\n            this.stack = {\n              undo: [],\n              redo: []\n            };\n          }\n        }, {\n          key: 'cutoff',\n          value: function cutoff() {\n            this.lastRecorded = 0;\n          }\n        }, {\n          key: 'record',\n          value: function record(changeDelta, oldDelta) {\n            if (changeDelta.ops.length === 0) return;\n            this.stack.redo = [];\n            var undoDelta = this.quill.getContents().diff(oldDelta);\n            var timestamp = Date.now();\n\n            if (this.lastRecorded + this.options.delay > timestamp && this.stack.undo.length > 0) {\n              var delta = this.stack.undo.pop();\n              undoDelta = undoDelta.compose(delta.undo);\n              changeDelta = delta.redo.compose(changeDelta);\n            } else {\n              this.lastRecorded = timestamp;\n            }\n\n            this.stack.undo.push({\n              redo: changeDelta,\n              undo: undoDelta\n            });\n\n            if (this.stack.undo.length > this.options.maxStack) {\n              this.stack.undo.shift();\n            }\n          }\n        }, {\n          key: 'redo',\n          value: function redo() {\n            this.change('redo', 'undo');\n          }\n        }, {\n          key: 'transform',\n          value: function transform(delta) {\n            this.stack.undo.forEach(function (change) {\n              change.undo = delta.transform(change.undo, true);\n              change.redo = delta.transform(change.redo, true);\n            });\n            this.stack.redo.forEach(function (change) {\n              change.undo = delta.transform(change.undo, true);\n              change.redo = delta.transform(change.redo, true);\n            });\n          }\n        }, {\n          key: 'undo',\n          value: function undo() {\n            this.change('undo', 'redo');\n          }\n        }]);\n\n        return History;\n      }(_module2.default);\n\n      History.DEFAULTS = {\n        delay: 1000,\n        maxStack: 100,\n        userOnly: false\n      };\n\n      function endsWithNewlineChange(delta) {\n        var lastOp = delta.ops[delta.ops.length - 1];\n        if (lastOp == null) return false;\n\n        if (lastOp.insert != null) {\n          return typeof lastOp.insert === 'string' && lastOp.insert.endsWith('\\n');\n        }\n\n        if (lastOp.attributes != null) {\n          return Object.keys(lastOp.attributes).some(function (attr) {\n            return _parchment2.default.query(attr, _parchment2.default.Scope.BLOCK) != null;\n          });\n        }\n\n        return false;\n      }\n\n      function getLastChangeIndex(delta) {\n        var deleteLength = delta.reduce(function (length, op) {\n          length += op.delete || 0;\n          return length;\n        }, 0);\n        var changeIndex = delta.length() - deleteLength;\n\n        if (endsWithNewlineChange(delta)) {\n          changeIndex -= 1;\n        }\n\n        return changeIndex;\n      }\n\n      exports.default = History;\n      exports.getLastChangeIndex = getLastChangeIndex;\n      /***/\n    },\n    /* 43 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.BaseTooltip = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _extend = __webpack_require__(3);\n\n      var _extend2 = _interopRequireDefault(_extend);\n\n      var _quillDelta = __webpack_require__(2);\n\n      var _quillDelta2 = _interopRequireDefault(_quillDelta);\n\n      var _emitter = __webpack_require__(8);\n\n      var _emitter2 = _interopRequireDefault(_emitter);\n\n      var _keyboard = __webpack_require__(23);\n\n      var _keyboard2 = _interopRequireDefault(_keyboard);\n\n      var _theme = __webpack_require__(34);\n\n      var _theme2 = _interopRequireDefault(_theme);\n\n      var _colorPicker = __webpack_require__(59);\n\n      var _colorPicker2 = _interopRequireDefault(_colorPicker);\n\n      var _iconPicker = __webpack_require__(60);\n\n      var _iconPicker2 = _interopRequireDefault(_iconPicker);\n\n      var _picker = __webpack_require__(28);\n\n      var _picker2 = _interopRequireDefault(_picker);\n\n      var _tooltip = __webpack_require__(61);\n\n      var _tooltip2 = _interopRequireDefault(_tooltip);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var ALIGNS = [false, 'center', 'right', 'justify'];\n      var COLORS = [\"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008a00\", \"#0066cc\", \"#9933ff\", \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f5\", \"#ebd6ff\", \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c285ff\", \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\", \"#444444\", \"#5c0000\", \"#663d00\", \"#666600\", \"#003700\", \"#002966\", \"#3d1466\"];\n      var FONTS = [false, 'serif', 'monospace'];\n      var HEADERS = ['1', '2', '3', false];\n      var SIZES = ['small', false, 'large', 'huge'];\n\n      var BaseTheme = function (_Theme) {\n        _inherits(BaseTheme, _Theme);\n\n        function BaseTheme(quill, options) {\n          _classCallCheck(this, BaseTheme);\n\n          var _this = _possibleConstructorReturn(this, (BaseTheme.__proto__ || Object.getPrototypeOf(BaseTheme)).call(this, quill, options));\n\n          var listener = function listener(e) {\n            if (!document.body.contains(quill.root)) {\n              return document.body.removeEventListener('click', listener);\n            }\n\n            if (_this.tooltip != null && !_this.tooltip.root.contains(e.target) && document.activeElement !== _this.tooltip.textbox && !_this.quill.hasFocus()) {\n              _this.tooltip.hide();\n            }\n\n            if (_this.pickers != null) {\n              _this.pickers.forEach(function (picker) {\n                if (!picker.container.contains(e.target)) {\n                  picker.close();\n                }\n              });\n            }\n          };\n\n          quill.emitter.listenDOM('click', document.body, listener);\n          return _this;\n        }\n\n        _createClass(BaseTheme, [{\n          key: 'addModule',\n          value: function addModule(name) {\n            var module = _get(BaseTheme.prototype.__proto__ || Object.getPrototypeOf(BaseTheme.prototype), 'addModule', this).call(this, name);\n\n            if (name === 'toolbar') {\n              this.extendToolbar(module);\n            }\n\n            return module;\n          }\n        }, {\n          key: 'buildButtons',\n          value: function buildButtons(buttons, icons) {\n            buttons.forEach(function (button) {\n              var className = button.getAttribute('class') || '';\n              className.split(/\\s+/).forEach(function (name) {\n                if (!name.startsWith('ql-')) return;\n                name = name.slice('ql-'.length);\n                if (icons[name] == null) return;\n\n                if (name === 'direction') {\n                  button.innerHTML = icons[name][''] + icons[name]['rtl'];\n                } else if (typeof icons[name] === 'string') {\n                  button.innerHTML = icons[name];\n                } else {\n                  var value = button.value || '';\n\n                  if (value != null && icons[name][value]) {\n                    button.innerHTML = icons[name][value];\n                  }\n                }\n              });\n            });\n          }\n        }, {\n          key: 'buildPickers',\n          value: function buildPickers(selects, icons) {\n            var _this2 = this;\n\n            this.pickers = selects.map(function (select) {\n              if (select.classList.contains('ql-align')) {\n                if (select.querySelector('option') == null) {\n                  fillSelect(select, ALIGNS);\n                }\n\n                return new _iconPicker2.default(select, icons.align);\n              } else if (select.classList.contains('ql-background') || select.classList.contains('ql-color')) {\n                var format = select.classList.contains('ql-background') ? 'background' : 'color';\n\n                if (select.querySelector('option') == null) {\n                  fillSelect(select, COLORS, format === 'background' ? '#ffffff' : '#000000');\n                }\n\n                return new _colorPicker2.default(select, icons[format]);\n              } else {\n                if (select.querySelector('option') == null) {\n                  if (select.classList.contains('ql-font')) {\n                    fillSelect(select, FONTS);\n                  } else if (select.classList.contains('ql-header')) {\n                    fillSelect(select, HEADERS);\n                  } else if (select.classList.contains('ql-size')) {\n                    fillSelect(select, SIZES);\n                  }\n                }\n\n                return new _picker2.default(select);\n              }\n            });\n\n            var update = function update() {\n              _this2.pickers.forEach(function (picker) {\n                picker.update();\n              });\n            };\n\n            this.quill.on(_emitter2.default.events.EDITOR_CHANGE, update);\n          }\n        }]);\n\n        return BaseTheme;\n      }(_theme2.default);\n\n      BaseTheme.DEFAULTS = (0, _extend2.default)(true, {}, _theme2.default.DEFAULTS, {\n        modules: {\n          toolbar: {\n            handlers: {\n              formula: function formula() {\n                this.quill.theme.tooltip.edit('formula');\n              },\n              image: function image() {\n                var _this3 = this;\n\n                var fileInput = this.container.querySelector('input.ql-image[type=file]');\n\n                if (fileInput == null) {\n                  fileInput = document.createElement('input');\n                  fileInput.setAttribute('type', 'file');\n                  fileInput.setAttribute('accept', 'image/png, image/gif, image/jpeg, image/bmp, image/x-icon');\n                  fileInput.classList.add('ql-image');\n                  fileInput.addEventListener('change', function () {\n                    if (fileInput.files != null && fileInput.files[0] != null) {\n                      var reader = new FileReader();\n\n                      reader.onload = function (e) {\n                        var range = _this3.quill.getSelection(true);\n\n                        _this3.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert({\n                          image: e.target.result\n                        }), _emitter2.default.sources.USER);\n\n                        _this3.quill.setSelection(range.index + 1, _emitter2.default.sources.SILENT);\n\n                        fileInput.value = \"\";\n                      };\n\n                      reader.readAsDataURL(fileInput.files[0]);\n                    }\n                  });\n                  this.container.appendChild(fileInput);\n                }\n\n                fileInput.click();\n              },\n              video: function video() {\n                this.quill.theme.tooltip.edit('video');\n              }\n            }\n          }\n        }\n      });\n\n      var BaseTooltip = function (_Tooltip) {\n        _inherits(BaseTooltip, _Tooltip);\n\n        function BaseTooltip(quill, boundsContainer) {\n          _classCallCheck(this, BaseTooltip);\n\n          var _this4 = _possibleConstructorReturn(this, (BaseTooltip.__proto__ || Object.getPrototypeOf(BaseTooltip)).call(this, quill, boundsContainer));\n\n          _this4.textbox = _this4.root.querySelector('input[type=\"text\"]');\n\n          _this4.listen();\n\n          return _this4;\n        }\n\n        _createClass(BaseTooltip, [{\n          key: 'listen',\n          value: function listen() {\n            var _this5 = this;\n\n            this.textbox.addEventListener('keydown', function (event) {\n              if (_keyboard2.default.match(event, 'enter')) {\n                _this5.save();\n\n                event.preventDefault();\n              } else if (_keyboard2.default.match(event, 'escape')) {\n                _this5.cancel();\n\n                event.preventDefault();\n              }\n            });\n          }\n        }, {\n          key: 'cancel',\n          value: function cancel() {\n            this.hide();\n          }\n        }, {\n          key: 'edit',\n          value: function edit() {\n            var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'link';\n            var preview = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n            this.root.classList.remove('ql-hidden');\n            this.root.classList.add('ql-editing');\n\n            if (preview != null) {\n              this.textbox.value = preview;\n            } else if (mode !== this.root.getAttribute('data-mode')) {\n              this.textbox.value = '';\n            }\n\n            this.position(this.quill.getBounds(this.quill.selection.savedRange));\n            this.textbox.select();\n            this.textbox.setAttribute('placeholder', this.textbox.getAttribute('data-' + mode) || '');\n            this.root.setAttribute('data-mode', mode);\n          }\n        }, {\n          key: 'restoreFocus',\n          value: function restoreFocus() {\n            var scrollTop = this.quill.scrollingContainer.scrollTop;\n            this.quill.focus();\n            this.quill.scrollingContainer.scrollTop = scrollTop;\n          }\n        }, {\n          key: 'save',\n          value: function save() {\n            var value = this.textbox.value;\n\n            switch (this.root.getAttribute('data-mode')) {\n              case 'link':\n                {\n                  var scrollTop = this.quill.root.scrollTop;\n\n                  if (this.linkRange) {\n                    this.quill.formatText(this.linkRange, 'link', value, _emitter2.default.sources.USER);\n                    delete this.linkRange;\n                  } else {\n                    this.restoreFocus();\n                    this.quill.format('link', value, _emitter2.default.sources.USER);\n                  }\n\n                  this.quill.root.scrollTop = scrollTop;\n                  break;\n                }\n\n              case 'video':\n                {\n                  value = extractVideoUrl(value);\n                }\n              // eslint-disable-next-line no-fallthrough\n\n              case 'formula':\n                {\n                  if (!value) break;\n                  var range = this.quill.getSelection(true);\n\n                  if (range != null) {\n                    var index = range.index + range.length;\n                    this.quill.insertEmbed(index, this.root.getAttribute('data-mode'), value, _emitter2.default.sources.USER);\n\n                    if (this.root.getAttribute('data-mode') === 'formula') {\n                      this.quill.insertText(index + 1, ' ', _emitter2.default.sources.USER);\n                    }\n\n                    this.quill.setSelection(index + 2, _emitter2.default.sources.USER);\n                  }\n\n                  break;\n                }\n\n              default:\n            }\n\n            this.textbox.value = '';\n            this.hide();\n          }\n        }]);\n\n        return BaseTooltip;\n      }(_tooltip2.default);\n\n      function extractVideoUrl(url) {\n        var match = url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtube\\.com\\/watch.*v=([a-zA-Z0-9_-]+)/) || url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtu\\.be\\/([a-zA-Z0-9_-]+)/);\n\n        if (match) {\n          return (match[1] || 'https') + '://www.youtube.com/embed/' + match[2] + '?showinfo=0';\n        }\n\n        if (match = url.match(/^(?:(https?):\\/\\/)?(?:www\\.)?vimeo\\.com\\/(\\d+)/)) {\n          // eslint-disable-line no-cond-assign\n          return (match[1] || 'https') + '://player.vimeo.com/video/' + match[2] + '/';\n        }\n\n        return url;\n      }\n\n      function fillSelect(select, values) {\n        var defaultValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        values.forEach(function (value) {\n          var option = document.createElement('option');\n\n          if (value === defaultValue) {\n            option.setAttribute('selected', 'selected');\n          } else {\n            option.setAttribute('value', value);\n          }\n\n          select.appendChild(option);\n        });\n      }\n\n      exports.BaseTooltip = BaseTooltip;\n      exports.default = BaseTheme;\n      /***/\n    },\n    /* 44 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var LinkedList =\n      /** @class */\n      function () {\n        function LinkedList() {\n          this.head = this.tail = null;\n          this.length = 0;\n        }\n\n        LinkedList.prototype.append = function () {\n          var nodes = [];\n\n          for (var _i = 0; _i < arguments.length; _i++) {\n            nodes[_i] = arguments[_i];\n          }\n\n          this.insertBefore(nodes[0], null);\n\n          if (nodes.length > 1) {\n            this.append.apply(this, nodes.slice(1));\n          }\n        };\n\n        LinkedList.prototype.contains = function (node) {\n          var cur,\n              next = this.iterator();\n\n          while (cur = next()) {\n            if (cur === node) return true;\n          }\n\n          return false;\n        };\n\n        LinkedList.prototype.insertBefore = function (node, refNode) {\n          if (!node) return;\n          node.next = refNode;\n\n          if (refNode != null) {\n            node.prev = refNode.prev;\n\n            if (refNode.prev != null) {\n              refNode.prev.next = node;\n            }\n\n            refNode.prev = node;\n\n            if (refNode === this.head) {\n              this.head = node;\n            }\n          } else if (this.tail != null) {\n            this.tail.next = node;\n            node.prev = this.tail;\n            this.tail = node;\n          } else {\n            node.prev = null;\n            this.head = this.tail = node;\n          }\n\n          this.length += 1;\n        };\n\n        LinkedList.prototype.offset = function (target) {\n          var index = 0,\n              cur = this.head;\n\n          while (cur != null) {\n            if (cur === target) return index;\n            index += cur.length();\n            cur = cur.next;\n          }\n\n          return -1;\n        };\n\n        LinkedList.prototype.remove = function (node) {\n          if (!this.contains(node)) return;\n          if (node.prev != null) node.prev.next = node.next;\n          if (node.next != null) node.next.prev = node.prev;\n          if (node === this.head) this.head = node.next;\n          if (node === this.tail) this.tail = node.prev;\n          this.length -= 1;\n        };\n\n        LinkedList.prototype.iterator = function (curNode) {\n          if (curNode === void 0) {\n            curNode = this.head;\n          } // TODO use yield when we can\n\n\n          return function () {\n            var ret = curNode;\n            if (curNode != null) curNode = curNode.next;\n            return ret;\n          };\n        };\n\n        LinkedList.prototype.find = function (index, inclusive) {\n          if (inclusive === void 0) {\n            inclusive = false;\n          }\n\n          var cur,\n              next = this.iterator();\n\n          while (cur = next()) {\n            var length = cur.length();\n\n            if (index < length || inclusive && index === length && (cur.next == null || cur.next.length() !== 0)) {\n              return [cur, index];\n            }\n\n            index -= length;\n          }\n\n          return [null, 0];\n        };\n\n        LinkedList.prototype.forEach = function (callback) {\n          var cur,\n              next = this.iterator();\n\n          while (cur = next()) {\n            callback(cur);\n          }\n        };\n\n        LinkedList.prototype.forEachAt = function (index, length, callback) {\n          if (length <= 0) return;\n\n          var _a = this.find(index),\n              startNode = _a[0],\n              offset = _a[1];\n\n          var cur,\n              curIndex = index - offset,\n              next = this.iterator(startNode);\n\n          while ((cur = next()) && curIndex < index + length) {\n            var curLength = cur.length();\n\n            if (index > curIndex) {\n              callback(cur, index - curIndex, Math.min(length, curIndex + curLength - index));\n            } else {\n              callback(cur, 0, Math.min(curLength, index + length - curIndex));\n            }\n\n            curIndex += curLength;\n          }\n        };\n\n        LinkedList.prototype.map = function (callback) {\n          return this.reduce(function (memo, cur) {\n            memo.push(callback(cur));\n            return memo;\n          }, []);\n        };\n\n        LinkedList.prototype.reduce = function (callback, memo) {\n          var cur,\n              next = this.iterator();\n\n          while (cur = next()) {\n            memo = callback(memo, cur);\n          }\n\n          return memo;\n        };\n\n        return LinkedList;\n      }();\n\n      exports.default = LinkedList;\n      /***/\n    },\n    /* 45 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var container_1 = __webpack_require__(17);\n\n      var Registry = __webpack_require__(1);\n\n      var OBSERVER_CONFIG = {\n        attributes: true,\n        characterData: true,\n        characterDataOldValue: true,\n        childList: true,\n        subtree: true\n      };\n      var MAX_OPTIMIZE_ITERATIONS = 100;\n\n      var ScrollBlot =\n      /** @class */\n      function (_super) {\n        __extends(ScrollBlot, _super);\n\n        function ScrollBlot(node) {\n          var _this = _super.call(this, node) || this;\n\n          _this.scroll = _this;\n          _this.observer = new MutationObserver(function (mutations) {\n            _this.update(mutations);\n          });\n\n          _this.observer.observe(_this.domNode, OBSERVER_CONFIG);\n\n          _this.attach();\n\n          return _this;\n        }\n\n        ScrollBlot.prototype.detach = function () {\n          _super.prototype.detach.call(this);\n\n          this.observer.disconnect();\n        };\n\n        ScrollBlot.prototype.deleteAt = function (index, length) {\n          this.update();\n\n          if (index === 0 && length === this.length()) {\n            this.children.forEach(function (child) {\n              child.remove();\n            });\n          } else {\n            _super.prototype.deleteAt.call(this, index, length);\n          }\n        };\n\n        ScrollBlot.prototype.formatAt = function (index, length, name, value) {\n          this.update();\n\n          _super.prototype.formatAt.call(this, index, length, name, value);\n        };\n\n        ScrollBlot.prototype.insertAt = function (index, value, def) {\n          this.update();\n\n          _super.prototype.insertAt.call(this, index, value, def);\n        };\n\n        ScrollBlot.prototype.optimize = function (mutations, context) {\n          var _this = this;\n\n          if (mutations === void 0) {\n            mutations = [];\n          }\n\n          if (context === void 0) {\n            context = {};\n          }\n\n          _super.prototype.optimize.call(this, context); // We must modify mutations directly, cannot make copy and then modify\n\n\n          var records = [].slice.call(this.observer.takeRecords()); // Array.push currently seems to be implemented by a non-tail recursive function\n          // so we cannot just mutations.push.apply(mutations, this.observer.takeRecords());\n\n          while (records.length > 0) {\n            mutations.push(records.pop());\n          } // TODO use WeakMap\n\n\n          var mark = function mark(blot, markParent) {\n            if (markParent === void 0) {\n              markParent = true;\n            }\n\n            if (blot == null || blot === _this) return;\n            if (blot.domNode.parentNode == null) return; // @ts-ignore\n\n            if (blot.domNode[Registry.DATA_KEY].mutations == null) {\n              // @ts-ignore\n              blot.domNode[Registry.DATA_KEY].mutations = [];\n            }\n\n            if (markParent) mark(blot.parent);\n          };\n\n          var optimize = function optimize(blot) {\n            // Post-order traversal\n            if ( // @ts-ignore\n            blot.domNode[Registry.DATA_KEY] == null || // @ts-ignore\n            blot.domNode[Registry.DATA_KEY].mutations == null) {\n              return;\n            }\n\n            if (blot instanceof container_1.default) {\n              blot.children.forEach(optimize);\n            }\n\n            blot.optimize(context);\n          };\n\n          var remaining = mutations;\n\n          for (var i = 0; remaining.length > 0; i += 1) {\n            if (i >= MAX_OPTIMIZE_ITERATIONS) {\n              throw new Error('[Parchment] Maximum optimize iterations reached');\n            }\n\n            remaining.forEach(function (mutation) {\n              var blot = Registry.find(mutation.target, true);\n              if (blot == null) return;\n\n              if (blot.domNode === mutation.target) {\n                if (mutation.type === 'childList') {\n                  mark(Registry.find(mutation.previousSibling, false));\n                  [].forEach.call(mutation.addedNodes, function (node) {\n                    var child = Registry.find(node, false);\n                    mark(child, false);\n\n                    if (child instanceof container_1.default) {\n                      child.children.forEach(function (grandChild) {\n                        mark(grandChild, false);\n                      });\n                    }\n                  });\n                } else if (mutation.type === 'attributes') {\n                  mark(blot.prev);\n                }\n              }\n\n              mark(blot);\n            });\n            this.children.forEach(optimize);\n            remaining = [].slice.call(this.observer.takeRecords());\n            records = remaining.slice();\n\n            while (records.length > 0) {\n              mutations.push(records.pop());\n            }\n          }\n        };\n\n        ScrollBlot.prototype.update = function (mutations, context) {\n          var _this = this;\n\n          if (context === void 0) {\n            context = {};\n          }\n\n          mutations = mutations || this.observer.takeRecords(); // TODO use WeakMap\n\n          mutations.map(function (mutation) {\n            var blot = Registry.find(mutation.target, true);\n            if (blot == null) return null; // @ts-ignore\n\n            if (blot.domNode[Registry.DATA_KEY].mutations == null) {\n              // @ts-ignore\n              blot.domNode[Registry.DATA_KEY].mutations = [mutation];\n              return blot;\n            } else {\n              // @ts-ignore\n              blot.domNode[Registry.DATA_KEY].mutations.push(mutation);\n              return null;\n            }\n          }).forEach(function (blot) {\n            if (blot == null || blot === _this || //@ts-ignore\n            blot.domNode[Registry.DATA_KEY] == null) return; // @ts-ignore\n\n            blot.update(blot.domNode[Registry.DATA_KEY].mutations || [], context);\n          }); // @ts-ignore\n\n          if (this.domNode[Registry.DATA_KEY].mutations != null) {\n            // @ts-ignore\n            _super.prototype.update.call(this, this.domNode[Registry.DATA_KEY].mutations, context);\n          }\n\n          this.optimize(mutations, context);\n        };\n\n        ScrollBlot.blotName = 'scroll';\n        ScrollBlot.defaultChild = 'block';\n        ScrollBlot.scope = Registry.Scope.BLOCK_BLOT;\n        ScrollBlot.tagName = 'DIV';\n        return ScrollBlot;\n      }(container_1.default);\n\n      exports.default = ScrollBlot;\n      /***/\n    },\n    /* 46 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var format_1 = __webpack_require__(18);\n\n      var Registry = __webpack_require__(1); // Shallow object comparison\n\n\n      function isEqual(obj1, obj2) {\n        if (Object.keys(obj1).length !== Object.keys(obj2).length) return false; // @ts-ignore\n\n        for (var prop in obj1) {\n          // @ts-ignore\n          if (obj1[prop] !== obj2[prop]) return false;\n        }\n\n        return true;\n      }\n\n      var InlineBlot =\n      /** @class */\n      function (_super) {\n        __extends(InlineBlot, _super);\n\n        function InlineBlot() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        InlineBlot.formats = function (domNode) {\n          if (domNode.tagName === InlineBlot.tagName) return undefined;\n          return _super.formats.call(this, domNode);\n        };\n\n        InlineBlot.prototype.format = function (name, value) {\n          var _this = this;\n\n          if (name === this.statics.blotName && !value) {\n            this.children.forEach(function (child) {\n              if (!(child instanceof format_1.default)) {\n                child = child.wrap(InlineBlot.blotName, true);\n              }\n\n              _this.attributes.copy(child);\n            });\n            this.unwrap();\n          } else {\n            _super.prototype.format.call(this, name, value);\n          }\n        };\n\n        InlineBlot.prototype.formatAt = function (index, length, name, value) {\n          if (this.formats()[name] != null || Registry.query(name, Registry.Scope.ATTRIBUTE)) {\n            var blot = this.isolate(index, length);\n            blot.format(name, value);\n          } else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n          }\n        };\n\n        InlineBlot.prototype.optimize = function (context) {\n          _super.prototype.optimize.call(this, context);\n\n          var formats = this.formats();\n\n          if (Object.keys(formats).length === 0) {\n            return this.unwrap(); // unformatted span\n          }\n\n          var next = this.next;\n\n          if (next instanceof InlineBlot && next.prev === this && isEqual(formats, next.formats())) {\n            next.moveChildren(this);\n            next.remove();\n          }\n        };\n\n        InlineBlot.blotName = 'inline';\n        InlineBlot.scope = Registry.Scope.INLINE_BLOT;\n        InlineBlot.tagName = 'SPAN';\n        return InlineBlot;\n      }(format_1.default);\n\n      exports.default = InlineBlot;\n      /***/\n    },\n    /* 47 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var format_1 = __webpack_require__(18);\n\n      var Registry = __webpack_require__(1);\n\n      var BlockBlot =\n      /** @class */\n      function (_super) {\n        __extends(BlockBlot, _super);\n\n        function BlockBlot() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        BlockBlot.formats = function (domNode) {\n          var tagName = Registry.query(BlockBlot.blotName).tagName;\n          if (domNode.tagName === tagName) return undefined;\n          return _super.formats.call(this, domNode);\n        };\n\n        BlockBlot.prototype.format = function (name, value) {\n          if (Registry.query(name, Registry.Scope.BLOCK) == null) {\n            return;\n          } else if (name === this.statics.blotName && !value) {\n            this.replaceWith(BlockBlot.blotName);\n          } else {\n            _super.prototype.format.call(this, name, value);\n          }\n        };\n\n        BlockBlot.prototype.formatAt = function (index, length, name, value) {\n          if (Registry.query(name, Registry.Scope.BLOCK) != null) {\n            this.format(name, value);\n          } else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n          }\n        };\n\n        BlockBlot.prototype.insertAt = function (index, value, def) {\n          if (def == null || Registry.query(value, Registry.Scope.INLINE) != null) {\n            // Insert text or inline\n            _super.prototype.insertAt.call(this, index, value, def);\n          } else {\n            var after = this.split(index);\n            var blot = Registry.create(value, def);\n            after.parent.insertBefore(blot, after);\n          }\n        };\n\n        BlockBlot.prototype.update = function (mutations, context) {\n          if (navigator.userAgent.match(/Trident/)) {\n            this.build();\n          } else {\n            _super.prototype.update.call(this, mutations, context);\n          }\n        };\n\n        BlockBlot.blotName = 'block';\n        BlockBlot.scope = Registry.Scope.BLOCK_BLOT;\n        BlockBlot.tagName = 'P';\n        return BlockBlot;\n      }(format_1.default);\n\n      exports.default = BlockBlot;\n      /***/\n    },\n    /* 48 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var leaf_1 = __webpack_require__(19);\n\n      var EmbedBlot =\n      /** @class */\n      function (_super) {\n        __extends(EmbedBlot, _super);\n\n        function EmbedBlot() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        EmbedBlot.formats = function (domNode) {\n          return undefined;\n        };\n\n        EmbedBlot.prototype.format = function (name, value) {\n          // super.formatAt wraps, which is what we want in general,\n          // but this allows subclasses to overwrite for formats\n          // that just apply to particular embeds\n          _super.prototype.formatAt.call(this, 0, this.length(), name, value);\n        };\n\n        EmbedBlot.prototype.formatAt = function (index, length, name, value) {\n          if (index === 0 && length === this.length()) {\n            this.format(name, value);\n          } else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n          }\n        };\n\n        EmbedBlot.prototype.formats = function () {\n          return this.statics.formats(this.domNode);\n        };\n\n        return EmbedBlot;\n      }(leaf_1.default);\n\n      exports.default = EmbedBlot;\n      /***/\n    },\n    /* 49 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var leaf_1 = __webpack_require__(19);\n\n      var Registry = __webpack_require__(1);\n\n      var TextBlot =\n      /** @class */\n      function (_super) {\n        __extends(TextBlot, _super);\n\n        function TextBlot(node) {\n          var _this = _super.call(this, node) || this;\n\n          _this.text = _this.statics.value(_this.domNode);\n          return _this;\n        }\n\n        TextBlot.create = function (value) {\n          return document.createTextNode(value);\n        };\n\n        TextBlot.value = function (domNode) {\n          var text = domNode.data; // @ts-ignore\n\n          if (text['normalize']) text = text['normalize']();\n          return text;\n        };\n\n        TextBlot.prototype.deleteAt = function (index, length) {\n          this.domNode.data = this.text = this.text.slice(0, index) + this.text.slice(index + length);\n        };\n\n        TextBlot.prototype.index = function (node, offset) {\n          if (this.domNode === node) {\n            return offset;\n          }\n\n          return -1;\n        };\n\n        TextBlot.prototype.insertAt = function (index, value, def) {\n          if (def == null) {\n            this.text = this.text.slice(0, index) + value + this.text.slice(index);\n            this.domNode.data = this.text;\n          } else {\n            _super.prototype.insertAt.call(this, index, value, def);\n          }\n        };\n\n        TextBlot.prototype.length = function () {\n          return this.text.length;\n        };\n\n        TextBlot.prototype.optimize = function (context) {\n          _super.prototype.optimize.call(this, context);\n\n          this.text = this.statics.value(this.domNode);\n\n          if (this.text.length === 0) {\n            this.remove();\n          } else if (this.next instanceof TextBlot && this.next.prev === this) {\n            this.insertAt(this.length(), this.next.value());\n            this.next.remove();\n          }\n        };\n\n        TextBlot.prototype.position = function (index, inclusive) {\n          if (inclusive === void 0) {\n            inclusive = false;\n          }\n\n          return [this.domNode, index];\n        };\n\n        TextBlot.prototype.split = function (index, force) {\n          if (force === void 0) {\n            force = false;\n          }\n\n          if (!force) {\n            if (index === 0) return this;\n            if (index === this.length()) return this.next;\n          }\n\n          var after = Registry.create(this.domNode.splitText(index));\n          this.parent.insertBefore(after, this.next);\n          this.text = this.statics.value(this.domNode);\n          return after;\n        };\n\n        TextBlot.prototype.update = function (mutations, context) {\n          var _this = this;\n\n          if (mutations.some(function (mutation) {\n            return mutation.type === 'characterData' && mutation.target === _this.domNode;\n          })) {\n            this.text = this.statics.value(this.domNode);\n          }\n        };\n\n        TextBlot.prototype.value = function () {\n          return this.text;\n        };\n\n        TextBlot.blotName = 'text';\n        TextBlot.scope = Registry.Scope.INLINE_BLOT;\n        return TextBlot;\n      }(leaf_1.default);\n\n      exports.default = TextBlot;\n      /***/\n    },\n    /* 50 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var elem = document.createElement('div');\n      elem.classList.toggle('test-class', false);\n\n      if (elem.classList.contains('test-class')) {\n        var _toggle = DOMTokenList.prototype.toggle;\n\n        DOMTokenList.prototype.toggle = function (token, force) {\n          if (arguments.length > 1 && !this.contains(token) === !force) {\n            return force;\n          } else {\n            return _toggle.call(this, token);\n          }\n        };\n      }\n\n      if (!String.prototype.startsWith) {\n        String.prototype.startsWith = function (searchString, position) {\n          position = position || 0;\n          return this.substr(position, searchString.length) === searchString;\n        };\n      }\n\n      if (!String.prototype.endsWith) {\n        String.prototype.endsWith = function (searchString, position) {\n          var subjectString = this.toString();\n\n          if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n            position = subjectString.length;\n          }\n\n          position -= searchString.length;\n          var lastIndex = subjectString.indexOf(searchString, position);\n          return lastIndex !== -1 && lastIndex === position;\n        };\n      }\n\n      if (!Array.prototype.find) {\n        Object.defineProperty(Array.prototype, \"find\", {\n          value: function value(predicate) {\n            if (this === null) {\n              throw new TypeError('Array.prototype.find called on null or undefined');\n            }\n\n            if (typeof predicate !== 'function') {\n              throw new TypeError('predicate must be a function');\n            }\n\n            var list = Object(this);\n            var length = list.length >>> 0;\n            var thisArg = arguments[1];\n            var value;\n\n            for (var i = 0; i < length; i++) {\n              value = list[i];\n\n              if (predicate.call(thisArg, value, i, list)) {\n                return value;\n              }\n            }\n\n            return undefined;\n          }\n        });\n      }\n\n      document.addEventListener(\"DOMContentLoaded\", function () {\n        // Disable resizing in Firefox\n        document.execCommand(\"enableObjectResizing\", false, false); // Disable automatic linkifying in IE11\n\n        document.execCommand(\"autoUrlDetect\", false, false);\n      });\n      /***/\n    },\n    /* 51 */\n\n    /***/\n    function (module, exports) {\n      /**\n       * This library modifies the diff-patch-match library by Neil Fraser\n       * by removing the patch and match functionality and certain advanced\n       * options in the diff function. The original license is as follows:\n       *\n       * ===\n       *\n       * Diff Match and Patch\n       *\n       * Copyright 2006 Google Inc.\n       * http://code.google.com/p/google-diff-match-patch/\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *   http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n      /**\n       * The data structure representing a diff is an array of tuples:\n       * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n       * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n       */\n      var DIFF_DELETE = -1;\n      var DIFF_INSERT = 1;\n      var DIFF_EQUAL = 0;\n      /**\n       * Find the differences between two texts.  Simplifies the problem by stripping\n       * any common prefix or suffix off the texts before diffing.\n       * @param {string} text1 Old string to be diffed.\n       * @param {string} text2 New string to be diffed.\n       * @param {Int} cursor_pos Expected edit position in text1 (optional)\n       * @return {Array} Array of diff tuples.\n       */\n\n      function diff_main(text1, text2, cursor_pos) {\n        // Check for equality (speedup).\n        if (text1 == text2) {\n          if (text1) {\n            return [[DIFF_EQUAL, text1]];\n          }\n\n          return [];\n        } // Check cursor_pos within bounds\n\n\n        if (cursor_pos < 0 || text1.length < cursor_pos) {\n          cursor_pos = null;\n        } // Trim off common prefix (speedup).\n\n\n        var commonlength = diff_commonPrefix(text1, text2);\n        var commonprefix = text1.substring(0, commonlength);\n        text1 = text1.substring(commonlength);\n        text2 = text2.substring(commonlength); // Trim off common suffix (speedup).\n\n        commonlength = diff_commonSuffix(text1, text2);\n        var commonsuffix = text1.substring(text1.length - commonlength);\n        text1 = text1.substring(0, text1.length - commonlength);\n        text2 = text2.substring(0, text2.length - commonlength); // Compute the diff on the middle block.\n\n        var diffs = diff_compute_(text1, text2); // Restore the prefix and suffix.\n\n        if (commonprefix) {\n          diffs.unshift([DIFF_EQUAL, commonprefix]);\n        }\n\n        if (commonsuffix) {\n          diffs.push([DIFF_EQUAL, commonsuffix]);\n        }\n\n        diff_cleanupMerge(diffs);\n\n        if (cursor_pos != null) {\n          diffs = fix_cursor(diffs, cursor_pos);\n        }\n\n        diffs = fix_emoji(diffs);\n        return diffs;\n      }\n\n      ;\n      /**\n       * Find the differences between two texts.  Assumes that the texts do not\n       * have any common prefix or suffix.\n       * @param {string} text1 Old string to be diffed.\n       * @param {string} text2 New string to be diffed.\n       * @return {Array} Array of diff tuples.\n       */\n\n      function diff_compute_(text1, text2) {\n        var diffs;\n\n        if (!text1) {\n          // Just add some text (speedup).\n          return [[DIFF_INSERT, text2]];\n        }\n\n        if (!text2) {\n          // Just delete some text (speedup).\n          return [[DIFF_DELETE, text1]];\n        }\n\n        var longtext = text1.length > text2.length ? text1 : text2;\n        var shorttext = text1.length > text2.length ? text2 : text1;\n        var i = longtext.indexOf(shorttext);\n\n        if (i != -1) {\n          // Shorter text is inside the longer text (speedup).\n          diffs = [[DIFF_INSERT, longtext.substring(0, i)], [DIFF_EQUAL, shorttext], [DIFF_INSERT, longtext.substring(i + shorttext.length)]]; // Swap insertions for deletions if diff is reversed.\n\n          if (text1.length > text2.length) {\n            diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n          }\n\n          return diffs;\n        }\n\n        if (shorttext.length == 1) {\n          // Single character string.\n          // After the previous speedup, the character can't be an equality.\n          return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n        } // Check to see if the problem can be split in two.\n\n\n        var hm = diff_halfMatch_(text1, text2);\n\n        if (hm) {\n          // A half-match was found, sort out the return data.\n          var text1_a = hm[0];\n          var text1_b = hm[1];\n          var text2_a = hm[2];\n          var text2_b = hm[3];\n          var mid_common = hm[4]; // Send both pairs off for separate processing.\n\n          var diffs_a = diff_main(text1_a, text2_a);\n          var diffs_b = diff_main(text1_b, text2_b); // Merge the results.\n\n          return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);\n        }\n\n        return diff_bisect_(text1, text2);\n      }\n\n      ;\n      /**\n       * Find the 'middle snake' of a diff, split the problem in two\n       * and return the recursively constructed diff.\n       * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n       * @param {string} text1 Old string to be diffed.\n       * @param {string} text2 New string to be diffed.\n       * @return {Array} Array of diff tuples.\n       * @private\n       */\n\n      function diff_bisect_(text1, text2) {\n        // Cache the text lengths to prevent multiple calls.\n        var text1_length = text1.length;\n        var text2_length = text2.length;\n        var max_d = Math.ceil((text1_length + text2_length) / 2);\n        var v_offset = max_d;\n        var v_length = 2 * max_d;\n        var v1 = new Array(v_length);\n        var v2 = new Array(v_length); // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n        // integers and undefined.\n\n        for (var x = 0; x < v_length; x++) {\n          v1[x] = -1;\n          v2[x] = -1;\n        }\n\n        v1[v_offset + 1] = 0;\n        v2[v_offset + 1] = 0;\n        var delta = text1_length - text2_length; // If the total number of characters is odd, then the front path will collide\n        // with the reverse path.\n\n        var front = delta % 2 != 0; // Offsets for start and end of k loop.\n        // Prevents mapping of space beyond the grid.\n\n        var k1start = 0;\n        var k1end = 0;\n        var k2start = 0;\n        var k2end = 0;\n\n        for (var d = 0; d < max_d; d++) {\n          // Walk the front path one step.\n          for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n            var k1_offset = v_offset + k1;\n            var x1;\n\n            if (k1 == -d || k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1]) {\n              x1 = v1[k1_offset + 1];\n            } else {\n              x1 = v1[k1_offset - 1] + 1;\n            }\n\n            var y1 = x1 - k1;\n\n            while (x1 < text1_length && y1 < text2_length && text1.charAt(x1) == text2.charAt(y1)) {\n              x1++;\n              y1++;\n            }\n\n            v1[k1_offset] = x1;\n\n            if (x1 > text1_length) {\n              // Ran off the right of the graph.\n              k1end += 2;\n            } else if (y1 > text2_length) {\n              // Ran off the bottom of the graph.\n              k1start += 2;\n            } else if (front) {\n              var k2_offset = v_offset + delta - k1;\n\n              if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n                // Mirror x2 onto top-left coordinate system.\n                var x2 = text1_length - v2[k2_offset];\n\n                if (x1 >= x2) {\n                  // Overlap detected.\n                  return diff_bisectSplit_(text1, text2, x1, y1);\n                }\n              }\n            }\n          } // Walk the reverse path one step.\n\n\n          for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n            var k2_offset = v_offset + k2;\n            var x2;\n\n            if (k2 == -d || k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1]) {\n              x2 = v2[k2_offset + 1];\n            } else {\n              x2 = v2[k2_offset - 1] + 1;\n            }\n\n            var y2 = x2 - k2;\n\n            while (x2 < text1_length && y2 < text2_length && text1.charAt(text1_length - x2 - 1) == text2.charAt(text2_length - y2 - 1)) {\n              x2++;\n              y2++;\n            }\n\n            v2[k2_offset] = x2;\n\n            if (x2 > text1_length) {\n              // Ran off the left of the graph.\n              k2end += 2;\n            } else if (y2 > text2_length) {\n              // Ran off the top of the graph.\n              k2start += 2;\n            } else if (!front) {\n              var k1_offset = v_offset + delta - k2;\n\n              if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n                var x1 = v1[k1_offset];\n                var y1 = v_offset + x1 - k1_offset; // Mirror x2 onto top-left coordinate system.\n\n                x2 = text1_length - x2;\n\n                if (x1 >= x2) {\n                  // Overlap detected.\n                  return diff_bisectSplit_(text1, text2, x1, y1);\n                }\n              }\n            }\n          }\n        } // Diff took too long and hit the deadline or\n        // number of diffs equals number of characters, no commonality at all.\n\n\n        return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n      }\n\n      ;\n      /**\n       * Given the location of the 'middle snake', split the diff in two parts\n       * and recurse.\n       * @param {string} text1 Old string to be diffed.\n       * @param {string} text2 New string to be diffed.\n       * @param {number} x Index of split point in text1.\n       * @param {number} y Index of split point in text2.\n       * @return {Array} Array of diff tuples.\n       */\n\n      function diff_bisectSplit_(text1, text2, x, y) {\n        var text1a = text1.substring(0, x);\n        var text2a = text2.substring(0, y);\n        var text1b = text1.substring(x);\n        var text2b = text2.substring(y); // Compute both diffs serially.\n\n        var diffs = diff_main(text1a, text2a);\n        var diffsb = diff_main(text1b, text2b);\n        return diffs.concat(diffsb);\n      }\n\n      ;\n      /**\n       * Determine the common prefix of two strings.\n       * @param {string} text1 First string.\n       * @param {string} text2 Second string.\n       * @return {number} The number of characters common to the start of each\n       *     string.\n       */\n\n      function diff_commonPrefix(text1, text2) {\n        // Quick check for common null cases.\n        if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n          return 0;\n        } // Binary search.\n        // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n\n\n        var pointermin = 0;\n        var pointermax = Math.min(text1.length, text2.length);\n        var pointermid = pointermax;\n        var pointerstart = 0;\n\n        while (pointermin < pointermid) {\n          if (text1.substring(pointerstart, pointermid) == text2.substring(pointerstart, pointermid)) {\n            pointermin = pointermid;\n            pointerstart = pointermin;\n          } else {\n            pointermax = pointermid;\n          }\n\n          pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n        }\n\n        return pointermid;\n      }\n\n      ;\n      /**\n       * Determine the common suffix of two strings.\n       * @param {string} text1 First string.\n       * @param {string} text2 Second string.\n       * @return {number} The number of characters common to the end of each string.\n       */\n\n      function diff_commonSuffix(text1, text2) {\n        // Quick check for common null cases.\n        if (!text1 || !text2 || text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n          return 0;\n        } // Binary search.\n        // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n\n\n        var pointermin = 0;\n        var pointermax = Math.min(text1.length, text2.length);\n        var pointermid = pointermax;\n        var pointerend = 0;\n\n        while (pointermin < pointermid) {\n          if (text1.substring(text1.length - pointermid, text1.length - pointerend) == text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n            pointermin = pointermid;\n            pointerend = pointermin;\n          } else {\n            pointermax = pointermid;\n          }\n\n          pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n        }\n\n        return pointermid;\n      }\n\n      ;\n      /**\n       * Do the two texts share a substring which is at least half the length of the\n       * longer text?\n       * This speedup can produce non-minimal diffs.\n       * @param {string} text1 First string.\n       * @param {string} text2 Second string.\n       * @return {Array.<string>} Five element Array, containing the prefix of\n       *     text1, the suffix of text1, the prefix of text2, the suffix of\n       *     text2 and the common middle.  Or null if there was no match.\n       */\n\n      function diff_halfMatch_(text1, text2) {\n        var longtext = text1.length > text2.length ? text1 : text2;\n        var shorttext = text1.length > text2.length ? text2 : text1;\n\n        if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n          return null; // Pointless.\n        }\n        /**\n         * Does a substring of shorttext exist within longtext such that the substring\n         * is at least half the length of longtext?\n         * Closure, but does not reference any external variables.\n         * @param {string} longtext Longer string.\n         * @param {string} shorttext Shorter string.\n         * @param {number} i Start index of quarter length substring within longtext.\n         * @return {Array.<string>} Five element Array, containing the prefix of\n         *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n         *     of shorttext and the common middle.  Or null if there was no match.\n         * @private\n         */\n\n\n        function diff_halfMatchI_(longtext, shorttext, i) {\n          // Start with a 1/4 length substring at position i as a seed.\n          var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n          var j = -1;\n          var best_common = '';\n          var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n\n          while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n            var prefixLength = diff_commonPrefix(longtext.substring(i), shorttext.substring(j));\n            var suffixLength = diff_commonSuffix(longtext.substring(0, i), shorttext.substring(0, j));\n\n            if (best_common.length < suffixLength + prefixLength) {\n              best_common = shorttext.substring(j - suffixLength, j) + shorttext.substring(j, j + prefixLength);\n              best_longtext_a = longtext.substring(0, i - suffixLength);\n              best_longtext_b = longtext.substring(i + prefixLength);\n              best_shorttext_a = shorttext.substring(0, j - suffixLength);\n              best_shorttext_b = shorttext.substring(j + prefixLength);\n            }\n          }\n\n          if (best_common.length * 2 >= longtext.length) {\n            return [best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b, best_common];\n          } else {\n            return null;\n          }\n        } // First check if the second quarter is the seed for a half-match.\n\n\n        var hm1 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 4)); // Check again based on the third quarter.\n\n        var hm2 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 2));\n        var hm;\n\n        if (!hm1 && !hm2) {\n          return null;\n        } else if (!hm2) {\n          hm = hm1;\n        } else if (!hm1) {\n          hm = hm2;\n        } else {\n          // Both matched.  Select the longest.\n          hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n        } // A half-match was found, sort out the return data.\n\n\n        var text1_a, text1_b, text2_a, text2_b;\n\n        if (text1.length > text2.length) {\n          text1_a = hm[0];\n          text1_b = hm[1];\n          text2_a = hm[2];\n          text2_b = hm[3];\n        } else {\n          text2_a = hm[0];\n          text2_b = hm[1];\n          text1_a = hm[2];\n          text1_b = hm[3];\n        }\n\n        var mid_common = hm[4];\n        return [text1_a, text1_b, text2_a, text2_b, mid_common];\n      }\n\n      ;\n      /**\n       * Reorder and merge like edit sections.  Merge equalities.\n       * Any edit section can move as long as it doesn't cross an equality.\n       * @param {Array} diffs Array of diff tuples.\n       */\n\n      function diff_cleanupMerge(diffs) {\n        diffs.push([DIFF_EQUAL, '']); // Add a dummy entry at the end.\n\n        var pointer = 0;\n        var count_delete = 0;\n        var count_insert = 0;\n        var text_delete = '';\n        var text_insert = '';\n        var commonlength;\n\n        while (pointer < diffs.length) {\n          switch (diffs[pointer][0]) {\n            case DIFF_INSERT:\n              count_insert++;\n              text_insert += diffs[pointer][1];\n              pointer++;\n              break;\n\n            case DIFF_DELETE:\n              count_delete++;\n              text_delete += diffs[pointer][1];\n              pointer++;\n              break;\n\n            case DIFF_EQUAL:\n              // Upon reaching an equality, check for prior redundancies.\n              if (count_delete + count_insert > 1) {\n                if (count_delete !== 0 && count_insert !== 0) {\n                  // Factor out any common prefixies.\n                  commonlength = diff_commonPrefix(text_insert, text_delete);\n\n                  if (commonlength !== 0) {\n                    if (pointer - count_delete - count_insert > 0 && diffs[pointer - count_delete - count_insert - 1][0] == DIFF_EQUAL) {\n                      diffs[pointer - count_delete - count_insert - 1][1] += text_insert.substring(0, commonlength);\n                    } else {\n                      diffs.splice(0, 0, [DIFF_EQUAL, text_insert.substring(0, commonlength)]);\n                      pointer++;\n                    }\n\n                    text_insert = text_insert.substring(commonlength);\n                    text_delete = text_delete.substring(commonlength);\n                  } // Factor out any common suffixies.\n\n\n                  commonlength = diff_commonSuffix(text_insert, text_delete);\n\n                  if (commonlength !== 0) {\n                    diffs[pointer][1] = text_insert.substring(text_insert.length - commonlength) + diffs[pointer][1];\n                    text_insert = text_insert.substring(0, text_insert.length - commonlength);\n                    text_delete = text_delete.substring(0, text_delete.length - commonlength);\n                  }\n                } // Delete the offending records and add the merged ones.\n\n\n                if (count_delete === 0) {\n                  diffs.splice(pointer - count_insert, count_delete + count_insert, [DIFF_INSERT, text_insert]);\n                } else if (count_insert === 0) {\n                  diffs.splice(pointer - count_delete, count_delete + count_insert, [DIFF_DELETE, text_delete]);\n                } else {\n                  diffs.splice(pointer - count_delete - count_insert, count_delete + count_insert, [DIFF_DELETE, text_delete], [DIFF_INSERT, text_insert]);\n                }\n\n                pointer = pointer - count_delete - count_insert + (count_delete ? 1 : 0) + (count_insert ? 1 : 0) + 1;\n              } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n                // Merge this equality with the previous one.\n                diffs[pointer - 1][1] += diffs[pointer][1];\n                diffs.splice(pointer, 1);\n              } else {\n                pointer++;\n              }\n\n              count_insert = 0;\n              count_delete = 0;\n              text_delete = '';\n              text_insert = '';\n              break;\n          }\n        }\n\n        if (diffs[diffs.length - 1][1] === '') {\n          diffs.pop(); // Remove the dummy entry at the end.\n        } // Second pass: look for single edits surrounded on both sides by equalities\n        // which can be shifted sideways to eliminate an equality.\n        // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n\n\n        var changes = false;\n        pointer = 1; // Intentionally ignore the first and last element (don't need checking).\n\n        while (pointer < diffs.length - 1) {\n          if (diffs[pointer - 1][0] == DIFF_EQUAL && diffs[pointer + 1][0] == DIFF_EQUAL) {\n            // This is a single edit surrounded by equalities.\n            if (diffs[pointer][1].substring(diffs[pointer][1].length - diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n              // Shift the edit over the previous equality.\n              diffs[pointer][1] = diffs[pointer - 1][1] + diffs[pointer][1].substring(0, diffs[pointer][1].length - diffs[pointer - 1][1].length);\n              diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n              diffs.splice(pointer - 1, 1);\n              changes = true;\n            } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) == diffs[pointer + 1][1]) {\n              // Shift the edit over the next equality.\n              diffs[pointer - 1][1] += diffs[pointer + 1][1];\n              diffs[pointer][1] = diffs[pointer][1].substring(diffs[pointer + 1][1].length) + diffs[pointer + 1][1];\n              diffs.splice(pointer + 1, 1);\n              changes = true;\n            }\n          }\n\n          pointer++;\n        } // If shifts were made, the diff needs reordering and another shift sweep.\n\n\n        if (changes) {\n          diff_cleanupMerge(diffs);\n        }\n      }\n\n      ;\n      var diff = diff_main;\n      diff.INSERT = DIFF_INSERT;\n      diff.DELETE = DIFF_DELETE;\n      diff.EQUAL = DIFF_EQUAL;\n      module.exports = diff;\n      /*\n       * Modify a diff such that the cursor position points to the start of a change:\n       * E.g.\n       *   cursor_normalize_diff([[DIFF_EQUAL, 'abc']], 1)\n       *     => [1, [[DIFF_EQUAL, 'a'], [DIFF_EQUAL, 'bc']]]\n       *   cursor_normalize_diff([[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xyz']], 2)\n       *     => [2, [[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xy'], [DIFF_DELETE, 'z']]]\n       *\n       * @param {Array} diffs Array of diff tuples\n       * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!\n       * @return {Array} A tuple [cursor location in the modified diff, modified diff]\n       */\n\n      function cursor_normalize_diff(diffs, cursor_pos) {\n        if (cursor_pos === 0) {\n          return [DIFF_EQUAL, diffs];\n        }\n\n        for (var current_pos = 0, i = 0; i < diffs.length; i++) {\n          var d = diffs[i];\n\n          if (d[0] === DIFF_DELETE || d[0] === DIFF_EQUAL) {\n            var next_pos = current_pos + d[1].length;\n\n            if (cursor_pos === next_pos) {\n              return [i + 1, diffs];\n            } else if (cursor_pos < next_pos) {\n              // copy to prevent side effects\n              diffs = diffs.slice(); // split d into two diff changes\n\n              var split_pos = cursor_pos - current_pos;\n              var d_left = [d[0], d[1].slice(0, split_pos)];\n              var d_right = [d[0], d[1].slice(split_pos)];\n              diffs.splice(i, 1, d_left, d_right);\n              return [i + 1, diffs];\n            } else {\n              current_pos = next_pos;\n            }\n          }\n        }\n\n        throw new Error('cursor_pos is out of bounds!');\n      }\n      /*\n       * Modify a diff such that the edit position is \"shifted\" to the proposed edit location (cursor_position).\n       *\n       * Case 1)\n       *   Check if a naive shift is possible:\n       *     [0, X], [ 1, Y] -> [ 1, Y], [0, X]    (if X + Y === Y + X)\n       *     [0, X], [-1, Y] -> [-1, Y], [0, X]    (if X + Y === Y + X) - holds same result\n       * Case 2)\n       *   Check if the following shifts are possible:\n       *     [0, 'pre'], [ 1, 'prefix'] -> [ 1, 'pre'], [0, 'pre'], [ 1, 'fix']\n       *     [0, 'pre'], [-1, 'prefix'] -> [-1, 'pre'], [0, 'pre'], [-1, 'fix']\n       *         ^            ^\n       *         d          d_next\n       *\n       * @param {Array} diffs Array of diff tuples\n       * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!\n       * @return {Array} Array of diff tuples\n       */\n\n\n      function fix_cursor(diffs, cursor_pos) {\n        var norm = cursor_normalize_diff(diffs, cursor_pos);\n        var ndiffs = norm[1];\n        var cursor_pointer = norm[0];\n        var d = ndiffs[cursor_pointer];\n        var d_next = ndiffs[cursor_pointer + 1];\n\n        if (d == null) {\n          // Text was deleted from end of original string,\n          // cursor is now out of bounds in new string\n          return diffs;\n        } else if (d[0] !== DIFF_EQUAL) {\n          // A modification happened at the cursor location.\n          // This is the expected outcome, so we can return the original diff.\n          return diffs;\n        } else {\n          if (d_next != null && d[1] + d_next[1] === d_next[1] + d[1]) {\n            // Case 1)\n            // It is possible to perform a naive shift\n            ndiffs.splice(cursor_pointer, 2, d_next, d);\n            return merge_tuples(ndiffs, cursor_pointer, 2);\n          } else if (d_next != null && d_next[1].indexOf(d[1]) === 0) {\n            // Case 2)\n            // d[1] is a prefix of d_next[1]\n            // We can assume that d_next[0] !== 0, since d[0] === 0\n            // Shift edit locations..\n            ndiffs.splice(cursor_pointer, 2, [d_next[0], d[1]], [0, d[1]]);\n            var suffix = d_next[1].slice(d[1].length);\n\n            if (suffix.length > 0) {\n              ndiffs.splice(cursor_pointer + 2, 0, [d_next[0], suffix]);\n            }\n\n            return merge_tuples(ndiffs, cursor_pointer, 3);\n          } else {\n            // Not possible to perform any modification\n            return diffs;\n          }\n        }\n      }\n      /*\n       * Check diff did not split surrogate pairs.\n       * Ex. [0, '\\uD83D'], [-1, '\\uDC36'], [1, '\\uDC2F'] -> [-1, '\\uD83D\\uDC36'], [1, '\\uD83D\\uDC2F']\n       *     '\\uD83D\\uDC36' === '🐶', '\\uD83D\\uDC2F' === '🐯'\n       *\n       * @param {Array} diffs Array of diff tuples\n       * @return {Array} Array of diff tuples\n       */\n\n\n      function fix_emoji(diffs) {\n        var compact = false;\n\n        var starts_with_pair_end = function starts_with_pair_end(str) {\n          return str.charCodeAt(0) >= 0xDC00 && str.charCodeAt(0) <= 0xDFFF;\n        };\n\n        var ends_with_pair_start = function ends_with_pair_start(str) {\n          return str.charCodeAt(str.length - 1) >= 0xD800 && str.charCodeAt(str.length - 1) <= 0xDBFF;\n        };\n\n        for (var i = 2; i < diffs.length; i += 1) {\n          if (diffs[i - 2][0] === DIFF_EQUAL && ends_with_pair_start(diffs[i - 2][1]) && diffs[i - 1][0] === DIFF_DELETE && starts_with_pair_end(diffs[i - 1][1]) && diffs[i][0] === DIFF_INSERT && starts_with_pair_end(diffs[i][1])) {\n            compact = true;\n            diffs[i - 1][1] = diffs[i - 2][1].slice(-1) + diffs[i - 1][1];\n            diffs[i][1] = diffs[i - 2][1].slice(-1) + diffs[i][1];\n            diffs[i - 2][1] = diffs[i - 2][1].slice(0, -1);\n          }\n        }\n\n        if (!compact) {\n          return diffs;\n        }\n\n        var fixed_diffs = [];\n\n        for (var i = 0; i < diffs.length; i += 1) {\n          if (diffs[i][1].length > 0) {\n            fixed_diffs.push(diffs[i]);\n          }\n        }\n\n        return fixed_diffs;\n      }\n      /*\n       * Try to merge tuples with their neigbors in a given range.\n       * E.g. [0, 'a'], [0, 'b'] -> [0, 'ab']\n       *\n       * @param {Array} diffs Array of diff tuples.\n       * @param {Int} start Position of the first element to merge (diffs[start] is also merged with diffs[start - 1]).\n       * @param {Int} length Number of consecutive elements to check.\n       * @return {Array} Array of merged diff tuples.\n       */\n\n\n      function merge_tuples(diffs, start, length) {\n        // Check from (start-1) to (start+length).\n        for (var i = start + length - 1; i >= 0 && i >= start - 1; i--) {\n          if (i + 1 < diffs.length) {\n            var left_d = diffs[i];\n            var right_d = diffs[i + 1];\n\n            if (left_d[0] === right_d[1]) {\n              diffs.splice(i, 2, [left_d[0], left_d[1] + right_d[1]]);\n            }\n          }\n        }\n\n        return diffs;\n      }\n      /***/\n\n    },\n    /* 52 */\n\n    /***/\n    function (module, exports) {\n      exports = module.exports = typeof Object.keys === 'function' ? Object.keys : shim;\n      exports.shim = shim;\n\n      function shim(obj) {\n        var keys = [];\n\n        for (var key in obj) {\n          keys.push(key);\n        }\n\n        return keys;\n      }\n      /***/\n\n    },\n    /* 53 */\n\n    /***/\n    function (module, exports) {\n      var supportsArgumentsClass = function () {\n        return Object.prototype.toString.call(arguments);\n      }() == '[object Arguments]';\n\n      exports = module.exports = supportsArgumentsClass ? supported : unsupported;\n      exports.supported = supported;\n\n      function supported(object) {\n        return Object.prototype.toString.call(object) == '[object Arguments]';\n      }\n\n      ;\n      exports.unsupported = unsupported;\n\n      function unsupported(object) {\n        return object && typeof object == 'object' && typeof object.length == 'number' && Object.prototype.hasOwnProperty.call(object, 'callee') && !Object.prototype.propertyIsEnumerable.call(object, 'callee') || false;\n      }\n\n      ;\n      /***/\n    },\n    /* 54 */\n\n    /***/\n    function (module, exports) {\n      'use strict';\n\n      var has = Object.prototype.hasOwnProperty,\n          prefix = '~';\n      /**\n       * Constructor to create a storage for our `EE` objects.\n       * An `Events` instance is a plain object whose properties are event names.\n       *\n       * @constructor\n       * @api private\n       */\n\n      function Events() {} //\n      // We try to not inherit from `Object.prototype`. In some engines creating an\n      // instance in this way is faster than calling `Object.create(null)` directly.\n      // If `Object.create(null)` is not supported we prefix the event names with a\n      // character to make sure that the built-in object properties are not\n      // overridden or used as an attack vector.\n      //\n\n\n      if (Object.create) {\n        Events.prototype = Object.create(null); //\n        // This hack is needed because the `__proto__` property is still inherited in\n        // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n        //\n\n        if (!new Events().__proto__) prefix = false;\n      }\n      /**\n       * Representation of a single event listener.\n       *\n       * @param {Function} fn The listener function.\n       * @param {Mixed} context The context to invoke the listener with.\n       * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n       * @constructor\n       * @api private\n       */\n\n\n      function EE(fn, context, once) {\n        this.fn = fn;\n        this.context = context;\n        this.once = once || false;\n      }\n      /**\n       * Minimal `EventEmitter` interface that is molded against the Node.js\n       * `EventEmitter` interface.\n       *\n       * @constructor\n       * @api public\n       */\n\n\n      function EventEmitter() {\n        this._events = new Events();\n        this._eventsCount = 0;\n      }\n      /**\n       * Return an array listing the events for which the emitter has registered\n       * listeners.\n       *\n       * @returns {Array}\n       * @api public\n       */\n\n\n      EventEmitter.prototype.eventNames = function eventNames() {\n        var names = [],\n            events,\n            name;\n        if (this._eventsCount === 0) return names;\n\n        for (name in events = this._events) {\n          if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n        }\n\n        if (Object.getOwnPropertySymbols) {\n          return names.concat(Object.getOwnPropertySymbols(events));\n        }\n\n        return names;\n      };\n      /**\n       * Return the listeners registered for a given event.\n       *\n       * @param {String|Symbol} event The event name.\n       * @param {Boolean} exists Only check if there are listeners.\n       * @returns {Array|Boolean}\n       * @api public\n       */\n\n\n      EventEmitter.prototype.listeners = function listeners(event, exists) {\n        var evt = prefix ? prefix + event : event,\n            available = this._events[evt];\n        if (exists) return !!available;\n        if (!available) return [];\n        if (available.fn) return [available.fn];\n\n        for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n          ee[i] = available[i].fn;\n        }\n\n        return ee;\n      };\n      /**\n       * Calls each of the listeners registered for a given event.\n       *\n       * @param {String|Symbol} event The event name.\n       * @returns {Boolean} `true` if the event had listeners, else `false`.\n       * @api public\n       */\n\n\n      EventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n        var evt = prefix ? prefix + event : event;\n        if (!this._events[evt]) return false;\n        var listeners = this._events[evt],\n            len = arguments.length,\n            args,\n            i;\n\n        if (listeners.fn) {\n          if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n          switch (len) {\n            case 1:\n              return listeners.fn.call(listeners.context), true;\n\n            case 2:\n              return listeners.fn.call(listeners.context, a1), true;\n\n            case 3:\n              return listeners.fn.call(listeners.context, a1, a2), true;\n\n            case 4:\n              return listeners.fn.call(listeners.context, a1, a2, a3), true;\n\n            case 5:\n              return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n\n            case 6:\n              return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n          }\n\n          for (i = 1, args = new Array(len - 1); i < len; i++) {\n            args[i - 1] = arguments[i];\n          }\n\n          listeners.fn.apply(listeners.context, args);\n        } else {\n          var length = listeners.length,\n              j;\n\n          for (i = 0; i < length; i++) {\n            if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n            switch (len) {\n              case 1:\n                listeners[i].fn.call(listeners[i].context);\n                break;\n\n              case 2:\n                listeners[i].fn.call(listeners[i].context, a1);\n                break;\n\n              case 3:\n                listeners[i].fn.call(listeners[i].context, a1, a2);\n                break;\n\n              case 4:\n                listeners[i].fn.call(listeners[i].context, a1, a2, a3);\n                break;\n\n              default:\n                if (!args) for (j = 1, args = new Array(len - 1); j < len; j++) {\n                  args[j - 1] = arguments[j];\n                }\n                listeners[i].fn.apply(listeners[i].context, args);\n            }\n          }\n        }\n\n        return true;\n      };\n      /**\n       * Add a listener for a given event.\n       *\n       * @param {String|Symbol} event The event name.\n       * @param {Function} fn The listener function.\n       * @param {Mixed} [context=this] The context to invoke the listener with.\n       * @returns {EventEmitter} `this`.\n       * @api public\n       */\n\n\n      EventEmitter.prototype.on = function on(event, fn, context) {\n        var listener = new EE(fn, context || this),\n            evt = prefix ? prefix + event : event;\n        if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;else if (!this._events[evt].fn) this._events[evt].push(listener);else this._events[evt] = [this._events[evt], listener];\n        return this;\n      };\n      /**\n       * Add a one-time listener for a given event.\n       *\n       * @param {String|Symbol} event The event name.\n       * @param {Function} fn The listener function.\n       * @param {Mixed} [context=this] The context to invoke the listener with.\n       * @returns {EventEmitter} `this`.\n       * @api public\n       */\n\n\n      EventEmitter.prototype.once = function once(event, fn, context) {\n        var listener = new EE(fn, context || this, true),\n            evt = prefix ? prefix + event : event;\n        if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;else if (!this._events[evt].fn) this._events[evt].push(listener);else this._events[evt] = [this._events[evt], listener];\n        return this;\n      };\n      /**\n       * Remove the listeners of a given event.\n       *\n       * @param {String|Symbol} event The event name.\n       * @param {Function} fn Only remove the listeners that match this function.\n       * @param {Mixed} context Only remove the listeners that have this context.\n       * @param {Boolean} once Only remove one-time listeners.\n       * @returns {EventEmitter} `this`.\n       * @api public\n       */\n\n\n      EventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n        var evt = prefix ? prefix + event : event;\n        if (!this._events[evt]) return this;\n\n        if (!fn) {\n          if (--this._eventsCount === 0) this._events = new Events();else delete this._events[evt];\n          return this;\n        }\n\n        var listeners = this._events[evt];\n\n        if (listeners.fn) {\n          if (listeners.fn === fn && (!once || listeners.once) && (!context || listeners.context === context)) {\n            if (--this._eventsCount === 0) this._events = new Events();else delete this._events[evt];\n          }\n        } else {\n          for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n            if (listeners[i].fn !== fn || once && !listeners[i].once || context && listeners[i].context !== context) {\n              events.push(listeners[i]);\n            }\n          } //\n          // Reset the array, or remove it completely if we have no more listeners.\n          //\n\n\n          if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;else if (--this._eventsCount === 0) this._events = new Events();else delete this._events[evt];\n        }\n\n        return this;\n      };\n      /**\n       * Remove all listeners, or those of the specified event.\n       *\n       * @param {String|Symbol} [event] The event name.\n       * @returns {EventEmitter} `this`.\n       * @api public\n       */\n\n\n      EventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n        var evt;\n\n        if (event) {\n          evt = prefix ? prefix + event : event;\n\n          if (this._events[evt]) {\n            if (--this._eventsCount === 0) this._events = new Events();else delete this._events[evt];\n          }\n        } else {\n          this._events = new Events();\n          this._eventsCount = 0;\n        }\n\n        return this;\n      }; //\n      // Alias methods names because people roll like that.\n      //\n\n\n      EventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n      EventEmitter.prototype.addListener = EventEmitter.prototype.on; //\n      // This function doesn't apply anymore.\n      //\n\n      EventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n        return this;\n      }; //\n      // Expose the prefix.\n      //\n\n\n      EventEmitter.prefixed = prefix; //\n      // Allow `EventEmitter` to be imported as module namespace.\n      //\n\n      EventEmitter.EventEmitter = EventEmitter; //\n      // Expose the module.\n      //\n\n      if ('undefined' !== typeof module) {\n        module.exports = EventEmitter;\n      }\n      /***/\n\n    },\n    /* 55 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.matchText = exports.matchSpacing = exports.matchNewline = exports.matchBlot = exports.matchAttributor = exports.default = undefined;\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _extend2 = __webpack_require__(3);\n\n      var _extend3 = _interopRequireDefault(_extend2);\n\n      var _quillDelta = __webpack_require__(2);\n\n      var _quillDelta2 = _interopRequireDefault(_quillDelta);\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _quill = __webpack_require__(5);\n\n      var _quill2 = _interopRequireDefault(_quill);\n\n      var _logger = __webpack_require__(10);\n\n      var _logger2 = _interopRequireDefault(_logger);\n\n      var _module = __webpack_require__(9);\n\n      var _module2 = _interopRequireDefault(_module);\n\n      var _align = __webpack_require__(36);\n\n      var _background = __webpack_require__(37);\n\n      var _code = __webpack_require__(13);\n\n      var _code2 = _interopRequireDefault(_code);\n\n      var _color = __webpack_require__(26);\n\n      var _direction = __webpack_require__(38);\n\n      var _font = __webpack_require__(39);\n\n      var _size = __webpack_require__(40);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var debug = (0, _logger2.default)('quill:clipboard');\n      var DOM_KEY = '__ql-matcher';\n      var CLIPBOARD_CONFIG = [[Node.TEXT_NODE, matchText], [Node.TEXT_NODE, matchNewline], ['br', matchBreak], [Node.ELEMENT_NODE, matchNewline], [Node.ELEMENT_NODE, matchBlot], [Node.ELEMENT_NODE, matchSpacing], [Node.ELEMENT_NODE, matchAttributor], [Node.ELEMENT_NODE, matchStyles], ['li', matchIndent], ['b', matchAlias.bind(matchAlias, 'bold')], ['i', matchAlias.bind(matchAlias, 'italic')], ['style', matchIgnore]];\n      var ATTRIBUTE_ATTRIBUTORS = [_align.AlignAttribute, _direction.DirectionAttribute].reduce(function (memo, attr) {\n        memo[attr.keyName] = attr;\n        return memo;\n      }, {});\n      var STYLE_ATTRIBUTORS = [_align.AlignStyle, _background.BackgroundStyle, _color.ColorStyle, _direction.DirectionStyle, _font.FontStyle, _size.SizeStyle].reduce(function (memo, attr) {\n        memo[attr.keyName] = attr;\n        return memo;\n      }, {});\n\n      var Clipboard = function (_Module) {\n        _inherits(Clipboard, _Module);\n\n        function Clipboard(quill, options) {\n          _classCallCheck(this, Clipboard);\n\n          var _this = _possibleConstructorReturn(this, (Clipboard.__proto__ || Object.getPrototypeOf(Clipboard)).call(this, quill, options));\n\n          _this.quill.root.addEventListener('paste', _this.onPaste.bind(_this));\n\n          _this.container = _this.quill.addContainer('ql-clipboard');\n\n          _this.container.setAttribute('contenteditable', true);\n\n          _this.container.setAttribute('tabindex', -1);\n\n          _this.matchers = [];\n          CLIPBOARD_CONFIG.concat(_this.options.matchers).forEach(function (_ref) {\n            var _ref2 = _slicedToArray(_ref, 2),\n                selector = _ref2[0],\n                matcher = _ref2[1];\n\n            if (!options.matchVisual && matcher === matchSpacing) return;\n\n            _this.addMatcher(selector, matcher);\n          });\n          return _this;\n        }\n\n        _createClass(Clipboard, [{\n          key: 'addMatcher',\n          value: function addMatcher(selector, matcher) {\n            this.matchers.push([selector, matcher]);\n          }\n        }, {\n          key: 'convert',\n          value: function convert(html) {\n            if (typeof html === 'string') {\n              this.container.innerHTML = html.replace(/\\>\\r?\\n +\\</g, '><'); // Remove spaces between tags\n\n              return this.convert();\n            }\n\n            var formats = this.quill.getFormat(this.quill.selection.savedRange.index);\n\n            if (formats[_code2.default.blotName]) {\n              var text = this.container.innerText;\n              this.container.innerHTML = '';\n              return new _quillDelta2.default().insert(text, _defineProperty({}, _code2.default.blotName, formats[_code2.default.blotName]));\n            }\n\n            var _prepareMatching = this.prepareMatching(),\n                _prepareMatching2 = _slicedToArray(_prepareMatching, 2),\n                elementMatchers = _prepareMatching2[0],\n                textMatchers = _prepareMatching2[1];\n\n            var delta = traverse(this.container, elementMatchers, textMatchers); // Remove trailing newline\n\n            if (deltaEndsWith(delta, '\\n') && delta.ops[delta.ops.length - 1].attributes == null) {\n              delta = delta.compose(new _quillDelta2.default().retain(delta.length() - 1).delete(1));\n            }\n\n            debug.log('convert', this.container.innerHTML, delta);\n            this.container.innerHTML = '';\n            return delta;\n          }\n        }, {\n          key: 'dangerouslyPasteHTML',\n          value: function dangerouslyPasteHTML(index, html) {\n            var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _quill2.default.sources.API;\n\n            if (typeof index === 'string') {\n              this.quill.setContents(this.convert(index), html);\n              this.quill.setSelection(0, _quill2.default.sources.SILENT);\n            } else {\n              var paste = this.convert(html);\n              this.quill.updateContents(new _quillDelta2.default().retain(index).concat(paste), source);\n              this.quill.setSelection(index + paste.length(), _quill2.default.sources.SILENT);\n            }\n          }\n        }, {\n          key: 'onPaste',\n          value: function onPaste(e) {\n            var _this2 = this;\n\n            if (e.defaultPrevented || !this.quill.isEnabled()) return;\n            var range = this.quill.getSelection();\n            var delta = new _quillDelta2.default().retain(range.index);\n            var scrollTop = this.quill.scrollingContainer.scrollTop;\n            this.container.focus();\n            this.quill.selection.update(_quill2.default.sources.SILENT);\n            setTimeout(function () {\n              delta = delta.concat(_this2.convert()).delete(range.length);\n\n              _this2.quill.updateContents(delta, _quill2.default.sources.USER); // range.length contributes to delta.length()\n\n\n              _this2.quill.setSelection(delta.length() - range.length, _quill2.default.sources.SILENT);\n\n              _this2.quill.scrollingContainer.scrollTop = scrollTop;\n\n              _this2.quill.focus();\n            }, 1);\n          }\n        }, {\n          key: 'prepareMatching',\n          value: function prepareMatching() {\n            var _this3 = this;\n\n            var elementMatchers = [],\n                textMatchers = [];\n            this.matchers.forEach(function (pair) {\n              var _pair = _slicedToArray(pair, 2),\n                  selector = _pair[0],\n                  matcher = _pair[1];\n\n              switch (selector) {\n                case Node.TEXT_NODE:\n                  textMatchers.push(matcher);\n                  break;\n\n                case Node.ELEMENT_NODE:\n                  elementMatchers.push(matcher);\n                  break;\n\n                default:\n                  [].forEach.call(_this3.container.querySelectorAll(selector), function (node) {\n                    // TODO use weakmap\n                    node[DOM_KEY] = node[DOM_KEY] || [];\n                    node[DOM_KEY].push(matcher);\n                  });\n                  break;\n              }\n            });\n            return [elementMatchers, textMatchers];\n          }\n        }]);\n\n        return Clipboard;\n      }(_module2.default);\n\n      Clipboard.DEFAULTS = {\n        matchers: [],\n        matchVisual: true\n      };\n\n      function applyFormat(delta, format, value) {\n        if ((typeof format === 'undefined' ? 'undefined' : _typeof(format)) === 'object') {\n          return Object.keys(format).reduce(function (delta, key) {\n            return applyFormat(delta, key, format[key]);\n          }, delta);\n        } else {\n          return delta.reduce(function (delta, op) {\n            if (op.attributes && op.attributes[format]) {\n              return delta.push(op);\n            } else {\n              return delta.insert(op.insert, (0, _extend3.default)({}, _defineProperty({}, format, value), op.attributes));\n            }\n          }, new _quillDelta2.default());\n        }\n      }\n\n      function computeStyle(node) {\n        if (node.nodeType !== Node.ELEMENT_NODE) return {};\n        var DOM_KEY = '__ql-computed-style';\n        return node[DOM_KEY] || (node[DOM_KEY] = window.getComputedStyle(node));\n      }\n\n      function deltaEndsWith(delta, text) {\n        var endText = \"\";\n\n        for (var i = delta.ops.length - 1; i >= 0 && endText.length < text.length; --i) {\n          var op = delta.ops[i];\n          if (typeof op.insert !== 'string') break;\n          endText = op.insert + endText;\n        }\n\n        return endText.slice(-1 * text.length) === text;\n      }\n\n      function isLine(node) {\n        if (node.childNodes.length === 0) return false; // Exclude embed blocks\n\n        var style = computeStyle(node);\n        return ['block', 'list-item'].indexOf(style.display) > -1;\n      }\n\n      function traverse(node, elementMatchers, textMatchers) {\n        // Post-order\n        if (node.nodeType === node.TEXT_NODE) {\n          return textMatchers.reduce(function (delta, matcher) {\n            return matcher(node, delta);\n          }, new _quillDelta2.default());\n        } else if (node.nodeType === node.ELEMENT_NODE) {\n          return [].reduce.call(node.childNodes || [], function (delta, childNode) {\n            var childrenDelta = traverse(childNode, elementMatchers, textMatchers);\n\n            if (childNode.nodeType === node.ELEMENT_NODE) {\n              childrenDelta = elementMatchers.reduce(function (childrenDelta, matcher) {\n                return matcher(childNode, childrenDelta);\n              }, childrenDelta);\n              childrenDelta = (childNode[DOM_KEY] || []).reduce(function (childrenDelta, matcher) {\n                return matcher(childNode, childrenDelta);\n              }, childrenDelta);\n            }\n\n            return delta.concat(childrenDelta);\n          }, new _quillDelta2.default());\n        } else {\n          return new _quillDelta2.default();\n        }\n      }\n\n      function matchAlias(format, node, delta) {\n        return applyFormat(delta, format, true);\n      }\n\n      function matchAttributor(node, delta) {\n        var attributes = _parchment2.default.Attributor.Attribute.keys(node);\n\n        var classes = _parchment2.default.Attributor.Class.keys(node);\n\n        var styles = _parchment2.default.Attributor.Style.keys(node);\n\n        var formats = {};\n        attributes.concat(classes).concat(styles).forEach(function (name) {\n          var attr = _parchment2.default.query(name, _parchment2.default.Scope.ATTRIBUTE);\n\n          if (attr != null) {\n            formats[attr.attrName] = attr.value(node);\n            if (formats[attr.attrName]) return;\n          }\n\n          attr = ATTRIBUTE_ATTRIBUTORS[name];\n\n          if (attr != null && (attr.attrName === name || attr.keyName === name)) {\n            formats[attr.attrName] = attr.value(node) || undefined;\n          }\n\n          attr = STYLE_ATTRIBUTORS[name];\n\n          if (attr != null && (attr.attrName === name || attr.keyName === name)) {\n            attr = STYLE_ATTRIBUTORS[name];\n            formats[attr.attrName] = attr.value(node) || undefined;\n          }\n        });\n\n        if (Object.keys(formats).length > 0) {\n          delta = applyFormat(delta, formats);\n        }\n\n        return delta;\n      }\n\n      function matchBlot(node, delta) {\n        var match = _parchment2.default.query(node);\n\n        if (match == null) return delta;\n\n        if (match.prototype instanceof _parchment2.default.Embed) {\n          var embed = {};\n          var value = match.value(node);\n\n          if (value != null) {\n            embed[match.blotName] = value;\n            delta = new _quillDelta2.default().insert(embed, match.formats(node));\n          }\n        } else if (typeof match.formats === 'function') {\n          delta = applyFormat(delta, match.blotName, match.formats(node));\n        }\n\n        return delta;\n      }\n\n      function matchBreak(node, delta) {\n        if (!deltaEndsWith(delta, '\\n')) {\n          delta.insert('\\n');\n        }\n\n        return delta;\n      }\n\n      function matchIgnore() {\n        return new _quillDelta2.default();\n      }\n\n      function matchIndent(node, delta) {\n        var match = _parchment2.default.query(node);\n\n        if (match == null || match.blotName !== 'list-item' || !deltaEndsWith(delta, '\\n')) {\n          return delta;\n        }\n\n        var indent = -1,\n            parent = node.parentNode;\n\n        while (!parent.classList.contains('ql-clipboard')) {\n          if ((_parchment2.default.query(parent) || {}).blotName === 'list') {\n            indent += 1;\n          }\n\n          parent = parent.parentNode;\n        }\n\n        if (indent <= 0) return delta;\n        return delta.compose(new _quillDelta2.default().retain(delta.length() - 1).retain(1, {\n          indent: indent\n        }));\n      }\n\n      function matchNewline(node, delta) {\n        if (!deltaEndsWith(delta, '\\n')) {\n          if (isLine(node) || delta.length() > 0 && node.nextSibling && isLine(node.nextSibling)) {\n            delta.insert('\\n');\n          }\n        }\n\n        return delta;\n      }\n\n      function matchSpacing(node, delta) {\n        if (isLine(node) && node.nextElementSibling != null && !deltaEndsWith(delta, '\\n\\n')) {\n          var nodeHeight = node.offsetHeight + parseFloat(computeStyle(node).marginTop) + parseFloat(computeStyle(node).marginBottom);\n\n          if (node.nextElementSibling.offsetTop > node.offsetTop + nodeHeight * 1.5) {\n            delta.insert('\\n');\n          }\n        }\n\n        return delta;\n      }\n\n      function matchStyles(node, delta) {\n        var formats = {};\n        var style = node.style || {};\n\n        if (style.fontStyle && computeStyle(node).fontStyle === 'italic') {\n          formats.italic = true;\n        }\n\n        if (style.fontWeight && (computeStyle(node).fontWeight.startsWith('bold') || parseInt(computeStyle(node).fontWeight) >= 700)) {\n          formats.bold = true;\n        }\n\n        if (Object.keys(formats).length > 0) {\n          delta = applyFormat(delta, formats);\n        }\n\n        if (parseFloat(style.textIndent || 0) > 0) {\n          // Could be 0.5in\n          delta = new _quillDelta2.default().insert('\\t').concat(delta);\n        }\n\n        return delta;\n      }\n\n      function matchText(node, delta) {\n        var text = node.data; // Word represents empty line with <o:p>&nbsp;</o:p>\n\n        if (node.parentNode.tagName === 'O:P') {\n          return delta.insert(text.trim());\n        }\n\n        if (text.trim().length === 0 && node.parentNode.classList.contains('ql-clipboard')) {\n          return delta;\n        }\n\n        if (!computeStyle(node.parentNode).whiteSpace.startsWith('pre')) {\n          // eslint-disable-next-line func-style\n          var replacer = function replacer(collapse, match) {\n            match = match.replace(/[^\\u00a0]/g, ''); // \\u00a0 is nbsp;\n\n            return match.length < 1 && collapse ? ' ' : match;\n          };\n\n          text = text.replace(/\\r\\n/g, ' ').replace(/\\n/g, ' ');\n          text = text.replace(/\\s\\s+/g, replacer.bind(replacer, true)); // collapse whitespace\n\n          if (node.previousSibling == null && isLine(node.parentNode) || node.previousSibling != null && isLine(node.previousSibling)) {\n            text = text.replace(/^\\s+/, replacer.bind(replacer, false));\n          }\n\n          if (node.nextSibling == null && isLine(node.parentNode) || node.nextSibling != null && isLine(node.nextSibling)) {\n            text = text.replace(/\\s+$/, replacer.bind(replacer, false));\n          }\n        }\n\n        return delta.insert(text);\n      }\n\n      exports.default = Clipboard;\n      exports.matchAttributor = matchAttributor;\n      exports.matchBlot = matchBlot;\n      exports.matchNewline = matchNewline;\n      exports.matchSpacing = matchSpacing;\n      exports.matchText = matchText;\n      /***/\n    },\n    /* 56 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _inline = __webpack_require__(6);\n\n      var _inline2 = _interopRequireDefault(_inline);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Bold = function (_Inline) {\n        _inherits(Bold, _Inline);\n\n        function Bold() {\n          _classCallCheck(this, Bold);\n\n          return _possibleConstructorReturn(this, (Bold.__proto__ || Object.getPrototypeOf(Bold)).apply(this, arguments));\n        }\n\n        _createClass(Bold, [{\n          key: 'optimize',\n          value: function optimize(context) {\n            _get(Bold.prototype.__proto__ || Object.getPrototypeOf(Bold.prototype), 'optimize', this).call(this, context);\n\n            if (this.domNode.tagName !== this.statics.tagName[0]) {\n              this.replaceWith(this.statics.blotName);\n            }\n          }\n        }], [{\n          key: 'create',\n          value: function create() {\n            return _get(Bold.__proto__ || Object.getPrototypeOf(Bold), 'create', this).call(this);\n          }\n        }, {\n          key: 'formats',\n          value: function formats() {\n            return true;\n          }\n        }]);\n\n        return Bold;\n      }(_inline2.default);\n\n      Bold.blotName = 'bold';\n      Bold.tagName = ['STRONG', 'B'];\n      exports.default = Bold;\n      /***/\n    },\n    /* 57 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.addControls = exports.default = undefined;\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _quillDelta = __webpack_require__(2);\n\n      var _quillDelta2 = _interopRequireDefault(_quillDelta);\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _quill = __webpack_require__(5);\n\n      var _quill2 = _interopRequireDefault(_quill);\n\n      var _logger = __webpack_require__(10);\n\n      var _logger2 = _interopRequireDefault(_logger);\n\n      var _module = __webpack_require__(9);\n\n      var _module2 = _interopRequireDefault(_module);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var debug = (0, _logger2.default)('quill:toolbar');\n\n      var Toolbar = function (_Module) {\n        _inherits(Toolbar, _Module);\n\n        function Toolbar(quill, options) {\n          _classCallCheck(this, Toolbar);\n\n          var _this = _possibleConstructorReturn(this, (Toolbar.__proto__ || Object.getPrototypeOf(Toolbar)).call(this, quill, options));\n\n          if (Array.isArray(_this.options.container)) {\n            var container = document.createElement('div');\n            addControls(container, _this.options.container);\n            quill.container.parentNode.insertBefore(container, quill.container);\n            _this.container = container;\n          } else if (typeof _this.options.container === 'string') {\n            _this.container = document.querySelector(_this.options.container);\n          } else {\n            _this.container = _this.options.container;\n          }\n\n          if (!(_this.container instanceof HTMLElement)) {\n            var _ret;\n\n            return _ret = debug.error('Container required for toolbar', _this.options), _possibleConstructorReturn(_this, _ret);\n          }\n\n          _this.container.classList.add('ql-toolbar');\n\n          _this.controls = [];\n          _this.handlers = {};\n          Object.keys(_this.options.handlers).forEach(function (format) {\n            _this.addHandler(format, _this.options.handlers[format]);\n          });\n          [].forEach.call(_this.container.querySelectorAll('button, select'), function (input) {\n            _this.attach(input);\n          });\n\n          _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function (type, range) {\n            if (type === _quill2.default.events.SELECTION_CHANGE) {\n              _this.update(range);\n            }\n          });\n\n          _this.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function () {\n            var _this$quill$selection = _this.quill.selection.getRange(),\n                _this$quill$selection2 = _slicedToArray(_this$quill$selection, 1),\n                range = _this$quill$selection2[0]; // quill.getSelection triggers update\n\n\n            _this.update(range);\n          });\n\n          return _this;\n        }\n\n        _createClass(Toolbar, [{\n          key: 'addHandler',\n          value: function addHandler(format, handler) {\n            this.handlers[format] = handler;\n          }\n        }, {\n          key: 'attach',\n          value: function attach(input) {\n            var _this2 = this;\n\n            var format = [].find.call(input.classList, function (className) {\n              return className.indexOf('ql-') === 0;\n            });\n            if (!format) return;\n            format = format.slice('ql-'.length);\n\n            if (input.tagName === 'BUTTON') {\n              input.setAttribute('type', 'button');\n            }\n\n            if (this.handlers[format] == null) {\n              if (this.quill.scroll.whitelist != null && this.quill.scroll.whitelist[format] == null) {\n                debug.warn('ignoring attaching to disabled format', format, input);\n                return;\n              }\n\n              if (_parchment2.default.query(format) == null) {\n                debug.warn('ignoring attaching to nonexistent format', format, input);\n                return;\n              }\n            }\n\n            var eventName = input.tagName === 'SELECT' ? 'change' : 'click';\n            input.addEventListener(eventName, function (e) {\n              var value = void 0;\n\n              if (input.tagName === 'SELECT') {\n                if (input.selectedIndex < 0) return;\n                var selected = input.options[input.selectedIndex];\n\n                if (selected.hasAttribute('selected')) {\n                  value = false;\n                } else {\n                  value = selected.value || false;\n                }\n              } else {\n                if (input.classList.contains('ql-active')) {\n                  value = false;\n                } else {\n                  value = input.value || !input.hasAttribute('value');\n                }\n\n                e.preventDefault();\n              }\n\n              _this2.quill.focus();\n\n              var _quill$selection$getR = _this2.quill.selection.getRange(),\n                  _quill$selection$getR2 = _slicedToArray(_quill$selection$getR, 1),\n                  range = _quill$selection$getR2[0];\n\n              if (_this2.handlers[format] != null) {\n                _this2.handlers[format].call(_this2, value);\n              } else if (_parchment2.default.query(format).prototype instanceof _parchment2.default.Embed) {\n                value = prompt('Enter ' + format);\n                if (!value) return;\n\n                _this2.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert(_defineProperty({}, format, value)), _quill2.default.sources.USER);\n              } else {\n                _this2.quill.format(format, value, _quill2.default.sources.USER);\n              }\n\n              _this2.update(range);\n            }); // TODO use weakmap\n\n            this.controls.push([format, input]);\n          }\n        }, {\n          key: 'update',\n          value: function update(range) {\n            var formats = range == null ? {} : this.quill.getFormat(range);\n            this.controls.forEach(function (pair) {\n              var _pair = _slicedToArray(pair, 2),\n                  format = _pair[0],\n                  input = _pair[1];\n\n              if (input.tagName === 'SELECT') {\n                var option = void 0;\n\n                if (range == null) {\n                  option = null;\n                } else if (formats[format] == null) {\n                  option = input.querySelector('option[selected]');\n                } else if (!Array.isArray(formats[format])) {\n                  var value = formats[format];\n\n                  if (typeof value === 'string') {\n                    value = value.replace(/\\\"/g, '\\\\\"');\n                  }\n\n                  option = input.querySelector('option[value=\"' + value + '\"]');\n                }\n\n                if (option == null) {\n                  input.value = ''; // TODO make configurable?\n\n                  input.selectedIndex = -1;\n                } else {\n                  option.selected = true;\n                }\n              } else {\n                if (range == null) {\n                  input.classList.remove('ql-active');\n                } else if (input.hasAttribute('value')) {\n                  // both being null should match (default values)\n                  // '1' should match with 1 (headers)\n                  var isActive = formats[format] === input.getAttribute('value') || formats[format] != null && formats[format].toString() === input.getAttribute('value') || formats[format] == null && !input.getAttribute('value');\n                  input.classList.toggle('ql-active', isActive);\n                } else {\n                  input.classList.toggle('ql-active', formats[format] != null);\n                }\n              }\n            });\n          }\n        }]);\n\n        return Toolbar;\n      }(_module2.default);\n\n      Toolbar.DEFAULTS = {};\n\n      function addButton(container, format, value) {\n        var input = document.createElement('button');\n        input.setAttribute('type', 'button');\n        input.classList.add('ql-' + format);\n\n        if (value != null) {\n          input.value = value;\n        }\n\n        container.appendChild(input);\n      }\n\n      function addControls(container, groups) {\n        if (!Array.isArray(groups[0])) {\n          groups = [groups];\n        }\n\n        groups.forEach(function (controls) {\n          var group = document.createElement('span');\n          group.classList.add('ql-formats');\n          controls.forEach(function (control) {\n            if (typeof control === 'string') {\n              addButton(group, control);\n            } else {\n              var format = Object.keys(control)[0];\n              var value = control[format];\n\n              if (Array.isArray(value)) {\n                addSelect(group, format, value);\n              } else {\n                addButton(group, format, value);\n              }\n            }\n          });\n          container.appendChild(group);\n        });\n      }\n\n      function addSelect(container, format, values) {\n        var input = document.createElement('select');\n        input.classList.add('ql-' + format);\n        values.forEach(function (value) {\n          var option = document.createElement('option');\n\n          if (value !== false) {\n            option.setAttribute('value', value);\n          } else {\n            option.setAttribute('selected', 'selected');\n          }\n\n          input.appendChild(option);\n        });\n        container.appendChild(input);\n      }\n\n      Toolbar.DEFAULTS = {\n        container: null,\n        handlers: {\n          clean: function clean() {\n            var _this3 = this;\n\n            var range = this.quill.getSelection();\n            if (range == null) return;\n\n            if (range.length == 0) {\n              var formats = this.quill.getFormat();\n              Object.keys(formats).forEach(function (name) {\n                // Clean functionality in existing apps only clean inline formats\n                if (_parchment2.default.query(name, _parchment2.default.Scope.INLINE) != null) {\n                  _this3.quill.format(name, false);\n                }\n              });\n            } else {\n              this.quill.removeFormat(range, _quill2.default.sources.USER);\n            }\n          },\n          direction: function direction(value) {\n            var align = this.quill.getFormat()['align'];\n\n            if (value === 'rtl' && align == null) {\n              this.quill.format('align', 'right', _quill2.default.sources.USER);\n            } else if (!value && align === 'right') {\n              this.quill.format('align', false, _quill2.default.sources.USER);\n            }\n\n            this.quill.format('direction', value, _quill2.default.sources.USER);\n          },\n          indent: function indent(value) {\n            var range = this.quill.getSelection();\n            var formats = this.quill.getFormat(range);\n            var indent = parseInt(formats.indent || 0);\n\n            if (value === '+1' || value === '-1') {\n              var modifier = value === '+1' ? 1 : -1;\n              if (formats.direction === 'rtl') modifier *= -1;\n              this.quill.format('indent', indent + modifier, _quill2.default.sources.USER);\n            }\n          },\n          link: function link(value) {\n            if (value === true) {\n              value = prompt('Enter link URL:');\n            }\n\n            this.quill.format('link', value, _quill2.default.sources.USER);\n          },\n          list: function list(value) {\n            var range = this.quill.getSelection();\n            var formats = this.quill.getFormat(range);\n\n            if (value === 'check') {\n              if (formats['list'] === 'checked' || formats['list'] === 'unchecked') {\n                this.quill.format('list', false, _quill2.default.sources.USER);\n              } else {\n                this.quill.format('list', 'unchecked', _quill2.default.sources.USER);\n              }\n            } else {\n              this.quill.format('list', value, _quill2.default.sources.USER);\n            }\n          }\n        }\n      };\n      exports.default = Toolbar;\n      exports.addControls = addControls;\n      /***/\n    },\n    /* 58 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"5 7 3 9 5 11\\\"></polyline> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"13 7 15 9 13 11\\\"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>\";\n      /***/\n    },\n    /* 59 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _picker = __webpack_require__(28);\n\n      var _picker2 = _interopRequireDefault(_picker);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var ColorPicker = function (_Picker) {\n        _inherits(ColorPicker, _Picker);\n\n        function ColorPicker(select, label) {\n          _classCallCheck(this, ColorPicker);\n\n          var _this = _possibleConstructorReturn(this, (ColorPicker.__proto__ || Object.getPrototypeOf(ColorPicker)).call(this, select));\n\n          _this.label.innerHTML = label;\n\n          _this.container.classList.add('ql-color-picker');\n\n          [].slice.call(_this.container.querySelectorAll('.ql-picker-item'), 0, 7).forEach(function (item) {\n            item.classList.add('ql-primary');\n          });\n          return _this;\n        }\n\n        _createClass(ColorPicker, [{\n          key: 'buildItem',\n          value: function buildItem(option) {\n            var item = _get(ColorPicker.prototype.__proto__ || Object.getPrototypeOf(ColorPicker.prototype), 'buildItem', this).call(this, option);\n\n            item.style.backgroundColor = option.getAttribute('value') || '';\n            return item;\n          }\n        }, {\n          key: 'selectItem',\n          value: function selectItem(item, trigger) {\n            _get(ColorPicker.prototype.__proto__ || Object.getPrototypeOf(ColorPicker.prototype), 'selectItem', this).call(this, item, trigger);\n\n            var colorLabel = this.label.querySelector('.ql-color-label');\n            var value = item ? item.getAttribute('data-value') || '' : '';\n\n            if (colorLabel) {\n              if (colorLabel.tagName === 'line') {\n                colorLabel.style.stroke = value;\n              } else {\n                colorLabel.style.fill = value;\n              }\n            }\n          }\n        }]);\n\n        return ColorPicker;\n      }(_picker2.default);\n\n      exports.default = ColorPicker;\n      /***/\n    },\n    /* 60 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _picker = __webpack_require__(28);\n\n      var _picker2 = _interopRequireDefault(_picker);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var IconPicker = function (_Picker) {\n        _inherits(IconPicker, _Picker);\n\n        function IconPicker(select, icons) {\n          _classCallCheck(this, IconPicker);\n\n          var _this = _possibleConstructorReturn(this, (IconPicker.__proto__ || Object.getPrototypeOf(IconPicker)).call(this, select));\n\n          _this.container.classList.add('ql-icon-picker');\n\n          [].forEach.call(_this.container.querySelectorAll('.ql-picker-item'), function (item) {\n            item.innerHTML = icons[item.getAttribute('data-value') || ''];\n          });\n          _this.defaultItem = _this.container.querySelector('.ql-selected');\n\n          _this.selectItem(_this.defaultItem);\n\n          return _this;\n        }\n\n        _createClass(IconPicker, [{\n          key: 'selectItem',\n          value: function selectItem(item, trigger) {\n            _get(IconPicker.prototype.__proto__ || Object.getPrototypeOf(IconPicker.prototype), 'selectItem', this).call(this, item, trigger);\n\n            item = item || this.defaultItem;\n            this.label.innerHTML = item.innerHTML;\n          }\n        }]);\n\n        return IconPicker;\n      }(_picker2.default);\n\n      exports.default = IconPicker;\n      /***/\n    },\n    /* 61 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var Tooltip = function () {\n        function Tooltip(quill, boundsContainer) {\n          var _this = this;\n\n          _classCallCheck(this, Tooltip);\n\n          this.quill = quill;\n          this.boundsContainer = boundsContainer || document.body;\n          this.root = quill.addContainer('ql-tooltip');\n          this.root.innerHTML = this.constructor.TEMPLATE;\n\n          if (this.quill.root === this.quill.scrollingContainer) {\n            this.quill.root.addEventListener('scroll', function () {\n              _this.root.style.marginTop = -1 * _this.quill.root.scrollTop + 'px';\n            });\n          }\n\n          this.hide();\n        }\n\n        _createClass(Tooltip, [{\n          key: 'hide',\n          value: function hide() {\n            this.root.classList.add('ql-hidden');\n          }\n        }, {\n          key: 'position',\n          value: function position(reference) {\n            var left = reference.left + reference.width / 2 - this.root.offsetWidth / 2; // root.scrollTop should be 0 if scrollContainer !== root\n\n            var top = reference.bottom + this.quill.root.scrollTop;\n            this.root.style.left = left + 'px';\n            this.root.style.top = top + 'px';\n            this.root.classList.remove('ql-flip');\n            var containerBounds = this.boundsContainer.getBoundingClientRect();\n            var rootBounds = this.root.getBoundingClientRect();\n            var shift = 0;\n\n            if (rootBounds.right > containerBounds.right) {\n              shift = containerBounds.right - rootBounds.right;\n              this.root.style.left = left + shift + 'px';\n            }\n\n            if (rootBounds.left < containerBounds.left) {\n              shift = containerBounds.left - rootBounds.left;\n              this.root.style.left = left + shift + 'px';\n            }\n\n            if (rootBounds.bottom > containerBounds.bottom) {\n              var height = rootBounds.bottom - rootBounds.top;\n              var verticalShift = reference.bottom - reference.top + height;\n              this.root.style.top = top - verticalShift + 'px';\n              this.root.classList.add('ql-flip');\n            }\n\n            return shift;\n          }\n        }, {\n          key: 'show',\n          value: function show() {\n            this.root.classList.remove('ql-editing');\n            this.root.classList.remove('ql-hidden');\n          }\n        }]);\n\n        return Tooltip;\n      }();\n\n      exports.default = Tooltip;\n      /***/\n    },\n    /* 62 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _extend = __webpack_require__(3);\n\n      var _extend2 = _interopRequireDefault(_extend);\n\n      var _emitter = __webpack_require__(8);\n\n      var _emitter2 = _interopRequireDefault(_emitter);\n\n      var _base = __webpack_require__(43);\n\n      var _base2 = _interopRequireDefault(_base);\n\n      var _link = __webpack_require__(27);\n\n      var _link2 = _interopRequireDefault(_link);\n\n      var _selection = __webpack_require__(15);\n\n      var _icons = __webpack_require__(41);\n\n      var _icons2 = _interopRequireDefault(_icons);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var TOOLBAR_CONFIG = [[{\n        header: ['1', '2', '3', false]\n      }], ['bold', 'italic', 'underline', 'link'], [{\n        list: 'ordered'\n      }, {\n        list: 'bullet'\n      }], ['clean']];\n\n      var SnowTheme = function (_BaseTheme) {\n        _inherits(SnowTheme, _BaseTheme);\n\n        function SnowTheme(quill, options) {\n          _classCallCheck(this, SnowTheme);\n\n          if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\n            options.modules.toolbar.container = TOOLBAR_CONFIG;\n          }\n\n          var _this = _possibleConstructorReturn(this, (SnowTheme.__proto__ || Object.getPrototypeOf(SnowTheme)).call(this, quill, options));\n\n          _this.quill.container.classList.add('ql-snow');\n\n          return _this;\n        }\n\n        _createClass(SnowTheme, [{\n          key: 'extendToolbar',\n          value: function extendToolbar(toolbar) {\n            toolbar.container.classList.add('ql-snow');\n            this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')), _icons2.default);\n            this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')), _icons2.default);\n            this.tooltip = new SnowTooltip(this.quill, this.options.bounds);\n\n            if (toolbar.container.querySelector('.ql-link')) {\n              this.quill.keyboard.addBinding({\n                key: 'K',\n                shortKey: true\n              }, function (range, context) {\n                toolbar.handlers['link'].call(toolbar, !context.format.link);\n              });\n            }\n          }\n        }]);\n\n        return SnowTheme;\n      }(_base2.default);\n\n      SnowTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {\n        modules: {\n          toolbar: {\n            handlers: {\n              link: function link(value) {\n                if (value) {\n                  var range = this.quill.getSelection();\n                  if (range == null || range.length == 0) return;\n                  var preview = this.quill.getText(range);\n\n                  if (/^\\S+@\\S+\\.\\S+$/.test(preview) && preview.indexOf('mailto:') !== 0) {\n                    preview = 'mailto:' + preview;\n                  }\n\n                  var tooltip = this.quill.theme.tooltip;\n                  tooltip.edit('link', preview);\n                } else {\n                  this.quill.format('link', false);\n                }\n              }\n            }\n          }\n        }\n      });\n\n      var SnowTooltip = function (_BaseTooltip) {\n        _inherits(SnowTooltip, _BaseTooltip);\n\n        function SnowTooltip(quill, bounds) {\n          _classCallCheck(this, SnowTooltip);\n\n          var _this2 = _possibleConstructorReturn(this, (SnowTooltip.__proto__ || Object.getPrototypeOf(SnowTooltip)).call(this, quill, bounds));\n\n          _this2.preview = _this2.root.querySelector('a.ql-preview');\n          return _this2;\n        }\n\n        _createClass(SnowTooltip, [{\n          key: 'listen',\n          value: function listen() {\n            var _this3 = this;\n\n            _get(SnowTooltip.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip.prototype), 'listen', this).call(this);\n\n            this.root.querySelector('a.ql-action').addEventListener('click', function (event) {\n              if (_this3.root.classList.contains('ql-editing')) {\n                _this3.save();\n              } else {\n                _this3.edit('link', _this3.preview.textContent);\n              }\n\n              event.preventDefault();\n            });\n            this.root.querySelector('a.ql-remove').addEventListener('click', function (event) {\n              if (_this3.linkRange != null) {\n                var range = _this3.linkRange;\n\n                _this3.restoreFocus();\n\n                _this3.quill.formatText(range, 'link', false, _emitter2.default.sources.USER);\n\n                delete _this3.linkRange;\n              }\n\n              event.preventDefault();\n\n              _this3.hide();\n            });\n            this.quill.on(_emitter2.default.events.SELECTION_CHANGE, function (range, oldRange, source) {\n              if (range == null) return;\n\n              if (range.length === 0 && source === _emitter2.default.sources.USER) {\n                var _quill$scroll$descend = _this3.quill.scroll.descendant(_link2.default, range.index),\n                    _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2),\n                    link = _quill$scroll$descend2[0],\n                    offset = _quill$scroll$descend2[1];\n\n                if (link != null) {\n                  _this3.linkRange = new _selection.Range(range.index - offset, link.length());\n\n                  var preview = _link2.default.formats(link.domNode);\n\n                  _this3.preview.textContent = preview;\n\n                  _this3.preview.setAttribute('href', preview);\n\n                  _this3.show();\n\n                  _this3.position(_this3.quill.getBounds(_this3.linkRange));\n\n                  return;\n                }\n              } else {\n                delete _this3.linkRange;\n              }\n\n              _this3.hide();\n            });\n          }\n        }, {\n          key: 'show',\n          value: function show() {\n            _get(SnowTooltip.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip.prototype), 'show', this).call(this);\n\n            this.root.removeAttribute('data-mode');\n          }\n        }]);\n\n        return SnowTooltip;\n      }(_base.BaseTooltip);\n\n      SnowTooltip.TEMPLATE = ['<a class=\"ql-preview\" rel=\"noopener noreferrer\" target=\"_blank\" href=\"about:blank\"></a>', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-action\"></a>', '<a class=\"ql-remove\"></a>'].join('');\n      exports.default = SnowTheme;\n      /***/\n    },\n    /* 63 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _core = __webpack_require__(29);\n\n      var _core2 = _interopRequireDefault(_core);\n\n      var _align = __webpack_require__(36);\n\n      var _direction = __webpack_require__(38);\n\n      var _indent = __webpack_require__(64);\n\n      var _blockquote = __webpack_require__(65);\n\n      var _blockquote2 = _interopRequireDefault(_blockquote);\n\n      var _header = __webpack_require__(66);\n\n      var _header2 = _interopRequireDefault(_header);\n\n      var _list = __webpack_require__(67);\n\n      var _list2 = _interopRequireDefault(_list);\n\n      var _background = __webpack_require__(37);\n\n      var _color = __webpack_require__(26);\n\n      var _font = __webpack_require__(39);\n\n      var _size = __webpack_require__(40);\n\n      var _bold = __webpack_require__(56);\n\n      var _bold2 = _interopRequireDefault(_bold);\n\n      var _italic = __webpack_require__(68);\n\n      var _italic2 = _interopRequireDefault(_italic);\n\n      var _link = __webpack_require__(27);\n\n      var _link2 = _interopRequireDefault(_link);\n\n      var _script = __webpack_require__(69);\n\n      var _script2 = _interopRequireDefault(_script);\n\n      var _strike = __webpack_require__(70);\n\n      var _strike2 = _interopRequireDefault(_strike);\n\n      var _underline = __webpack_require__(71);\n\n      var _underline2 = _interopRequireDefault(_underline);\n\n      var _image = __webpack_require__(72);\n\n      var _image2 = _interopRequireDefault(_image);\n\n      var _video = __webpack_require__(73);\n\n      var _video2 = _interopRequireDefault(_video);\n\n      var _code = __webpack_require__(13);\n\n      var _code2 = _interopRequireDefault(_code);\n\n      var _formula = __webpack_require__(74);\n\n      var _formula2 = _interopRequireDefault(_formula);\n\n      var _syntax = __webpack_require__(75);\n\n      var _syntax2 = _interopRequireDefault(_syntax);\n\n      var _toolbar = __webpack_require__(57);\n\n      var _toolbar2 = _interopRequireDefault(_toolbar);\n\n      var _icons = __webpack_require__(41);\n\n      var _icons2 = _interopRequireDefault(_icons);\n\n      var _picker = __webpack_require__(28);\n\n      var _picker2 = _interopRequireDefault(_picker);\n\n      var _colorPicker = __webpack_require__(59);\n\n      var _colorPicker2 = _interopRequireDefault(_colorPicker);\n\n      var _iconPicker = __webpack_require__(60);\n\n      var _iconPicker2 = _interopRequireDefault(_iconPicker);\n\n      var _tooltip = __webpack_require__(61);\n\n      var _tooltip2 = _interopRequireDefault(_tooltip);\n\n      var _bubble = __webpack_require__(108);\n\n      var _bubble2 = _interopRequireDefault(_bubble);\n\n      var _snow = __webpack_require__(62);\n\n      var _snow2 = _interopRequireDefault(_snow);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      _core2.default.register({\n        'attributors/attribute/direction': _direction.DirectionAttribute,\n        'attributors/class/align': _align.AlignClass,\n        'attributors/class/background': _background.BackgroundClass,\n        'attributors/class/color': _color.ColorClass,\n        'attributors/class/direction': _direction.DirectionClass,\n        'attributors/class/font': _font.FontClass,\n        'attributors/class/size': _size.SizeClass,\n        'attributors/style/align': _align.AlignStyle,\n        'attributors/style/background': _background.BackgroundStyle,\n        'attributors/style/color': _color.ColorStyle,\n        'attributors/style/direction': _direction.DirectionStyle,\n        'attributors/style/font': _font.FontStyle,\n        'attributors/style/size': _size.SizeStyle\n      }, true);\n\n      _core2.default.register({\n        'formats/align': _align.AlignClass,\n        'formats/direction': _direction.DirectionClass,\n        'formats/indent': _indent.IndentClass,\n        'formats/background': _background.BackgroundStyle,\n        'formats/color': _color.ColorStyle,\n        'formats/font': _font.FontClass,\n        'formats/size': _size.SizeClass,\n        'formats/blockquote': _blockquote2.default,\n        'formats/code-block': _code2.default,\n        'formats/header': _header2.default,\n        'formats/list': _list2.default,\n        'formats/bold': _bold2.default,\n        'formats/code': _code.Code,\n        'formats/italic': _italic2.default,\n        'formats/link': _link2.default,\n        'formats/script': _script2.default,\n        'formats/strike': _strike2.default,\n        'formats/underline': _underline2.default,\n        'formats/image': _image2.default,\n        'formats/video': _video2.default,\n        'formats/list/item': _list.ListItem,\n        'modules/formula': _formula2.default,\n        'modules/syntax': _syntax2.default,\n        'modules/toolbar': _toolbar2.default,\n        'themes/bubble': _bubble2.default,\n        'themes/snow': _snow2.default,\n        'ui/icons': _icons2.default,\n        'ui/picker': _picker2.default,\n        'ui/icon-picker': _iconPicker2.default,\n        'ui/color-picker': _colorPicker2.default,\n        'ui/tooltip': _tooltip2.default\n      }, true);\n\n      exports.default = _core2.default;\n      /***/\n    },\n    /* 64 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.IndentClass = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var IdentAttributor = function (_Parchment$Attributor) {\n        _inherits(IdentAttributor, _Parchment$Attributor);\n\n        function IdentAttributor() {\n          _classCallCheck(this, IdentAttributor);\n\n          return _possibleConstructorReturn(this, (IdentAttributor.__proto__ || Object.getPrototypeOf(IdentAttributor)).apply(this, arguments));\n        }\n\n        _createClass(IdentAttributor, [{\n          key: 'add',\n          value: function add(node, value) {\n            if (value === '+1' || value === '-1') {\n              var indent = this.value(node) || 0;\n              value = value === '+1' ? indent + 1 : indent - 1;\n            }\n\n            if (value === 0) {\n              this.remove(node);\n              return true;\n            } else {\n              return _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'add', this).call(this, node, value);\n            }\n          }\n        }, {\n          key: 'canAdd',\n          value: function canAdd(node, value) {\n            return _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'canAdd', this).call(this, node, value) || _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'canAdd', this).call(this, node, parseInt(value));\n          }\n        }, {\n          key: 'value',\n          value: function value(node) {\n            return parseInt(_get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'value', this).call(this, node)) || undefined; // Don't return NaN\n          }\n        }]);\n\n        return IdentAttributor;\n      }(_parchment2.default.Attributor.Class);\n\n      var IndentClass = new IdentAttributor('indent', 'ql-indent', {\n        scope: _parchment2.default.Scope.BLOCK,\n        whitelist: [1, 2, 3, 4, 5, 6, 7, 8]\n      });\n      exports.IndentClass = IndentClass;\n      /***/\n    },\n    /* 65 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _block = __webpack_require__(4);\n\n      var _block2 = _interopRequireDefault(_block);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Blockquote = function (_Block) {\n        _inherits(Blockquote, _Block);\n\n        function Blockquote() {\n          _classCallCheck(this, Blockquote);\n\n          return _possibleConstructorReturn(this, (Blockquote.__proto__ || Object.getPrototypeOf(Blockquote)).apply(this, arguments));\n        }\n\n        return Blockquote;\n      }(_block2.default);\n\n      Blockquote.blotName = 'blockquote';\n      Blockquote.tagName = 'blockquote';\n      exports.default = Blockquote;\n      /***/\n    },\n    /* 66 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _block = __webpack_require__(4);\n\n      var _block2 = _interopRequireDefault(_block);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Header = function (_Block) {\n        _inherits(Header, _Block);\n\n        function Header() {\n          _classCallCheck(this, Header);\n\n          return _possibleConstructorReturn(this, (Header.__proto__ || Object.getPrototypeOf(Header)).apply(this, arguments));\n        }\n\n        _createClass(Header, null, [{\n          key: 'formats',\n          value: function formats(domNode) {\n            return this.tagName.indexOf(domNode.tagName) + 1;\n          }\n        }]);\n\n        return Header;\n      }(_block2.default);\n\n      Header.blotName = 'header';\n      Header.tagName = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'];\n      exports.default = Header;\n      /***/\n    },\n    /* 67 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.ListItem = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _block = __webpack_require__(4);\n\n      var _block2 = _interopRequireDefault(_block);\n\n      var _container = __webpack_require__(25);\n\n      var _container2 = _interopRequireDefault(_container);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var ListItem = function (_Block) {\n        _inherits(ListItem, _Block);\n\n        function ListItem() {\n          _classCallCheck(this, ListItem);\n\n          return _possibleConstructorReturn(this, (ListItem.__proto__ || Object.getPrototypeOf(ListItem)).apply(this, arguments));\n        }\n\n        _createClass(ListItem, [{\n          key: 'format',\n          value: function format(name, value) {\n            if (name === List.blotName && !value) {\n              this.replaceWith(_parchment2.default.create(this.statics.scope));\n            } else {\n              _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'format', this).call(this, name, value);\n            }\n          }\n        }, {\n          key: 'remove',\n          value: function remove() {\n            if (this.prev == null && this.next == null) {\n              this.parent.remove();\n            } else {\n              _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'remove', this).call(this);\n            }\n          }\n        }, {\n          key: 'replaceWith',\n          value: function replaceWith(name, value) {\n            this.parent.isolate(this.offset(this.parent), this.length());\n\n            if (name === this.parent.statics.blotName) {\n              this.parent.replaceWith(name, value);\n              return this;\n            } else {\n              this.parent.unwrap();\n              return _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'replaceWith', this).call(this, name, value);\n            }\n          }\n        }], [{\n          key: 'formats',\n          value: function formats(domNode) {\n            return domNode.tagName === this.tagName ? undefined : _get(ListItem.__proto__ || Object.getPrototypeOf(ListItem), 'formats', this).call(this, domNode);\n          }\n        }]);\n\n        return ListItem;\n      }(_block2.default);\n\n      ListItem.blotName = 'list-item';\n      ListItem.tagName = 'LI';\n\n      var List = function (_Container) {\n        _inherits(List, _Container);\n\n        _createClass(List, null, [{\n          key: 'create',\n          value: function create(value) {\n            var tagName = value === 'ordered' ? 'OL' : 'UL';\n\n            var node = _get(List.__proto__ || Object.getPrototypeOf(List), 'create', this).call(this, tagName);\n\n            if (value === 'checked' || value === 'unchecked') {\n              node.setAttribute('data-checked', value === 'checked');\n            }\n\n            return node;\n          }\n        }, {\n          key: 'formats',\n          value: function formats(domNode) {\n            if (domNode.tagName === 'OL') return 'ordered';\n\n            if (domNode.tagName === 'UL') {\n              if (domNode.hasAttribute('data-checked')) {\n                return domNode.getAttribute('data-checked') === 'true' ? 'checked' : 'unchecked';\n              } else {\n                return 'bullet';\n              }\n            }\n\n            return undefined;\n          }\n        }]);\n\n        function List(domNode) {\n          _classCallCheck(this, List);\n\n          var _this2 = _possibleConstructorReturn(this, (List.__proto__ || Object.getPrototypeOf(List)).call(this, domNode));\n\n          var listEventHandler = function listEventHandler(e) {\n            if (e.target.parentNode !== domNode) return;\n\n            var format = _this2.statics.formats(domNode);\n\n            var blot = _parchment2.default.find(e.target);\n\n            if (format === 'checked') {\n              blot.format('list', 'unchecked');\n            } else if (format === 'unchecked') {\n              blot.format('list', 'checked');\n            }\n          };\n\n          domNode.addEventListener('touchstart', listEventHandler);\n          domNode.addEventListener('mousedown', listEventHandler);\n          return _this2;\n        }\n\n        _createClass(List, [{\n          key: 'format',\n          value: function format(name, value) {\n            if (this.children.length > 0) {\n              this.children.tail.format(name, value);\n            }\n          }\n        }, {\n          key: 'formats',\n          value: function formats() {\n            // We don't inherit from FormatBlot\n            return _defineProperty({}, this.statics.blotName, this.statics.formats(this.domNode));\n          }\n        }, {\n          key: 'insertBefore',\n          value: function insertBefore(blot, ref) {\n            if (blot instanceof ListItem) {\n              _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'insertBefore', this).call(this, blot, ref);\n            } else {\n              var index = ref == null ? this.length() : ref.offset(this);\n              var after = this.split(index);\n              after.parent.insertBefore(blot, after);\n            }\n          }\n        }, {\n          key: 'optimize',\n          value: function optimize(context) {\n            _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'optimize', this).call(this, context);\n\n            var next = this.next;\n\n            if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && next.domNode.tagName === this.domNode.tagName && next.domNode.getAttribute('data-checked') === this.domNode.getAttribute('data-checked')) {\n              next.moveChildren(this);\n              next.remove();\n            }\n          }\n        }, {\n          key: 'replace',\n          value: function replace(target) {\n            if (target.statics.blotName !== this.statics.blotName) {\n              var item = _parchment2.default.create(this.statics.defaultChild);\n\n              target.moveChildren(item);\n              this.appendChild(item);\n            }\n\n            _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'replace', this).call(this, target);\n          }\n        }]);\n\n        return List;\n      }(_container2.default);\n\n      List.blotName = 'list';\n      List.scope = _parchment2.default.Scope.BLOCK_BLOT;\n      List.tagName = ['OL', 'UL'];\n      List.defaultChild = 'list-item';\n      List.allowedChildren = [ListItem];\n      exports.ListItem = ListItem;\n      exports.default = List;\n      /***/\n    },\n    /* 68 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _bold = __webpack_require__(56);\n\n      var _bold2 = _interopRequireDefault(_bold);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Italic = function (_Bold) {\n        _inherits(Italic, _Bold);\n\n        function Italic() {\n          _classCallCheck(this, Italic);\n\n          return _possibleConstructorReturn(this, (Italic.__proto__ || Object.getPrototypeOf(Italic)).apply(this, arguments));\n        }\n\n        return Italic;\n      }(_bold2.default);\n\n      Italic.blotName = 'italic';\n      Italic.tagName = ['EM', 'I'];\n      exports.default = Italic;\n      /***/\n    },\n    /* 69 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _inline = __webpack_require__(6);\n\n      var _inline2 = _interopRequireDefault(_inline);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Script = function (_Inline) {\n        _inherits(Script, _Inline);\n\n        function Script() {\n          _classCallCheck(this, Script);\n\n          return _possibleConstructorReturn(this, (Script.__proto__ || Object.getPrototypeOf(Script)).apply(this, arguments));\n        }\n\n        _createClass(Script, null, [{\n          key: 'create',\n          value: function create(value) {\n            if (value === 'super') {\n              return document.createElement('sup');\n            } else if (value === 'sub') {\n              return document.createElement('sub');\n            } else {\n              return _get(Script.__proto__ || Object.getPrototypeOf(Script), 'create', this).call(this, value);\n            }\n          }\n        }, {\n          key: 'formats',\n          value: function formats(domNode) {\n            if (domNode.tagName === 'SUB') return 'sub';\n            if (domNode.tagName === 'SUP') return 'super';\n            return undefined;\n          }\n        }]);\n\n        return Script;\n      }(_inline2.default);\n\n      Script.blotName = 'script';\n      Script.tagName = ['SUB', 'SUP'];\n      exports.default = Script;\n      /***/\n    },\n    /* 70 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _inline = __webpack_require__(6);\n\n      var _inline2 = _interopRequireDefault(_inline);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Strike = function (_Inline) {\n        _inherits(Strike, _Inline);\n\n        function Strike() {\n          _classCallCheck(this, Strike);\n\n          return _possibleConstructorReturn(this, (Strike.__proto__ || Object.getPrototypeOf(Strike)).apply(this, arguments));\n        }\n\n        return Strike;\n      }(_inline2.default);\n\n      Strike.blotName = 'strike';\n      Strike.tagName = 'S';\n      exports.default = Strike;\n      /***/\n    },\n    /* 71 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _inline = __webpack_require__(6);\n\n      var _inline2 = _interopRequireDefault(_inline);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Underline = function (_Inline) {\n        _inherits(Underline, _Inline);\n\n        function Underline() {\n          _classCallCheck(this, Underline);\n\n          return _possibleConstructorReturn(this, (Underline.__proto__ || Object.getPrototypeOf(Underline)).apply(this, arguments));\n        }\n\n        return Underline;\n      }(_inline2.default);\n\n      Underline.blotName = 'underline';\n      Underline.tagName = 'U';\n      exports.default = Underline;\n      /***/\n    },\n    /* 72 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _link = __webpack_require__(27);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var ATTRIBUTES = ['alt', 'height', 'width'];\n\n      var Image = function (_Parchment$Embed) {\n        _inherits(Image, _Parchment$Embed);\n\n        function Image() {\n          _classCallCheck(this, Image);\n\n          return _possibleConstructorReturn(this, (Image.__proto__ || Object.getPrototypeOf(Image)).apply(this, arguments));\n        }\n\n        _createClass(Image, [{\n          key: 'format',\n          value: function format(name, value) {\n            if (ATTRIBUTES.indexOf(name) > -1) {\n              if (value) {\n                this.domNode.setAttribute(name, value);\n              } else {\n                this.domNode.removeAttribute(name);\n              }\n            } else {\n              _get(Image.prototype.__proto__ || Object.getPrototypeOf(Image.prototype), 'format', this).call(this, name, value);\n            }\n          }\n        }], [{\n          key: 'create',\n          value: function create(value) {\n            var node = _get(Image.__proto__ || Object.getPrototypeOf(Image), 'create', this).call(this, value);\n\n            if (typeof value === 'string') {\n              node.setAttribute('src', this.sanitize(value));\n            }\n\n            return node;\n          }\n        }, {\n          key: 'formats',\n          value: function formats(domNode) {\n            return ATTRIBUTES.reduce(function (formats, attribute) {\n              if (domNode.hasAttribute(attribute)) {\n                formats[attribute] = domNode.getAttribute(attribute);\n              }\n\n              return formats;\n            }, {});\n          }\n        }, {\n          key: 'match',\n          value: function match(url) {\n            return /\\.(jpe?g|gif|png)$/.test(url) || /^data:image\\/.+;base64/.test(url);\n          }\n        }, {\n          key: 'sanitize',\n          value: function sanitize(url) {\n            return (0, _link.sanitize)(url, ['http', 'https', 'data']) ? url : '//:0';\n          }\n        }, {\n          key: 'value',\n          value: function value(domNode) {\n            return domNode.getAttribute('src');\n          }\n        }]);\n\n        return Image;\n      }(_parchment2.default.Embed);\n\n      Image.blotName = 'image';\n      Image.tagName = 'IMG';\n      exports.default = Image;\n      /***/\n    },\n    /* 73 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _block = __webpack_require__(4);\n\n      var _link = __webpack_require__(27);\n\n      var _link2 = _interopRequireDefault(_link);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var ATTRIBUTES = ['height', 'width'];\n\n      var Video = function (_BlockEmbed) {\n        _inherits(Video, _BlockEmbed);\n\n        function Video() {\n          _classCallCheck(this, Video);\n\n          return _possibleConstructorReturn(this, (Video.__proto__ || Object.getPrototypeOf(Video)).apply(this, arguments));\n        }\n\n        _createClass(Video, [{\n          key: 'format',\n          value: function format(name, value) {\n            if (ATTRIBUTES.indexOf(name) > -1) {\n              if (value) {\n                this.domNode.setAttribute(name, value);\n              } else {\n                this.domNode.removeAttribute(name);\n              }\n            } else {\n              _get(Video.prototype.__proto__ || Object.getPrototypeOf(Video.prototype), 'format', this).call(this, name, value);\n            }\n          }\n        }], [{\n          key: 'create',\n          value: function create(value) {\n            var node = _get(Video.__proto__ || Object.getPrototypeOf(Video), 'create', this).call(this, value);\n\n            node.setAttribute('frameborder', '0');\n            node.setAttribute('allowfullscreen', true);\n            node.setAttribute('src', this.sanitize(value));\n            return node;\n          }\n        }, {\n          key: 'formats',\n          value: function formats(domNode) {\n            return ATTRIBUTES.reduce(function (formats, attribute) {\n              if (domNode.hasAttribute(attribute)) {\n                formats[attribute] = domNode.getAttribute(attribute);\n              }\n\n              return formats;\n            }, {});\n          }\n        }, {\n          key: 'sanitize',\n          value: function sanitize(url) {\n            return _link2.default.sanitize(url);\n          }\n        }, {\n          key: 'value',\n          value: function value(domNode) {\n            return domNode.getAttribute('src');\n          }\n        }]);\n\n        return Video;\n      }(_block.BlockEmbed);\n\n      Video.blotName = 'video';\n      Video.className = 'ql-video';\n      Video.tagName = 'IFRAME';\n      exports.default = Video;\n      /***/\n    },\n    /* 74 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.FormulaBlot = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _embed = __webpack_require__(35);\n\n      var _embed2 = _interopRequireDefault(_embed);\n\n      var _quill = __webpack_require__(5);\n\n      var _quill2 = _interopRequireDefault(_quill);\n\n      var _module = __webpack_require__(9);\n\n      var _module2 = _interopRequireDefault(_module);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var FormulaBlot = function (_Embed) {\n        _inherits(FormulaBlot, _Embed);\n\n        function FormulaBlot() {\n          _classCallCheck(this, FormulaBlot);\n\n          return _possibleConstructorReturn(this, (FormulaBlot.__proto__ || Object.getPrototypeOf(FormulaBlot)).apply(this, arguments));\n        }\n\n        _createClass(FormulaBlot, null, [{\n          key: 'create',\n          value: function create(value) {\n            var node = _get(FormulaBlot.__proto__ || Object.getPrototypeOf(FormulaBlot), 'create', this).call(this, value);\n\n            if (typeof value === 'string') {\n              window.katex.render(value, node, {\n                throwOnError: false,\n                errorColor: '#f00'\n              });\n              node.setAttribute('data-value', value);\n            }\n\n            return node;\n          }\n        }, {\n          key: 'value',\n          value: function value(domNode) {\n            return domNode.getAttribute('data-value');\n          }\n        }]);\n\n        return FormulaBlot;\n      }(_embed2.default);\n\n      FormulaBlot.blotName = 'formula';\n      FormulaBlot.className = 'ql-formula';\n      FormulaBlot.tagName = 'SPAN';\n\n      var Formula = function (_Module) {\n        _inherits(Formula, _Module);\n\n        _createClass(Formula, null, [{\n          key: 'register',\n          value: function register() {\n            _quill2.default.register(FormulaBlot, true);\n          }\n        }]);\n\n        function Formula() {\n          _classCallCheck(this, Formula);\n\n          var _this2 = _possibleConstructorReturn(this, (Formula.__proto__ || Object.getPrototypeOf(Formula)).call(this));\n\n          if (window.katex == null) {\n            throw new Error('Formula module requires KaTeX.');\n          }\n\n          return _this2;\n        }\n\n        return Formula;\n      }(_module2.default);\n\n      exports.FormulaBlot = FormulaBlot;\n      exports.default = Formula;\n      /***/\n    },\n    /* 75 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.CodeToken = exports.CodeBlock = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _quill = __webpack_require__(5);\n\n      var _quill2 = _interopRequireDefault(_quill);\n\n      var _module = __webpack_require__(9);\n\n      var _module2 = _interopRequireDefault(_module);\n\n      var _code = __webpack_require__(13);\n\n      var _code2 = _interopRequireDefault(_code);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var SyntaxCodeBlock = function (_CodeBlock) {\n        _inherits(SyntaxCodeBlock, _CodeBlock);\n\n        function SyntaxCodeBlock() {\n          _classCallCheck(this, SyntaxCodeBlock);\n\n          return _possibleConstructorReturn(this, (SyntaxCodeBlock.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock)).apply(this, arguments));\n        }\n\n        _createClass(SyntaxCodeBlock, [{\n          key: 'replaceWith',\n          value: function replaceWith(block) {\n            this.domNode.textContent = this.domNode.textContent;\n            this.attach();\n\n            _get(SyntaxCodeBlock.prototype.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock.prototype), 'replaceWith', this).call(this, block);\n          }\n        }, {\n          key: 'highlight',\n          value: function highlight(_highlight) {\n            var text = this.domNode.textContent;\n\n            if (this.cachedText !== text) {\n              if (text.trim().length > 0 || this.cachedText == null) {\n                this.domNode.innerHTML = _highlight(text);\n                this.domNode.normalize();\n                this.attach();\n              }\n\n              this.cachedText = text;\n            }\n          }\n        }]);\n\n        return SyntaxCodeBlock;\n      }(_code2.default);\n\n      SyntaxCodeBlock.className = 'ql-syntax';\n      var CodeToken = new _parchment2.default.Attributor.Class('token', 'hljs', {\n        scope: _parchment2.default.Scope.INLINE\n      });\n\n      var Syntax = function (_Module) {\n        _inherits(Syntax, _Module);\n\n        _createClass(Syntax, null, [{\n          key: 'register',\n          value: function register() {\n            _quill2.default.register(CodeToken, true);\n\n            _quill2.default.register(SyntaxCodeBlock, true);\n          }\n        }]);\n\n        function Syntax(quill, options) {\n          _classCallCheck(this, Syntax);\n\n          var _this2 = _possibleConstructorReturn(this, (Syntax.__proto__ || Object.getPrototypeOf(Syntax)).call(this, quill, options));\n\n          if (typeof _this2.options.highlight !== 'function') {\n            throw new Error('Syntax module requires highlight.js. Please include the library on the page before Quill.');\n          }\n\n          var timer = null;\n\n          _this2.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function () {\n            clearTimeout(timer);\n            timer = setTimeout(function () {\n              _this2.highlight();\n\n              timer = null;\n            }, _this2.options.interval);\n          });\n\n          _this2.highlight();\n\n          return _this2;\n        }\n\n        _createClass(Syntax, [{\n          key: 'highlight',\n          value: function highlight() {\n            var _this3 = this;\n\n            if (this.quill.selection.composing) return;\n            this.quill.update(_quill2.default.sources.USER);\n            var range = this.quill.getSelection();\n            this.quill.scroll.descendants(SyntaxCodeBlock).forEach(function (code) {\n              code.highlight(_this3.options.highlight);\n            });\n            this.quill.update(_quill2.default.sources.SILENT);\n\n            if (range != null) {\n              this.quill.setSelection(range, _quill2.default.sources.SILENT);\n            }\n          }\n        }]);\n\n        return Syntax;\n      }(_module2.default);\n\n      Syntax.DEFAULTS = {\n        highlight: function () {\n          if (window.hljs == null) return null;\n          return function (text) {\n            var result = window.hljs.highlightAuto(text);\n            return result.value;\n          };\n        }(),\n        interval: 1000\n      };\n      exports.CodeBlock = SyntaxCodeBlock;\n      exports.CodeToken = CodeToken;\n      exports.default = Syntax;\n      /***/\n    },\n    /* 76 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>\";\n      /***/\n    },\n    /* 77 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>\";\n      /***/\n    },\n    /* 78 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>\";\n      /***/\n    },\n    /* 79 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>\";\n      /***/\n    },\n    /* 80 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <g class=\\\"ql-fill ql-color-label\\\"> <polygon points=\\\"6 6.868 6 6 5 6 5 7 5.942 7 6 6.868\\\"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points=\\\"6.817 5 6 5 6 6 6.38 6 6.817 5\\\"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points=\\\"4 11.439 4 11 3 11 3 12 3.755 12 4 11.439\\\"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points=\\\"4.63 10 4 10 4 11 4.192 11 4.63 10\\\"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points=\\\"13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174\\\"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points=\\\"12 6.868 12 6 11.62 6 12 6.868\\\"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points=\\\"12.933 9 13 9 13 8 12.495 8 12.933 9\\\"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points=\\\"5.5 13 9 5 12.5 13\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>\";\n      /***/\n    },\n    /* 81 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=4 y=5></rect> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=11 y=5></rect> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M7,8c0,4.031-3,5-3,5></path> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M14,8c0,4.031-3,5-3,5></path> </svg>\";\n      /***/\n    },\n    /* 82 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>\";\n      /***/\n    },\n    /* 83 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>\";\n      /***/\n    },\n    /* 84 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-color-label ql-stroke ql-transparent\\\" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points=\\\"5.5 11 9 3 12.5 11\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>\";\n      /***/\n    },\n    /* 85 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"3 11 5 9 3 7 3 11\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>\";\n      /***/\n    },\n    /* 86 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"15 12 13 10 15 8 15 12\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>\";\n      /***/\n    },\n    /* 87 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>\";\n      /***/\n    },\n    /* 88 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>\";\n      /***/\n    },\n    /* 89 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>\";\n      /***/\n    },\n    /* 90 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform=\\\"translate(24 18) rotate(-180)\\\"/> </svg>\";\n      /***/\n    },\n    /* 91 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>\";\n      /***/\n    },\n    /* 92 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>\";\n      /***/\n    },\n    /* 93 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>\";\n      /***/\n    },\n    /* 94 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>\";\n      /***/\n    },\n    /* 95 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class=\\\"ql-even ql-fill\\\" points=\\\"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12\\\"></polyline> </svg>\";\n      /***/\n    },\n    /* 96 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=\\\"ql-fill ql-stroke\\\" points=\\\"3 7 3 11 5 9 3 7\\\"></polyline> </svg>\";\n      /***/\n    },\n    /* 97 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"5 7 5 11 3 9 5 7\\\"></polyline> </svg>\";\n      /***/\n    },\n    /* 98 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class=\\\"ql-even ql-stroke\\\" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class=\\\"ql-even ql-stroke\\\" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>\";\n      /***/\n    },\n    /* 99 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class=\\\"ql-stroke ql-thin\\\" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class=\\\"ql-stroke ql-thin\\\" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class=\\\"ql-stroke ql-thin\\\" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>\";\n      /***/\n    },\n    /* 100 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>\";\n      /***/\n    },\n    /* 101 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points=\\\"3 4 4 5 6 3\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points=\\\"3 14 4 15 6 13\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"3 9 4 10 6 8\\\"></polyline> </svg>\";\n      /***/\n    },\n    /* 102 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>\";\n      /***/\n    },\n    /* 103 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>\";\n      /***/\n    },\n    /* 104 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-stroke ql-thin\\\" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>\";\n      /***/\n    },\n    /* 105 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>\";\n      /***/\n    },\n    /* 106 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>\";\n      /***/\n    },\n    /* 107 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=ql-stroke points=\\\"7 11 9 13 11 11 7 11\\\"></polygon> <polygon class=ql-stroke points=\\\"7 7 9 5 11 7 7 7\\\"></polygon> </svg>\";\n      /***/\n    },\n    /* 108 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.BubbleTooltip = undefined;\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _extend = __webpack_require__(3);\n\n      var _extend2 = _interopRequireDefault(_extend);\n\n      var _emitter = __webpack_require__(8);\n\n      var _emitter2 = _interopRequireDefault(_emitter);\n\n      var _base = __webpack_require__(43);\n\n      var _base2 = _interopRequireDefault(_base);\n\n      var _selection = __webpack_require__(15);\n\n      var _icons = __webpack_require__(41);\n\n      var _icons2 = _interopRequireDefault(_icons);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var TOOLBAR_CONFIG = [['bold', 'italic', 'link'], [{\n        header: 1\n      }, {\n        header: 2\n      }, 'blockquote']];\n\n      var BubbleTheme = function (_BaseTheme) {\n        _inherits(BubbleTheme, _BaseTheme);\n\n        function BubbleTheme(quill, options) {\n          _classCallCheck(this, BubbleTheme);\n\n          if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\n            options.modules.toolbar.container = TOOLBAR_CONFIG;\n          }\n\n          var _this = _possibleConstructorReturn(this, (BubbleTheme.__proto__ || Object.getPrototypeOf(BubbleTheme)).call(this, quill, options));\n\n          _this.quill.container.classList.add('ql-bubble');\n\n          return _this;\n        }\n\n        _createClass(BubbleTheme, [{\n          key: 'extendToolbar',\n          value: function extendToolbar(toolbar) {\n            this.tooltip = new BubbleTooltip(this.quill, this.options.bounds);\n            this.tooltip.root.appendChild(toolbar.container);\n            this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')), _icons2.default);\n            this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')), _icons2.default);\n          }\n        }]);\n\n        return BubbleTheme;\n      }(_base2.default);\n\n      BubbleTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {\n        modules: {\n          toolbar: {\n            handlers: {\n              link: function link(value) {\n                if (!value) {\n                  this.quill.format('link', false);\n                } else {\n                  this.quill.theme.tooltip.edit();\n                }\n              }\n            }\n          }\n        }\n      });\n\n      var BubbleTooltip = function (_BaseTooltip) {\n        _inherits(BubbleTooltip, _BaseTooltip);\n\n        function BubbleTooltip(quill, bounds) {\n          _classCallCheck(this, BubbleTooltip);\n\n          var _this2 = _possibleConstructorReturn(this, (BubbleTooltip.__proto__ || Object.getPrototypeOf(BubbleTooltip)).call(this, quill, bounds));\n\n          _this2.quill.on(_emitter2.default.events.EDITOR_CHANGE, function (type, range, oldRange, source) {\n            if (type !== _emitter2.default.events.SELECTION_CHANGE) return;\n\n            if (range != null && range.length > 0 && source === _emitter2.default.sources.USER) {\n              _this2.show(); // Lock our width so we will expand beyond our offsetParent boundaries\n\n\n              _this2.root.style.left = '0px';\n              _this2.root.style.width = '';\n              _this2.root.style.width = _this2.root.offsetWidth + 'px';\n\n              var lines = _this2.quill.getLines(range.index, range.length);\n\n              if (lines.length === 1) {\n                _this2.position(_this2.quill.getBounds(range));\n              } else {\n                var lastLine = lines[lines.length - 1];\n\n                var index = _this2.quill.getIndex(lastLine);\n\n                var length = Math.min(lastLine.length() - 1, range.index + range.length - index);\n\n                var _bounds = _this2.quill.getBounds(new _selection.Range(index, length));\n\n                _this2.position(_bounds);\n              }\n            } else if (document.activeElement !== _this2.textbox && _this2.quill.hasFocus()) {\n              _this2.hide();\n            }\n          });\n\n          return _this2;\n        }\n\n        _createClass(BubbleTooltip, [{\n          key: 'listen',\n          value: function listen() {\n            var _this3 = this;\n\n            _get(BubbleTooltip.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip.prototype), 'listen', this).call(this);\n\n            this.root.querySelector('.ql-close').addEventListener('click', function () {\n              _this3.root.classList.remove('ql-editing');\n            });\n            this.quill.on(_emitter2.default.events.SCROLL_OPTIMIZE, function () {\n              // Let selection be restored by toolbar handlers before repositioning\n              setTimeout(function () {\n                if (_this3.root.classList.contains('ql-hidden')) return;\n\n                var range = _this3.quill.getSelection();\n\n                if (range != null) {\n                  _this3.position(_this3.quill.getBounds(range));\n                }\n              }, 1);\n            });\n          }\n        }, {\n          key: 'cancel',\n          value: function cancel() {\n            this.show();\n          }\n        }, {\n          key: 'position',\n          value: function position(reference) {\n            var shift = _get(BubbleTooltip.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip.prototype), 'position', this).call(this, reference);\n\n            var arrow = this.root.querySelector('.ql-tooltip-arrow');\n            arrow.style.marginLeft = '';\n            if (shift === 0) return shift;\n            arrow.style.marginLeft = -1 * shift - arrow.offsetWidth / 2 + 'px';\n          }\n        }]);\n\n        return BubbleTooltip;\n      }(_base.BaseTooltip);\n\n      BubbleTooltip.TEMPLATE = ['<span class=\"ql-tooltip-arrow\"></span>', '<div class=\"ql-tooltip-editor\">', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-close\"></a>', '</div>'].join('');\n      exports.BubbleTooltip = BubbleTooltip;\n      exports.default = BubbleTheme;\n      /***/\n    },\n    /* 109 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      module.exports = __webpack_require__(63);\n      /***/\n    }\n    /******/\n    ])[\"default\"]\n  );\n});","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n\n/* eslint-disable no-proto */\n'use strict';\n\nvar base64 = require('base64-js');\n\nvar ieee754 = require('ieee754');\n\nvar isArray = require('isarray');\n\nexports.Buffer = Buffer;\nexports.SlowBuffer = SlowBuffer;\nexports.INSPECT_MAX_BYTES = 50;\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\n\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined ? global.TYPED_ARRAY_SUPPORT : typedArraySupport();\n/*\n * Export kMaxLength after typed array support is determined.\n */\n\nexports.kMaxLength = kMaxLength();\n\nfunction typedArraySupport() {\n  try {\n    var arr = new Uint8Array(1);\n    arr.__proto__ = {\n      __proto__: Uint8Array.prototype,\n      foo: function foo() {\n        return 42;\n      }\n    };\n    return arr.foo() === 42 && // typed array instances can be augmented\n    typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n    arr.subarray(1, 1).byteLength === 0; // ie10 has broken `subarray`\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction kMaxLength() {\n  return Buffer.TYPED_ARRAY_SUPPORT ? 0x7fffffff : 0x3fffffff;\n}\n\nfunction createBuffer(that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length');\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length);\n    that.__proto__ = Buffer.prototype;\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length);\n    }\n\n    that.length = length;\n  }\n\n  return that;\n}\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\n\nfunction Buffer(arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length);\n  } // Common case.\n\n\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error('If encoding is specified then the first argument must be a string');\n    }\n\n    return allocUnsafe(this, arg);\n  }\n\n  return from(this, arg, encodingOrOffset, length);\n}\n\nBuffer.poolSize = 8192; // not used by this implementation\n// TODO: Legacy, not needed anymore. Remove in next major version.\n\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype;\n  return arr;\n};\n\nfunction from(that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number');\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length);\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset);\n  }\n\n  return fromObject(that, value);\n}\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\n\n\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length);\n};\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype;\n  Buffer.__proto__ = Uint8Array;\n\n  if (typeof Symbol !== 'undefined' && Symbol.species && Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    });\n  }\n}\n\nfunction assertSize(size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number');\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative');\n  }\n}\n\nfunction alloc(that, size, fill, encoding) {\n  assertSize(size);\n\n  if (size <= 0) {\n    return createBuffer(that, size);\n  }\n\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string' ? createBuffer(that, size).fill(fill, encoding) : createBuffer(that, size).fill(fill);\n  }\n\n  return createBuffer(that, size);\n}\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\n\n\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding);\n};\n\nfunction allocUnsafe(that, size) {\n  assertSize(size);\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0);\n\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0;\n    }\n  }\n\n  return that;\n}\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\n\n\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size);\n};\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\n\n\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size);\n};\n\nfunction fromString(that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8';\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding');\n  }\n\n  var length = byteLength(string, encoding) | 0;\n  that = createBuffer(that, length);\n  var actual = that.write(string, encoding);\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual);\n  }\n\n  return that;\n}\n\nfunction fromArrayLike(that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0;\n  that = createBuffer(that, length);\n\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255;\n  }\n\n  return that;\n}\n\nfunction fromArrayBuffer(that, array, byteOffset, length) {\n  array.byteLength; // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds');\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds');\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array);\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset);\n  } else {\n    array = new Uint8Array(array, byteOffset, length);\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array;\n    that.__proto__ = Buffer.prototype;\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array);\n  }\n\n  return that;\n}\n\nfunction fromObject(that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0;\n    that = createBuffer(that, len);\n\n    if (that.length === 0) {\n      return that;\n    }\n\n    obj.copy(that, 0, 0, len);\n    return that;\n  }\n\n  if (obj) {\n    if (typeof ArrayBuffer !== 'undefined' && obj.buffer instanceof ArrayBuffer || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0);\n      }\n\n      return fromArrayLike(that, obj);\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data);\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.');\n}\n\nfunction checked(length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' + 'size: 0x' + kMaxLength().toString(16) + ' bytes');\n  }\n\n  return length | 0;\n}\n\nfunction SlowBuffer(length) {\n  if (+length != length) {\n    // eslint-disable-line eqeqeq\n    length = 0;\n  }\n\n  return Buffer.alloc(+length);\n}\n\nBuffer.isBuffer = function isBuffer(b) {\n  return !!(b != null && b._isBuffer);\n};\n\nBuffer.compare = function compare(a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers');\n  }\n\n  if (a === b) return 0;\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) return -1;\n  if (y < x) return 1;\n  return 0;\n};\n\nBuffer.isEncoding = function isEncoding(encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true;\n\n    default:\n      return false;\n  }\n};\n\nBuffer.concat = function concat(list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers');\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0);\n  }\n\n  var i;\n\n  if (length === undefined) {\n    length = 0;\n\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length;\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length);\n  var pos = 0;\n\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i];\n\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers');\n    }\n\n    buf.copy(buffer, pos);\n    pos += buf.length;\n  }\n\n  return buffer;\n};\n\nfunction byteLength(string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length;\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' && (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength;\n  }\n\n  if (typeof string !== 'string') {\n    string = '' + string;\n  }\n\n  var len = string.length;\n  if (len === 0) return 0; // Use a for loop to avoid recursion\n\n  var loweredCase = false;\n\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len;\n\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length;\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2;\n\n      case 'hex':\n        return len >>> 1;\n\n      case 'base64':\n        return base64ToBytes(string).length;\n\n      default:\n        if (loweredCase) return utf8ToBytes(string).length; // assume utf8\n\n        encoding = ('' + encoding).toLowerCase();\n        loweredCase = true;\n    }\n  }\n}\n\nBuffer.byteLength = byteLength;\n\nfunction slowToString(encoding, start, end) {\n  var loweredCase = false; // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n\n  if (start === undefined || start < 0) {\n    start = 0;\n  } // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n\n\n  if (start > this.length) {\n    return '';\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length;\n  }\n\n  if (end <= 0) {\n    return '';\n  } // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n\n\n  end >>>= 0;\n  start >>>= 0;\n\n  if (end <= start) {\n    return '';\n  }\n\n  if (!encoding) encoding = 'utf8';\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end);\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end);\n\n      case 'ascii':\n        return asciiSlice(this, start, end);\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end);\n\n      case 'base64':\n        return base64Slice(this, start, end);\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end);\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding);\n        encoding = (encoding + '').toLowerCase();\n        loweredCase = true;\n    }\n  }\n} // The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\n\n\nBuffer.prototype._isBuffer = true;\n\nfunction swap(b, n, m) {\n  var i = b[n];\n  b[n] = b[m];\n  b[m] = i;\n}\n\nBuffer.prototype.swap16 = function swap16() {\n  var len = this.length;\n\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits');\n  }\n\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1);\n  }\n\n  return this;\n};\n\nBuffer.prototype.swap32 = function swap32() {\n  var len = this.length;\n\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits');\n  }\n\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3);\n    swap(this, i + 1, i + 2);\n  }\n\n  return this;\n};\n\nBuffer.prototype.swap64 = function swap64() {\n  var len = this.length;\n\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits');\n  }\n\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7);\n    swap(this, i + 1, i + 6);\n    swap(this, i + 2, i + 5);\n    swap(this, i + 3, i + 4);\n  }\n\n  return this;\n};\n\nBuffer.prototype.toString = function toString() {\n  var length = this.length | 0;\n  if (length === 0) return '';\n  if (arguments.length === 0) return utf8Slice(this, 0, length);\n  return slowToString.apply(this, arguments);\n};\n\nBuffer.prototype.equals = function equals(b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer');\n  if (this === b) return true;\n  return Buffer.compare(this, b) === 0;\n};\n\nBuffer.prototype.inspect = function inspect() {\n  var str = '';\n  var max = exports.INSPECT_MAX_BYTES;\n\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ');\n    if (this.length > max) str += ' ... ';\n  }\n\n  return '<Buffer ' + str + '>';\n};\n\nBuffer.prototype.compare = function compare(target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer');\n  }\n\n  if (start === undefined) {\n    start = 0;\n  }\n\n  if (end === undefined) {\n    end = target ? target.length : 0;\n  }\n\n  if (thisStart === undefined) {\n    thisStart = 0;\n  }\n\n  if (thisEnd === undefined) {\n    thisEnd = this.length;\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index');\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0;\n  }\n\n  if (thisStart >= thisEnd) {\n    return -1;\n  }\n\n  if (start >= end) {\n    return 1;\n  }\n\n  start >>>= 0;\n  end >>>= 0;\n  thisStart >>>= 0;\n  thisEnd >>>= 0;\n  if (this === target) return 0;\n  var x = thisEnd - thisStart;\n  var y = end - start;\n  var len = Math.min(x, y);\n  var thisCopy = this.slice(thisStart, thisEnd);\n  var targetCopy = target.slice(start, end);\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i];\n      y = targetCopy[i];\n      break;\n    }\n  }\n\n  if (x < y) return -1;\n  if (y < x) return 1;\n  return 0;\n}; // Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\n\n\nfunction bidirectionalIndexOf(buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1; // Normalize byteOffset\n\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset;\n    byteOffset = 0;\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff;\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000;\n  }\n\n  byteOffset = +byteOffset; // Coerce to Number.\n\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : buffer.length - 1;\n  } // Normalize byteOffset: negative offsets start from the end of the buffer\n\n\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset;\n\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1;else byteOffset = buffer.length - 1;\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0;else return -1;\n  } // Normalize val\n\n\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding);\n  } // Finally, search either indexOf (if dir is true) or lastIndexOf\n\n\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1;\n    }\n\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir);\n  } else if (typeof val === 'number') {\n    val = val & 0xFF; // Search for a byte value [0-255]\n\n    if (Buffer.TYPED_ARRAY_SUPPORT && typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset);\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset);\n      }\n    }\n\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir);\n  }\n\n  throw new TypeError('val must be string, number or Buffer');\n}\n\nfunction arrayIndexOf(arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1;\n  var arrLength = arr.length;\n  var valLength = val.length;\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase();\n\n    if (encoding === 'ucs2' || encoding === 'ucs-2' || encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1;\n      }\n\n      indexSize = 2;\n      arrLength /= 2;\n      valLength /= 2;\n      byteOffset /= 2;\n    }\n  }\n\n  function read(buf, i) {\n    if (indexSize === 1) {\n      return buf[i];\n    } else {\n      return buf.readUInt16BE(i * indexSize);\n    }\n  }\n\n  var i;\n\n  if (dir) {\n    var foundIndex = -1;\n\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i;\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize;\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex;\n        foundIndex = -1;\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength;\n\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true;\n\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false;\n          break;\n        }\n      }\n\n      if (found) return i;\n    }\n  }\n\n  return -1;\n}\n\nBuffer.prototype.includes = function includes(val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1;\n};\n\nBuffer.prototype.indexOf = function indexOf(val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true);\n};\n\nBuffer.prototype.lastIndexOf = function lastIndexOf(val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false);\n};\n\nfunction hexWrite(buf, string, offset, length) {\n  offset = Number(offset) || 0;\n  var remaining = buf.length - offset;\n\n  if (!length) {\n    length = remaining;\n  } else {\n    length = Number(length);\n\n    if (length > remaining) {\n      length = remaining;\n    }\n  } // must be an even number of digits\n\n\n  var strLen = string.length;\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string');\n\n  if (length > strLen / 2) {\n    length = strLen / 2;\n  }\n\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16);\n    if (isNaN(parsed)) return i;\n    buf[offset + i] = parsed;\n  }\n\n  return i;\n}\n\nfunction utf8Write(buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);\n}\n\nfunction asciiWrite(buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length);\n}\n\nfunction latin1Write(buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length);\n}\n\nfunction base64Write(buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length);\n}\n\nfunction ucs2Write(buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length);\n}\n\nBuffer.prototype.write = function write(string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8';\n    length = this.length;\n    offset = 0; // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset;\n    length = this.length;\n    offset = 0; // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0;\n\n    if (isFinite(length)) {\n      length = length | 0;\n      if (encoding === undefined) encoding = 'utf8';\n    } else {\n      encoding = length;\n      length = undefined;\n    } // legacy write(string, encoding, offset, length) - remove in v0.13\n\n  } else {\n    throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');\n  }\n\n  var remaining = this.length - offset;\n  if (length === undefined || length > remaining) length = remaining;\n\n  if (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds');\n  }\n\n  if (!encoding) encoding = 'utf8';\n  var loweredCase = false;\n\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length);\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length);\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length);\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length);\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length);\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length);\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding);\n        encoding = ('' + encoding).toLowerCase();\n        loweredCase = true;\n    }\n  }\n};\n\nBuffer.prototype.toJSON = function toJSON() {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  };\n};\n\nfunction base64Slice(buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf);\n  } else {\n    return base64.fromByteArray(buf.slice(start, end));\n  }\n}\n\nfunction utf8Slice(buf, start, end) {\n  end = Math.min(buf.length, end);\n  var res = [];\n  var i = start;\n\n  while (i < end) {\n    var firstByte = buf[i];\n    var codePoint = null;\n    var bytesPerSequence = firstByte > 0xEF ? 4 : firstByte > 0xDF ? 3 : firstByte > 0xBF ? 2 : 1;\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint;\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte;\n          }\n\n          break;\n\n        case 2:\n          secondByte = buf[i + 1];\n\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | secondByte & 0x3F;\n\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint;\n            }\n          }\n\n          break;\n\n        case 3:\n          secondByte = buf[i + 1];\n          thirdByte = buf[i + 2];\n\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | thirdByte & 0x3F;\n\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint;\n            }\n          }\n\n          break;\n\n        case 4:\n          secondByte = buf[i + 1];\n          thirdByte = buf[i + 2];\n          fourthByte = buf[i + 3];\n\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | fourthByte & 0x3F;\n\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint;\n            }\n          }\n\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD;\n      bytesPerSequence = 1;\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000;\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800);\n      codePoint = 0xDC00 | codePoint & 0x3FF;\n    }\n\n    res.push(codePoint);\n    i += bytesPerSequence;\n  }\n\n  return decodeCodePointsArray(res);\n} // Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\n\n\nvar MAX_ARGUMENTS_LENGTH = 0x1000;\n\nfunction decodeCodePointsArray(codePoints) {\n  var len = codePoints.length;\n\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints); // avoid extra slice()\n  } // Decode in chunks to avoid \"call stack size exceeded\".\n\n\n  var res = '';\n  var i = 0;\n\n  while (i < len) {\n    res += String.fromCharCode.apply(String, codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH));\n  }\n\n  return res;\n}\n\nfunction asciiSlice(buf, start, end) {\n  var ret = '';\n  end = Math.min(buf.length, end);\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F);\n  }\n\n  return ret;\n}\n\nfunction latin1Slice(buf, start, end) {\n  var ret = '';\n  end = Math.min(buf.length, end);\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i]);\n  }\n\n  return ret;\n}\n\nfunction hexSlice(buf, start, end) {\n  var len = buf.length;\n  if (!start || start < 0) start = 0;\n  if (!end || end < 0 || end > len) end = len;\n  var out = '';\n\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i]);\n  }\n\n  return out;\n}\n\nfunction utf16leSlice(buf, start, end) {\n  var bytes = buf.slice(start, end);\n  var res = '';\n\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256);\n  }\n\n  return res;\n}\n\nBuffer.prototype.slice = function slice(start, end) {\n  var len = this.length;\n  start = ~~start;\n  end = end === undefined ? len : ~~end;\n\n  if (start < 0) {\n    start += len;\n    if (start < 0) start = 0;\n  } else if (start > len) {\n    start = len;\n  }\n\n  if (end < 0) {\n    end += len;\n    if (end < 0) end = 0;\n  } else if (end > len) {\n    end = len;\n  }\n\n  if (end < start) end = start;\n  var newBuf;\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end);\n    newBuf.__proto__ = Buffer.prototype;\n  } else {\n    var sliceLen = end - start;\n    newBuf = new Buffer(sliceLen, undefined);\n\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start];\n    }\n  }\n\n  return newBuf;\n};\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\n\n\nfunction checkOffset(offset, ext, length) {\n  if (offset % 1 !== 0 || offset < 0) throw new RangeError('offset is not uint');\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length');\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE(offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n  var val = this[offset];\n  var mul = 1;\n  var i = 0;\n\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul;\n  }\n\n  return val;\n};\n\nBuffer.prototype.readUIntBE = function readUIntBE(offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length);\n  }\n\n  var val = this[offset + --byteLength];\n  var mul = 1;\n\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul;\n  }\n\n  return val;\n};\n\nBuffer.prototype.readUInt8 = function readUInt8(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length);\n  return this[offset];\n};\n\nBuffer.prototype.readUInt16LE = function readUInt16LE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  return this[offset] | this[offset + 1] << 8;\n};\n\nBuffer.prototype.readUInt16BE = function readUInt16BE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  return this[offset] << 8 | this[offset + 1];\n};\n\nBuffer.prototype.readUInt32LE = function readUInt32LE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return (this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16) + this[offset + 3] * 0x1000000;\n};\n\nBuffer.prototype.readUInt32BE = function readUInt32BE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return this[offset] * 0x1000000 + (this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3]);\n};\n\nBuffer.prototype.readIntLE = function readIntLE(offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n  var val = this[offset];\n  var mul = 1;\n  var i = 0;\n\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul;\n  }\n\n  mul *= 0x80;\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n  return val;\n};\n\nBuffer.prototype.readIntBE = function readIntBE(offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n  var i = byteLength;\n  var mul = 1;\n  var val = this[offset + --i];\n\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul;\n  }\n\n  mul *= 0x80;\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n  return val;\n};\n\nBuffer.prototype.readInt8 = function readInt8(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length);\n  if (!(this[offset] & 0x80)) return this[offset];\n  return (0xff - this[offset] + 1) * -1;\n};\n\nBuffer.prototype.readInt16LE = function readInt16LE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  var val = this[offset] | this[offset + 1] << 8;\n  return val & 0x8000 ? val | 0xFFFF0000 : val;\n};\n\nBuffer.prototype.readInt16BE = function readInt16BE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  var val = this[offset + 1] | this[offset] << 8;\n  return val & 0x8000 ? val | 0xFFFF0000 : val;\n};\n\nBuffer.prototype.readInt32LE = function readInt32LE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16 | this[offset + 3] << 24;\n};\n\nBuffer.prototype.readInt32BE = function readInt32BE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return this[offset] << 24 | this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3];\n};\n\nBuffer.prototype.readFloatLE = function readFloatLE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return ieee754.read(this, offset, true, 23, 4);\n};\n\nBuffer.prototype.readFloatBE = function readFloatBE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return ieee754.read(this, offset, false, 23, 4);\n};\n\nBuffer.prototype.readDoubleLE = function readDoubleLE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length);\n  return ieee754.read(this, offset, true, 52, 8);\n};\n\nBuffer.prototype.readDoubleBE = function readDoubleBE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length);\n  return ieee754.read(this, offset, false, 52, 8);\n};\n\nfunction checkInt(buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance');\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds');\n  if (offset + ext > buf.length) throw new RangeError('Index out of range');\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1;\n    checkInt(this, value, offset, byteLength, maxBytes, 0);\n  }\n\n  var mul = 1;\n  var i = 0;\n  this[offset] = value & 0xFF;\n\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = value / mul & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer.prototype.writeUIntBE = function writeUIntBE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1;\n    checkInt(this, value, offset, byteLength, maxBytes, 0);\n  }\n\n  var i = byteLength - 1;\n  var mul = 1;\n  this[offset + i] = value & 0xFF;\n\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = value / mul & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer.prototype.writeUInt8 = function writeUInt8(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0);\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value);\n  this[offset] = value & 0xff;\n  return offset + 1;\n};\n\nfunction objectWriteUInt16(buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1;\n\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & 0xff << 8 * (littleEndian ? i : 1 - i)) >>> (littleEndian ? i : 1 - i) * 8;\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value & 0xff;\n    this[offset + 1] = value >>> 8;\n  } else {\n    objectWriteUInt16(this, value, offset, true);\n  }\n\n  return offset + 2;\n};\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value >>> 8;\n    this[offset + 1] = value & 0xff;\n  } else {\n    objectWriteUInt16(this, value, offset, false);\n  }\n\n  return offset + 2;\n};\n\nfunction objectWriteUInt32(buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1;\n\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = value >>> (littleEndian ? i : 3 - i) * 8 & 0xff;\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = value >>> 24;\n    this[offset + 2] = value >>> 16;\n    this[offset + 1] = value >>> 8;\n    this[offset] = value & 0xff;\n  } else {\n    objectWriteUInt32(this, value, offset, true);\n  }\n\n  return offset + 4;\n};\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value >>> 24;\n    this[offset + 1] = value >>> 16;\n    this[offset + 2] = value >>> 8;\n    this[offset + 3] = value & 0xff;\n  } else {\n    objectWriteUInt32(this, value, offset, false);\n  }\n\n  return offset + 4;\n};\n\nBuffer.prototype.writeIntLE = function writeIntLE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1);\n    checkInt(this, value, offset, byteLength, limit - 1, -limit);\n  }\n\n  var i = 0;\n  var mul = 1;\n  var sub = 0;\n  this[offset] = value & 0xFF;\n\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1;\n    }\n\n    this[offset + i] = (value / mul >> 0) - sub & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer.prototype.writeIntBE = function writeIntBE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1);\n    checkInt(this, value, offset, byteLength, limit - 1, -limit);\n  }\n\n  var i = byteLength - 1;\n  var mul = 1;\n  var sub = 0;\n  this[offset + i] = value & 0xFF;\n\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1;\n    }\n\n    this[offset + i] = (value / mul >> 0) - sub & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer.prototype.writeInt8 = function writeInt8(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80);\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value);\n  if (value < 0) value = 0xff + value + 1;\n  this[offset] = value & 0xff;\n  return offset + 1;\n};\n\nBuffer.prototype.writeInt16LE = function writeInt16LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value & 0xff;\n    this[offset + 1] = value >>> 8;\n  } else {\n    objectWriteUInt16(this, value, offset, true);\n  }\n\n  return offset + 2;\n};\n\nBuffer.prototype.writeInt16BE = function writeInt16BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value >>> 8;\n    this[offset + 1] = value & 0xff;\n  } else {\n    objectWriteUInt16(this, value, offset, false);\n  }\n\n  return offset + 2;\n};\n\nBuffer.prototype.writeInt32LE = function writeInt32LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value & 0xff;\n    this[offset + 1] = value >>> 8;\n    this[offset + 2] = value >>> 16;\n    this[offset + 3] = value >>> 24;\n  } else {\n    objectWriteUInt32(this, value, offset, true);\n  }\n\n  return offset + 4;\n};\n\nBuffer.prototype.writeInt32BE = function writeInt32BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n  if (value < 0) value = 0xffffffff + value + 1;\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value >>> 24;\n    this[offset + 1] = value >>> 16;\n    this[offset + 2] = value >>> 8;\n    this[offset + 3] = value & 0xff;\n  } else {\n    objectWriteUInt32(this, value, offset, false);\n  }\n\n  return offset + 4;\n};\n\nfunction checkIEEE754(buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range');\n  if (offset < 0) throw new RangeError('Index out of range');\n}\n\nfunction writeFloat(buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38);\n  }\n\n  ieee754.write(buf, value, offset, littleEndian, 23, 4);\n  return offset + 4;\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE(value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert);\n};\n\nBuffer.prototype.writeFloatBE = function writeFloatBE(value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert);\n};\n\nfunction writeDouble(buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308);\n  }\n\n  ieee754.write(buf, value, offset, littleEndian, 52, 8);\n  return offset + 8;\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE(value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert);\n};\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE(value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert);\n}; // copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\n\n\nBuffer.prototype.copy = function copy(target, targetStart, start, end) {\n  if (!start) start = 0;\n  if (!end && end !== 0) end = this.length;\n  if (targetStart >= target.length) targetStart = target.length;\n  if (!targetStart) targetStart = 0;\n  if (end > 0 && end < start) end = start; // Copy 0 bytes; we're done\n\n  if (end === start) return 0;\n  if (target.length === 0 || this.length === 0) return 0; // Fatal error conditions\n\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds');\n  }\n\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds');\n  if (end < 0) throw new RangeError('sourceEnd out of bounds'); // Are we oob?\n\n  if (end > this.length) end = this.length;\n\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start;\n  }\n\n  var len = end - start;\n  var i;\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start];\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start];\n    }\n  } else {\n    Uint8Array.prototype.set.call(target, this.subarray(start, start + len), targetStart);\n  }\n\n  return len;\n}; // Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\n\n\nBuffer.prototype.fill = function fill(val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start;\n      start = 0;\n      end = this.length;\n    } else if (typeof end === 'string') {\n      encoding = end;\n      end = this.length;\n    }\n\n    if (val.length === 1) {\n      var code = val.charCodeAt(0);\n\n      if (code < 256) {\n        val = code;\n      }\n    }\n\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string');\n    }\n\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding);\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255;\n  } // Invalid ranges are not set to a default, so can range check early.\n\n\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index');\n  }\n\n  if (end <= start) {\n    return this;\n  }\n\n  start = start >>> 0;\n  end = end === undefined ? this.length : end >>> 0;\n  if (!val) val = 0;\n  var i;\n\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val;\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val) ? val : utf8ToBytes(new Buffer(val, encoding).toString());\n    var len = bytes.length;\n\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len];\n    }\n  }\n\n  return this;\n}; // HELPER FUNCTIONS\n// ================\n\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g;\n\nfunction base64clean(str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, ''); // Node converts strings with length < 2 to ''\n\n  if (str.length < 2) return ''; // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n\n  while (str.length % 4 !== 0) {\n    str = str + '=';\n  }\n\n  return str;\n}\n\nfunction stringtrim(str) {\n  if (str.trim) return str.trim();\n  return str.replace(/^\\s+|\\s+$/g, '');\n}\n\nfunction toHex(n) {\n  if (n < 16) return '0' + n.toString(16);\n  return n.toString(16);\n}\n\nfunction utf8ToBytes(string, units) {\n  units = units || Infinity;\n  var codePoint;\n  var length = string.length;\n  var leadSurrogate = null;\n  var bytes = [];\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i); // is surrogate component\n\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n          continue;\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n          continue;\n        } // valid lead\n\n\n        leadSurrogate = codePoint;\n        continue;\n      } // 2 leads in a row\n\n\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n        leadSurrogate = codePoint;\n        continue;\n      } // valid surrogate pair\n\n\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000;\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n    }\n\n    leadSurrogate = null; // encode utf8\n\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break;\n      bytes.push(codePoint);\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break;\n      bytes.push(codePoint >> 0x6 | 0xC0, codePoint & 0x3F | 0x80);\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break;\n      bytes.push(codePoint >> 0xC | 0xE0, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break;\n      bytes.push(codePoint >> 0x12 | 0xF0, codePoint >> 0xC & 0x3F | 0x80, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n    } else {\n      throw new Error('Invalid code point');\n    }\n  }\n\n  return bytes;\n}\n\nfunction asciiToBytes(str) {\n  var byteArray = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF);\n  }\n\n  return byteArray;\n}\n\nfunction utf16leToBytes(str, units) {\n  var c, hi, lo;\n  var byteArray = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break;\n    c = str.charCodeAt(i);\n    hi = c >> 8;\n    lo = c % 256;\n    byteArray.push(lo);\n    byteArray.push(hi);\n  }\n\n  return byteArray;\n}\n\nfunction base64ToBytes(str) {\n  return base64.toByteArray(base64clean(str));\n}\n\nfunction blitBuffer(src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if (i + offset >= dst.length || i >= src.length) break;\n    dst[i + offset] = src[i];\n  }\n\n  return i;\n}\n\nfunction isnan(val) {\n  return val !== val; // eslint-disable-line no-self-compare\n}","'use strict';\n\nvar Quill = require('quill');\n\nvar QuillMixin = {\n  /**\n  Creates an editor on the given element. The editor will\n  be passed the configuration, have its events bound,\n  */\n  createEditor: function createEditor($el, config) {\n    var editor = new Quill($el, config);\n\n    if (config.tabIndex !== undefined) {\n      this.setEditorTabIndex(editor, config.tabIndex);\n    }\n\n    this.hookEditor(editor);\n    return editor;\n  },\n  hookEditor: function hookEditor(editor) {\n    // Expose the editor on change events via a weaker,\n    // unprivileged proxy object that does not allow\n    // accidentally modifying editor state.\n    var unprivilegedEditor = this.makeUnprivilegedEditor(editor);\n\n    this.handleTextChange = function (delta, oldDelta, source) {\n      if (this.onEditorChangeText) {\n        this.onEditorChangeText(editor.root.innerHTML, delta, source, unprivilegedEditor);\n        this.onEditorChangeSelection(editor.getSelection(), source, unprivilegedEditor);\n      }\n    }.bind(this);\n\n    this.handleSelectionChange = function (range, oldRange, source) {\n      if (this.onEditorChangeSelection) {\n        this.onEditorChangeSelection(range, source, unprivilegedEditor);\n      }\n    }.bind(this);\n\n    editor.on('editor-change', function (eventType, rangeOrDelta, oldRangeOrOldDelta, source) {\n      if (eventType === Quill.events.SELECTION_CHANGE) {\n        this.handleSelectionChange(rangeOrDelta, oldRangeOrOldDelta, source);\n      }\n\n      if (eventType === Quill.events.TEXT_CHANGE) {\n        this.handleTextChange(rangeOrDelta, oldRangeOrOldDelta, source);\n      }\n    }.bind(this));\n  },\n  unhookEditor: function unhookEditor(editor) {\n    editor.off('selection-change');\n    editor.off('text-change');\n  },\n  setEditorReadOnly: function setEditorReadOnly(editor, value) {\n    value ? editor.disable() : editor.enable();\n  },\n\n  /*\n  Replace the contents of the editor, but keep\n  the previous selection hanging around so that\n  the cursor won't move.\n  */\n  setEditorContents: function setEditorContents(editor, value) {\n    var sel = editor.getSelection();\n\n    if (typeof value === 'string') {\n      editor.setContents(editor.clipboard.convert(value));\n    } else {\n      editor.setContents(value);\n    }\n\n    if (sel && editor.hasFocus()) this.setEditorSelection(editor, sel);\n  },\n  setEditorSelection: function setEditorSelection(editor, range) {\n    if (range) {\n      // Validate bounds before applying.\n      var length = editor.getLength();\n      range.index = Math.max(0, Math.min(range.index, length - 1));\n      range.length = Math.max(0, Math.min(range.length, length - 1 - range.index));\n    }\n\n    editor.setSelection(range);\n  },\n  setEditorTabIndex: function setEditorTabIndex(editor, tabIndex) {\n    if (editor.editor && editor.editor.scroll && editor.editor.scroll.domNode) {\n      editor.editor.scroll.domNode.tabIndex = tabIndex;\n    }\n  },\n\n  /*\n  Returns an weaker, unprivileged proxy object that only\n  exposes read-only accessors found on the editor instance,\n  without any state-modificating methods.\n  */\n  makeUnprivilegedEditor: function makeUnprivilegedEditor(editor) {\n    var e = editor;\n    return {\n      getLength: function getLength() {\n        return e.getLength.apply(e, arguments);\n      },\n      getText: function getText() {\n        return e.getText.apply(e, arguments);\n      },\n      getHTML: function getHTML() {\n        return e.root.innerHTML;\n      },\n      getContents: function getContents() {\n        return e.getContents.apply(e, arguments);\n      },\n      getSelection: function getSelection() {\n        return e.getSelection.apply(e, arguments);\n      },\n      getBounds: function getBounds() {\n        return e.getBounds.apply(e, arguments);\n      }\n    };\n  }\n};\nmodule.exports = QuillMixin;","var createFind = require('./_createFind'),\n    findIndex = require('./findIndex');\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\n\n\nvar find = createFind(findIndex);\nmodule.exports = find;","'use strict';\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n(function (f) {\n  if (typeof exports === 'object' && typeof module !== 'undefined') {\n    module.exports = f(require('react'));\n    /* global define */\n  } else if (typeof define === 'function' && define.amd) {\n    define(['react'], f);\n  } else {\n    var g;\n\n    if (typeof window !== 'undefined') {\n      g = window;\n    } else if (typeof global !== 'undefined') {\n      g = global;\n    } else if (typeof self !== 'undefined') {\n      g = self;\n    } else {\n      g = this;\n    }\n\n    if (typeof g.React === 'undefined') {\n      throw Error('React module should be required before ReactDOMFactories');\n    }\n\n    g.ReactDOMFactories = f(g.React);\n  }\n})(function (React) {\n  /**\n   * Create a factory that creates HTML tag elements.\n   */\n  function createDOMFactory(type) {\n    var factory = React.createElement.bind(null, type); // Expose the type on the factory and the prototype so that it can be\n    // easily accessed on elements. E.g. `<Foo />.type === Foo`.\n    // This should not be named `constructor` since this may not be the function\n    // that created the element, and it may not even be a constructor.\n\n    factory.type = type;\n    return factory;\n  }\n\n  ;\n  /**\n   * Creates a mapping from supported HTML tags to `ReactDOMComponent` classes.\n   */\n\n  var ReactDOMFactories = {\n    a: createDOMFactory('a'),\n    abbr: createDOMFactory('abbr'),\n    address: createDOMFactory('address'),\n    area: createDOMFactory('area'),\n    article: createDOMFactory('article'),\n    aside: createDOMFactory('aside'),\n    audio: createDOMFactory('audio'),\n    b: createDOMFactory('b'),\n    base: createDOMFactory('base'),\n    bdi: createDOMFactory('bdi'),\n    bdo: createDOMFactory('bdo'),\n    big: createDOMFactory('big'),\n    blockquote: createDOMFactory('blockquote'),\n    body: createDOMFactory('body'),\n    br: createDOMFactory('br'),\n    button: createDOMFactory('button'),\n    canvas: createDOMFactory('canvas'),\n    caption: createDOMFactory('caption'),\n    cite: createDOMFactory('cite'),\n    code: createDOMFactory('code'),\n    col: createDOMFactory('col'),\n    colgroup: createDOMFactory('colgroup'),\n    data: createDOMFactory('data'),\n    datalist: createDOMFactory('datalist'),\n    dd: createDOMFactory('dd'),\n    del: createDOMFactory('del'),\n    details: createDOMFactory('details'),\n    dfn: createDOMFactory('dfn'),\n    dialog: createDOMFactory('dialog'),\n    div: createDOMFactory('div'),\n    dl: createDOMFactory('dl'),\n    dt: createDOMFactory('dt'),\n    em: createDOMFactory('em'),\n    embed: createDOMFactory('embed'),\n    fieldset: createDOMFactory('fieldset'),\n    figcaption: createDOMFactory('figcaption'),\n    figure: createDOMFactory('figure'),\n    footer: createDOMFactory('footer'),\n    form: createDOMFactory('form'),\n    h1: createDOMFactory('h1'),\n    h2: createDOMFactory('h2'),\n    h3: createDOMFactory('h3'),\n    h4: createDOMFactory('h4'),\n    h5: createDOMFactory('h5'),\n    h6: createDOMFactory('h6'),\n    head: createDOMFactory('head'),\n    header: createDOMFactory('header'),\n    hgroup: createDOMFactory('hgroup'),\n    hr: createDOMFactory('hr'),\n    html: createDOMFactory('html'),\n    i: createDOMFactory('i'),\n    iframe: createDOMFactory('iframe'),\n    img: createDOMFactory('img'),\n    input: createDOMFactory('input'),\n    ins: createDOMFactory('ins'),\n    kbd: createDOMFactory('kbd'),\n    keygen: createDOMFactory('keygen'),\n    label: createDOMFactory('label'),\n    legend: createDOMFactory('legend'),\n    li: createDOMFactory('li'),\n    link: createDOMFactory('link'),\n    main: createDOMFactory('main'),\n    map: createDOMFactory('map'),\n    mark: createDOMFactory('mark'),\n    menu: createDOMFactory('menu'),\n    menuitem: createDOMFactory('menuitem'),\n    meta: createDOMFactory('meta'),\n    meter: createDOMFactory('meter'),\n    nav: createDOMFactory('nav'),\n    noscript: createDOMFactory('noscript'),\n    object: createDOMFactory('object'),\n    ol: createDOMFactory('ol'),\n    optgroup: createDOMFactory('optgroup'),\n    option: createDOMFactory('option'),\n    output: createDOMFactory('output'),\n    p: createDOMFactory('p'),\n    param: createDOMFactory('param'),\n    picture: createDOMFactory('picture'),\n    pre: createDOMFactory('pre'),\n    progress: createDOMFactory('progress'),\n    q: createDOMFactory('q'),\n    rp: createDOMFactory('rp'),\n    rt: createDOMFactory('rt'),\n    ruby: createDOMFactory('ruby'),\n    s: createDOMFactory('s'),\n    samp: createDOMFactory('samp'),\n    script: createDOMFactory('script'),\n    section: createDOMFactory('section'),\n    select: createDOMFactory('select'),\n    small: createDOMFactory('small'),\n    source: createDOMFactory('source'),\n    span: createDOMFactory('span'),\n    strong: createDOMFactory('strong'),\n    style: createDOMFactory('style'),\n    sub: createDOMFactory('sub'),\n    summary: createDOMFactory('summary'),\n    sup: createDOMFactory('sup'),\n    table: createDOMFactory('table'),\n    tbody: createDOMFactory('tbody'),\n    td: createDOMFactory('td'),\n    textarea: createDOMFactory('textarea'),\n    tfoot: createDOMFactory('tfoot'),\n    th: createDOMFactory('th'),\n    thead: createDOMFactory('thead'),\n    time: createDOMFactory('time'),\n    title: createDOMFactory('title'),\n    tr: createDOMFactory('tr'),\n    track: createDOMFactory('track'),\n    u: createDOMFactory('u'),\n    ul: createDOMFactory('ul'),\n    var: createDOMFactory('var'),\n    video: createDOMFactory('video'),\n    wbr: createDOMFactory('wbr'),\n    // SVG\n    circle: createDOMFactory('circle'),\n    clipPath: createDOMFactory('clipPath'),\n    defs: createDOMFactory('defs'),\n    ellipse: createDOMFactory('ellipse'),\n    g: createDOMFactory('g'),\n    image: createDOMFactory('image'),\n    line: createDOMFactory('line'),\n    linearGradient: createDOMFactory('linearGradient'),\n    mask: createDOMFactory('mask'),\n    path: createDOMFactory('path'),\n    pattern: createDOMFactory('pattern'),\n    polygon: createDOMFactory('polygon'),\n    polyline: createDOMFactory('polyline'),\n    radialGradient: createDOMFactory('radialGradient'),\n    rect: createDOMFactory('rect'),\n    stop: createDOMFactory('stop'),\n    svg: createDOMFactory('svg'),\n    text: createDOMFactory('text'),\n    tspan: createDOMFactory('tspan')\n  }; // due to wrapper and conditionals at the top, this will either become\n  // `module.exports ReactDOMFactories` if that is available,\n  // otherwise it will be defined via `define(['react'], ReactDOMFactories)`\n  // if that is available,\n  // otherwise it will be defined as global variable.\n\n  return ReactDOMFactories;\n});","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../xml/xml\"), require(\"../meta\"));else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../xml/xml\", \"../meta\"], mod);else // Plain browser env\n    mod(CodeMirror);\n})(function (CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineMode(\"markdown\", function (cmCfg, modeCfg) {\n    var htmlMode = CodeMirror.getMode(cmCfg, \"text/html\");\n    var htmlModeMissing = htmlMode.name == \"null\";\n\n    function getMode(name) {\n      if (CodeMirror.findModeByName) {\n        var found = CodeMirror.findModeByName(name);\n        if (found) name = found.mime || found.mimes[0];\n      }\n\n      var mode = CodeMirror.getMode(cmCfg, name);\n      return mode.name == \"null\" ? null : mode;\n    } // Should characters that affect highlighting be highlighted separate?\n    // Does not include characters that will be output (such as `1.` and `-` for lists)\n\n\n    if (modeCfg.highlightFormatting === undefined) modeCfg.highlightFormatting = false; // Maximum number of nested blockquotes. Set to 0 for infinite nesting.\n    // Excess `>` will emit `error` token.\n\n    if (modeCfg.maxBlockquoteDepth === undefined) modeCfg.maxBlockquoteDepth = 0; // Turn on task lists? (\"- [ ] \" and \"- [x] \")\n\n    if (modeCfg.taskLists === undefined) modeCfg.taskLists = false; // Turn on strikethrough syntax\n\n    if (modeCfg.strikethrough === undefined) modeCfg.strikethrough = false;\n    if (modeCfg.emoji === undefined) modeCfg.emoji = false;\n    if (modeCfg.fencedCodeBlockHighlighting === undefined) modeCfg.fencedCodeBlockHighlighting = true;\n    if (modeCfg.xml === undefined) modeCfg.xml = true; // Allow token types to be overridden by user-provided token types.\n\n    if (modeCfg.tokenTypeOverrides === undefined) modeCfg.tokenTypeOverrides = {};\n    var tokenTypes = {\n      header: \"header\",\n      code: \"comment\",\n      quote: \"quote\",\n      list1: \"variable-2\",\n      list2: \"variable-3\",\n      list3: \"keyword\",\n      hr: \"hr\",\n      image: \"image\",\n      imageAltText: \"image-alt-text\",\n      imageMarker: \"image-marker\",\n      formatting: \"formatting\",\n      linkInline: \"link\",\n      linkEmail: \"link\",\n      linkText: \"link\",\n      linkHref: \"string\",\n      em: \"em\",\n      strong: \"strong\",\n      strikethrough: \"strikethrough\",\n      emoji: \"builtin\"\n    };\n\n    for (var tokenType in tokenTypes) {\n      if (tokenTypes.hasOwnProperty(tokenType) && modeCfg.tokenTypeOverrides[tokenType]) {\n        tokenTypes[tokenType] = modeCfg.tokenTypeOverrides[tokenType];\n      }\n    }\n\n    var hrRE = /^([*\\-_])(?:\\s*\\1){2,}\\s*$/,\n        listRE = /^(?:[*\\-+]|^[0-9]+([.)]))\\s+/,\n        taskListRE = /^\\[(x| )\\](?=\\s)/i // Must follow listRE\n    ,\n        atxHeaderRE = modeCfg.allowAtxHeaderWithoutSpace ? /^(#+)/ : /^(#+)(?: |$)/,\n        setextHeaderRE = /^ *(?:\\={1,}|-{1,})\\s*$/,\n        textRE = /^[^#!\\[\\]*_\\\\<>` \"'(~:]+/,\n        fencedCodeRE = /^(~~~+|```+)[ \\t]*([\\w+#-]*)[^\\n`]*$/,\n        linkDefRE = /^\\s*\\[[^\\]]+?\\]:.*$/ // naive link-definition\n    ,\n        punctuation = /[!\"#$%&'()*+,\\-.\\/:;<=>?@\\[\\\\\\]^_`{|}~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E42\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC9\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDF3C-\\uDF3E]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]/,\n        expandedTab = \"    \"; // CommonMark specifies tab as 4 spaces\n\n    function switchInline(stream, state, f) {\n      state.f = state.inline = f;\n      return f(stream, state);\n    }\n\n    function switchBlock(stream, state, f) {\n      state.f = state.block = f;\n      return f(stream, state);\n    }\n\n    function lineIsEmpty(line) {\n      return !line || !/\\S/.test(line.string);\n    } // Blocks\n\n\n    function blankLine(state) {\n      // Reset linkTitle state\n      state.linkTitle = false;\n      state.linkHref = false;\n      state.linkText = false; // Reset EM state\n\n      state.em = false; // Reset STRONG state\n\n      state.strong = false; // Reset strikethrough state\n\n      state.strikethrough = false; // Reset state.quote\n\n      state.quote = 0; // Reset state.indentedCode\n\n      state.indentedCode = false;\n\n      if (state.f == htmlBlock) {\n        var exit = htmlModeMissing;\n\n        if (!exit) {\n          var inner = CodeMirror.innerMode(htmlMode, state.htmlState);\n          exit = inner.mode.name == \"xml\" && inner.state.tagStart === null && !inner.state.context && inner.state.tokenize.isInText;\n        }\n\n        if (exit) {\n          state.f = inlineNormal;\n          state.block = blockNormal;\n          state.htmlState = null;\n        }\n      } // Reset state.trailingSpace\n\n\n      state.trailingSpace = 0;\n      state.trailingSpaceNewLine = false; // Mark this line as blank\n\n      state.prevLine = state.thisLine;\n      state.thisLine = {\n        stream: null\n      };\n      return null;\n    }\n\n    function blockNormal(stream, state) {\n      var firstTokenOnLine = stream.column() === state.indentation;\n      var prevLineLineIsEmpty = lineIsEmpty(state.prevLine.stream);\n      var prevLineIsIndentedCode = state.indentedCode;\n      var prevLineIsHr = state.prevLine.hr;\n      var prevLineIsList = state.list !== false;\n      var maxNonCodeIndentation = (state.listStack[state.listStack.length - 1] || 0) + 3;\n      state.indentedCode = false;\n      var lineIndentation = state.indentation; // compute once per line (on first token)\n\n      if (state.indentationDiff === null) {\n        state.indentationDiff = state.indentation;\n\n        if (prevLineIsList) {\n          // Reset inline styles which shouldn't propagate aross list items\n          state.em = false;\n          state.strong = false;\n          state.code = false;\n          state.strikethrough = false;\n          state.list = null; // While this list item's marker's indentation is less than the deepest\n          //  list item's content's indentation,pop the deepest list item\n          //  indentation off the stack, and update block indentation state\n\n          while (lineIndentation < state.listStack[state.listStack.length - 1]) {\n            state.listStack.pop();\n\n            if (state.listStack.length) {\n              state.indentation = state.listStack[state.listStack.length - 1]; // less than the first list's indent -> the line is no longer a list\n            } else {\n              state.list = false;\n            }\n          }\n\n          if (state.list !== false) {\n            state.indentationDiff = lineIndentation - state.listStack[state.listStack.length - 1];\n          }\n        }\n      } // not comprehensive (currently only for setext detection purposes)\n\n\n      var allowsInlineContinuation = !prevLineLineIsEmpty && !prevLineIsHr && !state.prevLine.header && (!prevLineIsList || !prevLineIsIndentedCode) && !state.prevLine.fencedCodeEnd;\n      var isHr = (state.list === false || prevLineIsHr || prevLineLineIsEmpty) && state.indentation <= maxNonCodeIndentation && stream.match(hrRE);\n      var match = null;\n\n      if (state.indentationDiff >= 4 && (prevLineIsIndentedCode || state.prevLine.fencedCodeEnd || state.prevLine.header || prevLineLineIsEmpty)) {\n        stream.skipToEnd();\n        state.indentedCode = true;\n        return tokenTypes.code;\n      } else if (stream.eatSpace()) {\n        return null;\n      } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(atxHeaderRE)) && match[1].length <= 6) {\n        state.quote = 0;\n        state.header = match[1].length;\n        state.thisLine.header = true;\n        if (modeCfg.highlightFormatting) state.formatting = \"header\";\n        state.f = state.inline;\n        return getType(state);\n      } else if (state.indentation <= maxNonCodeIndentation && stream.eat('>')) {\n        state.quote = firstTokenOnLine ? 1 : state.quote + 1;\n        if (modeCfg.highlightFormatting) state.formatting = \"quote\";\n        stream.eatSpace();\n        return getType(state);\n      } else if (!isHr && !state.setext && firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(listRE))) {\n        var listType = match[1] ? \"ol\" : \"ul\";\n        state.indentation = lineIndentation + stream.current().length;\n        state.list = true;\n        state.quote = 0; // Add this list item's content's indentation to the stack\n\n        state.listStack.push(state.indentation);\n\n        if (modeCfg.taskLists && stream.match(taskListRE, false)) {\n          state.taskList = true;\n        }\n\n        state.f = state.inline;\n        if (modeCfg.highlightFormatting) state.formatting = [\"list\", \"list-\" + listType];\n        return getType(state);\n      } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(fencedCodeRE, true))) {\n        state.quote = 0;\n        state.fencedEndRE = new RegExp(match[1] + \"+ *$\"); // try switching mode\n\n        state.localMode = modeCfg.fencedCodeBlockHighlighting && getMode(match[2]);\n        if (state.localMode) state.localState = CodeMirror.startState(state.localMode);\n        state.f = state.block = local;\n        if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n        state.code = -1;\n        return getType(state); // SETEXT has lowest block-scope precedence after HR, so check it after\n        //  the others (code, blockquote, list...)\n      } else if ( // if setext set, indicates line after ---/===\n      state.setext || // line before ---/===\n      (!allowsInlineContinuation || !prevLineIsList) && !state.quote && state.list === false && !state.code && !isHr && !linkDefRE.test(stream.string) && (match = stream.lookAhead(1)) && (match = match.match(setextHeaderRE))) {\n        if (!state.setext) {\n          state.header = match[0].charAt(0) == '=' ? 1 : 2;\n          state.setext = state.header;\n        } else {\n          state.header = state.setext; // has no effect on type so we can reset it now\n\n          state.setext = 0;\n          stream.skipToEnd();\n          if (modeCfg.highlightFormatting) state.formatting = \"header\";\n        }\n\n        state.thisLine.header = true;\n        state.f = state.inline;\n        return getType(state);\n      } else if (isHr) {\n        stream.skipToEnd();\n        state.hr = true;\n        state.thisLine.hr = true;\n        return tokenTypes.hr;\n      } else if (stream.peek() === '[') {\n        return switchInline(stream, state, footnoteLink);\n      }\n\n      return switchInline(stream, state, state.inline);\n    }\n\n    function htmlBlock(stream, state) {\n      var style = htmlMode.token(stream, state.htmlState);\n\n      if (!htmlModeMissing) {\n        var inner = CodeMirror.innerMode(htmlMode, state.htmlState);\n\n        if (inner.mode.name == \"xml\" && inner.state.tagStart === null && !inner.state.context && inner.state.tokenize.isInText || state.md_inside && stream.current().indexOf(\">\") > -1) {\n          state.f = inlineNormal;\n          state.block = blockNormal;\n          state.htmlState = null;\n        }\n      }\n\n      return style;\n    }\n\n    function local(stream, state) {\n      var currListInd = state.listStack[state.listStack.length - 1] || 0;\n      var hasExitedList = state.indentation < currListInd;\n      var maxFencedEndInd = currListInd + 3;\n\n      if (state.fencedEndRE && state.indentation <= maxFencedEndInd && (hasExitedList || stream.match(state.fencedEndRE))) {\n        if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n        var returnType;\n        if (!hasExitedList) returnType = getType(state);\n        state.localMode = state.localState = null;\n        state.block = blockNormal;\n        state.f = inlineNormal;\n        state.fencedEndRE = null;\n        state.code = 0;\n        state.thisLine.fencedCodeEnd = true;\n        if (hasExitedList) return switchBlock(stream, state, state.block);\n        return returnType;\n      } else if (state.localMode) {\n        return state.localMode.token(stream, state.localState);\n      } else {\n        stream.skipToEnd();\n        return tokenTypes.code;\n      }\n    } // Inline\n\n\n    function getType(state) {\n      var styles = [];\n\n      if (state.formatting) {\n        styles.push(tokenTypes.formatting);\n        if (typeof state.formatting === \"string\") state.formatting = [state.formatting];\n\n        for (var i = 0; i < state.formatting.length; i++) {\n          styles.push(tokenTypes.formatting + \"-\" + state.formatting[i]);\n\n          if (state.formatting[i] === \"header\") {\n            styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.header);\n          } // Add `formatting-quote` and `formatting-quote-#` for blockquotes\n          // Add `error` instead if the maximum blockquote nesting depth is passed\n\n\n          if (state.formatting[i] === \"quote\") {\n            if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n              styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.quote);\n            } else {\n              styles.push(\"error\");\n            }\n          }\n        }\n      }\n\n      if (state.taskOpen) {\n        styles.push(\"meta\");\n        return styles.length ? styles.join(' ') : null;\n      }\n\n      if (state.taskClosed) {\n        styles.push(\"property\");\n        return styles.length ? styles.join(' ') : null;\n      }\n\n      if (state.linkHref) {\n        styles.push(tokenTypes.linkHref, \"url\");\n      } else {\n        // Only apply inline styles to non-url text\n        if (state.strong) {\n          styles.push(tokenTypes.strong);\n        }\n\n        if (state.em) {\n          styles.push(tokenTypes.em);\n        }\n\n        if (state.strikethrough) {\n          styles.push(tokenTypes.strikethrough);\n        }\n\n        if (state.emoji) {\n          styles.push(tokenTypes.emoji);\n        }\n\n        if (state.linkText) {\n          styles.push(tokenTypes.linkText);\n        }\n\n        if (state.code) {\n          styles.push(tokenTypes.code);\n        }\n\n        if (state.image) {\n          styles.push(tokenTypes.image);\n        }\n\n        if (state.imageAltText) {\n          styles.push(tokenTypes.imageAltText, \"link\");\n        }\n\n        if (state.imageMarker) {\n          styles.push(tokenTypes.imageMarker);\n        }\n      }\n\n      if (state.header) {\n        styles.push(tokenTypes.header, tokenTypes.header + \"-\" + state.header);\n      }\n\n      if (state.quote) {\n        styles.push(tokenTypes.quote); // Add `quote-#` where the maximum for `#` is modeCfg.maxBlockquoteDepth\n\n        if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n          styles.push(tokenTypes.quote + \"-\" + state.quote);\n        } else {\n          styles.push(tokenTypes.quote + \"-\" + modeCfg.maxBlockquoteDepth);\n        }\n      }\n\n      if (state.list !== false) {\n        var listMod = (state.listStack.length - 1) % 3;\n\n        if (!listMod) {\n          styles.push(tokenTypes.list1);\n        } else if (listMod === 1) {\n          styles.push(tokenTypes.list2);\n        } else {\n          styles.push(tokenTypes.list3);\n        }\n      }\n\n      if (state.trailingSpaceNewLine) {\n        styles.push(\"trailing-space-new-line\");\n      } else if (state.trailingSpace) {\n        styles.push(\"trailing-space-\" + (state.trailingSpace % 2 ? \"a\" : \"b\"));\n      }\n\n      return styles.length ? styles.join(' ') : null;\n    }\n\n    function handleText(stream, state) {\n      if (stream.match(textRE, true)) {\n        return getType(state);\n      }\n\n      return undefined;\n    }\n\n    function inlineNormal(stream, state) {\n      var style = state.text(stream, state);\n      if (typeof style !== 'undefined') return style;\n\n      if (state.list) {\n        // List marker (*, +, -, 1., etc)\n        state.list = null;\n        return getType(state);\n      }\n\n      if (state.taskList) {\n        var taskOpen = stream.match(taskListRE, true)[1] === \" \";\n        if (taskOpen) state.taskOpen = true;else state.taskClosed = true;\n        if (modeCfg.highlightFormatting) state.formatting = \"task\";\n        state.taskList = false;\n        return getType(state);\n      }\n\n      state.taskOpen = false;\n      state.taskClosed = false;\n\n      if (state.header && stream.match(/^#+$/, true)) {\n        if (modeCfg.highlightFormatting) state.formatting = \"header\";\n        return getType(state);\n      }\n\n      var ch = stream.next(); // Matches link titles present on next line\n\n      if (state.linkTitle) {\n        state.linkTitle = false;\n        var matchCh = ch;\n\n        if (ch === '(') {\n          matchCh = ')';\n        }\n\n        matchCh = (matchCh + '').replace(/([.?*+^\\[\\]\\\\(){}|-])/g, \"\\\\$1\");\n        var regex = '^\\\\s*(?:[^' + matchCh + '\\\\\\\\]+|\\\\\\\\\\\\\\\\|\\\\\\\\.)' + matchCh;\n\n        if (stream.match(new RegExp(regex), true)) {\n          return tokenTypes.linkHref;\n        }\n      } // If this block is changed, it may need to be updated in GFM mode\n\n\n      if (ch === '`') {\n        var previousFormatting = state.formatting;\n        if (modeCfg.highlightFormatting) state.formatting = \"code\";\n        stream.eatWhile('`');\n        var count = stream.current().length;\n\n        if (state.code == 0 && (!state.quote || count == 1)) {\n          state.code = count;\n          return getType(state);\n        } else if (count == state.code) {\n          // Must be exact\n          var t = getType(state);\n          state.code = 0;\n          return t;\n        } else {\n          state.formatting = previousFormatting;\n          return getType(state);\n        }\n      } else if (state.code) {\n        return getType(state);\n      }\n\n      if (ch === '\\\\') {\n        stream.next();\n\n        if (modeCfg.highlightFormatting) {\n          var type = getType(state);\n          var formattingEscape = tokenTypes.formatting + \"-escape\";\n          return type ? type + \" \" + formattingEscape : formattingEscape;\n        }\n      }\n\n      if (ch === '!' && stream.match(/\\[[^\\]]*\\] ?(?:\\(|\\[)/, false)) {\n        state.imageMarker = true;\n        state.image = true;\n        if (modeCfg.highlightFormatting) state.formatting = \"image\";\n        return getType(state);\n      }\n\n      if (ch === '[' && state.imageMarker && stream.match(/[^\\]]*\\](\\(.*?\\)| ?\\[.*?\\])/, false)) {\n        state.imageMarker = false;\n        state.imageAltText = true;\n        if (modeCfg.highlightFormatting) state.formatting = \"image\";\n        return getType(state);\n      }\n\n      if (ch === ']' && state.imageAltText) {\n        if (modeCfg.highlightFormatting) state.formatting = \"image\";\n        var type = getType(state);\n        state.imageAltText = false;\n        state.image = false;\n        state.inline = state.f = linkHref;\n        return type;\n      }\n\n      if (ch === '[' && !state.image) {\n        if (state.linkText && stream.match(/^.*?\\]/)) return getType(state);\n        state.linkText = true;\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        return getType(state);\n      }\n\n      if (ch === ']' && state.linkText) {\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        var type = getType(state);\n        state.linkText = false;\n        state.inline = state.f = stream.match(/\\(.*?\\)| ?\\[.*?\\]/, false) ? linkHref : inlineNormal;\n        return type;\n      }\n\n      if (ch === '<' && stream.match(/^(https?|ftps?):\\/\\/(?:[^\\\\>]|\\\\.)+>/, false)) {\n        state.f = state.inline = linkInline;\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        var type = getType(state);\n\n        if (type) {\n          type += \" \";\n        } else {\n          type = \"\";\n        }\n\n        return type + tokenTypes.linkInline;\n      }\n\n      if (ch === '<' && stream.match(/^[^> \\\\]+@(?:[^\\\\>]|\\\\.)+>/, false)) {\n        state.f = state.inline = linkInline;\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        var type = getType(state);\n\n        if (type) {\n          type += \" \";\n        } else {\n          type = \"\";\n        }\n\n        return type + tokenTypes.linkEmail;\n      }\n\n      if (modeCfg.xml && ch === '<' && stream.match(/^(!--|\\?|!\\[CDATA\\[|[a-z][a-z0-9-]*(?:\\s+[a-z_:.\\-]+(?:\\s*=\\s*[^>]+)?)*\\s*(?:>|$))/i, false)) {\n        var end = stream.string.indexOf(\">\", stream.pos);\n\n        if (end != -1) {\n          var atts = stream.string.substring(stream.start, end);\n          if (/markdown\\s*=\\s*('|\"){0,1}1('|\"){0,1}/.test(atts)) state.md_inside = true;\n        }\n\n        stream.backUp(1);\n        state.htmlState = CodeMirror.startState(htmlMode);\n        return switchBlock(stream, state, htmlBlock);\n      }\n\n      if (modeCfg.xml && ch === '<' && stream.match(/^\\/\\w*?>/)) {\n        state.md_inside = false;\n        return \"tag\";\n      } else if (ch === \"*\" || ch === \"_\") {\n        var len = 1,\n            before = stream.pos == 1 ? \" \" : stream.string.charAt(stream.pos - 2);\n\n        while (len < 3 && stream.eat(ch)) {\n          len++;\n        }\n\n        var after = stream.peek() || \" \"; // See http://spec.commonmark.org/0.27/#emphasis-and-strong-emphasis\n\n        var leftFlanking = !/\\s/.test(after) && (!punctuation.test(after) || /\\s/.test(before) || punctuation.test(before));\n        var rightFlanking = !/\\s/.test(before) && (!punctuation.test(before) || /\\s/.test(after) || punctuation.test(after));\n        var setEm = null,\n            setStrong = null;\n\n        if (len % 2) {\n          // Em\n          if (!state.em && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before))) setEm = true;else if (state.em == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after))) setEm = false;\n        }\n\n        if (len > 1) {\n          // Strong\n          if (!state.strong && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before))) setStrong = true;else if (state.strong == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after))) setStrong = false;\n        }\n\n        if (setStrong != null || setEm != null) {\n          if (modeCfg.highlightFormatting) state.formatting = setEm == null ? \"strong\" : setStrong == null ? \"em\" : \"strong em\";\n          if (setEm === true) state.em = ch;\n          if (setStrong === true) state.strong = ch;\n          var t = getType(state);\n          if (setEm === false) state.em = false;\n          if (setStrong === false) state.strong = false;\n          return t;\n        }\n      } else if (ch === ' ') {\n        if (stream.eat('*') || stream.eat('_')) {\n          // Probably surrounded by spaces\n          if (stream.peek() === ' ') {\n            // Surrounded by spaces, ignore\n            return getType(state);\n          } else {\n            // Not surrounded by spaces, back up pointer\n            stream.backUp(1);\n          }\n        }\n      }\n\n      if (modeCfg.strikethrough) {\n        if (ch === '~' && stream.eatWhile(ch)) {\n          if (state.strikethrough) {\n            // Remove strikethrough\n            if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n            var t = getType(state);\n            state.strikethrough = false;\n            return t;\n          } else if (stream.match(/^[^\\s]/, false)) {\n            // Add strikethrough\n            state.strikethrough = true;\n            if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n            return getType(state);\n          }\n        } else if (ch === ' ') {\n          if (stream.match(/^~~/, true)) {\n            // Probably surrounded by space\n            if (stream.peek() === ' ') {\n              // Surrounded by spaces, ignore\n              return getType(state);\n            } else {\n              // Not surrounded by spaces, back up pointer\n              stream.backUp(2);\n            }\n          }\n        }\n      }\n\n      if (modeCfg.emoji && ch === \":\" && stream.match(/^(?:[a-z_\\d+][a-z_\\d+-]*|\\-[a-z_\\d+][a-z_\\d+-]*):/)) {\n        state.emoji = true;\n        if (modeCfg.highlightFormatting) state.formatting = \"emoji\";\n        var retType = getType(state);\n        state.emoji = false;\n        return retType;\n      }\n\n      if (ch === ' ') {\n        if (stream.match(/^ +$/, false)) {\n          state.trailingSpace++;\n        } else if (state.trailingSpace) {\n          state.trailingSpaceNewLine = true;\n        }\n      }\n\n      return getType(state);\n    }\n\n    function linkInline(stream, state) {\n      var ch = stream.next();\n\n      if (ch === \">\") {\n        state.f = state.inline = inlineNormal;\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        var type = getType(state);\n\n        if (type) {\n          type += \" \";\n        } else {\n          type = \"\";\n        }\n\n        return type + tokenTypes.linkInline;\n      }\n\n      stream.match(/^[^>]+/, true);\n      return tokenTypes.linkInline;\n    }\n\n    function linkHref(stream, state) {\n      // Check if space, and return NULL if so (to avoid marking the space)\n      if (stream.eatSpace()) {\n        return null;\n      }\n\n      var ch = stream.next();\n\n      if (ch === '(' || ch === '[') {\n        state.f = state.inline = getLinkHrefInside(ch === \"(\" ? \")\" : \"]\");\n        if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n        state.linkHref = true;\n        return getType(state);\n      }\n\n      return 'error';\n    }\n\n    var linkRE = {\n      \")\": /^(?:[^\\\\\\(\\)]|\\\\.|\\((?:[^\\\\\\(\\)]|\\\\.)*\\))*?(?=\\))/,\n      \"]\": /^(?:[^\\\\\\[\\]]|\\\\.|\\[(?:[^\\\\\\[\\]]|\\\\.)*\\])*?(?=\\])/\n    };\n\n    function getLinkHrefInside(endChar) {\n      return function (stream, state) {\n        var ch = stream.next();\n\n        if (ch === endChar) {\n          state.f = state.inline = inlineNormal;\n          if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n          var returnState = getType(state);\n          state.linkHref = false;\n          return returnState;\n        }\n\n        stream.match(linkRE[endChar]);\n        state.linkHref = true;\n        return getType(state);\n      };\n    }\n\n    function footnoteLink(stream, state) {\n      if (stream.match(/^([^\\]\\\\]|\\\\.)*\\]:/, false)) {\n        state.f = footnoteLinkInside;\n        stream.next(); // Consume [\n\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        state.linkText = true;\n        return getType(state);\n      }\n\n      return switchInline(stream, state, inlineNormal);\n    }\n\n    function footnoteLinkInside(stream, state) {\n      if (stream.match(/^\\]:/, true)) {\n        state.f = state.inline = footnoteUrl;\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        var returnType = getType(state);\n        state.linkText = false;\n        return returnType;\n      }\n\n      stream.match(/^([^\\]\\\\]|\\\\.)+/, true);\n      return tokenTypes.linkText;\n    }\n\n    function footnoteUrl(stream, state) {\n      // Check if space, and return NULL if so (to avoid marking the space)\n      if (stream.eatSpace()) {\n        return null;\n      } // Match URL\n\n\n      stream.match(/^[^\\s]+/, true); // Check for link title\n\n      if (stream.peek() === undefined) {\n        // End of line, set flag to check next line\n        state.linkTitle = true;\n      } else {\n        // More content on line, check if link title\n        stream.match(/^(?:\\s+(?:\"(?:[^\"\\\\]|\\\\\\\\|\\\\.)+\"|'(?:[^'\\\\]|\\\\\\\\|\\\\.)+'|\\((?:[^)\\\\]|\\\\\\\\|\\\\.)+\\)))?/, true);\n      }\n\n      state.f = state.inline = inlineNormal;\n      return tokenTypes.linkHref + \" url\";\n    }\n\n    var mode = {\n      startState: function startState() {\n        return {\n          f: blockNormal,\n          prevLine: {\n            stream: null\n          },\n          thisLine: {\n            stream: null\n          },\n          block: blockNormal,\n          htmlState: null,\n          indentation: 0,\n          inline: inlineNormal,\n          text: handleText,\n          formatting: false,\n          linkText: false,\n          linkHref: false,\n          linkTitle: false,\n          code: 0,\n          em: false,\n          strong: false,\n          header: 0,\n          setext: 0,\n          hr: false,\n          taskList: false,\n          list: false,\n          listStack: [],\n          quote: 0,\n          trailingSpace: 0,\n          trailingSpaceNewLine: false,\n          strikethrough: false,\n          emoji: false,\n          fencedEndRE: null\n        };\n      },\n      copyState: function copyState(s) {\n        return {\n          f: s.f,\n          prevLine: s.prevLine,\n          thisLine: s.thisLine,\n          block: s.block,\n          htmlState: s.htmlState && CodeMirror.copyState(htmlMode, s.htmlState),\n          indentation: s.indentation,\n          localMode: s.localMode,\n          localState: s.localMode ? CodeMirror.copyState(s.localMode, s.localState) : null,\n          inline: s.inline,\n          text: s.text,\n          formatting: false,\n          linkText: s.linkText,\n          linkTitle: s.linkTitle,\n          linkHref: s.linkHref,\n          code: s.code,\n          em: s.em,\n          strong: s.strong,\n          strikethrough: s.strikethrough,\n          emoji: s.emoji,\n          header: s.header,\n          setext: s.setext,\n          hr: s.hr,\n          taskList: s.taskList,\n          list: s.list,\n          listStack: s.listStack.slice(0),\n          quote: s.quote,\n          indentedCode: s.indentedCode,\n          trailingSpace: s.trailingSpace,\n          trailingSpaceNewLine: s.trailingSpaceNewLine,\n          md_inside: s.md_inside,\n          fencedEndRE: s.fencedEndRE\n        };\n      },\n      token: function token(stream, state) {\n        // Reset state.formatting\n        state.formatting = false;\n\n        if (stream != state.thisLine.stream) {\n          state.header = 0;\n          state.hr = false;\n\n          if (stream.match(/^\\s*$/, true)) {\n            blankLine(state);\n            return null;\n          }\n\n          state.prevLine = state.thisLine;\n          state.thisLine = {\n            stream: stream\n          }; // Reset state.taskList\n\n          state.taskList = false; // Reset state.trailingSpace\n\n          state.trailingSpace = 0;\n          state.trailingSpaceNewLine = false;\n\n          if (!state.localState) {\n            state.f = state.block;\n\n            if (state.f != htmlBlock) {\n              var indentation = stream.match(/^\\s*/, true)[0].replace(/\\t/g, expandedTab).length;\n              state.indentation = indentation;\n              state.indentationDiff = null;\n              if (indentation > 0) return null;\n            }\n          }\n        }\n\n        return state.f(stream, state);\n      },\n      innerMode: function innerMode(state) {\n        if (state.block == htmlBlock) return {\n          state: state.htmlState,\n          mode: htmlMode\n        };\n        if (state.localState) return {\n          state: state.localState,\n          mode: state.localMode\n        };\n        return {\n          state: state,\n          mode: mode\n        };\n      },\n      indent: function indent(state, textAfter, line) {\n        if (state.block == htmlBlock && htmlMode.indent) return htmlMode.indent(state.htmlState, textAfter, line);\n        if (state.localState && state.localMode.indent) return state.localMode.indent(state.localState, textAfter, line);\n        return CodeMirror.Pass;\n      },\n      blankLine: blankLine,\n      getType: getType,\n      blockCommentStart: \"<!--\",\n      blockCommentEnd: \"-->\",\n      closeBrackets: \"()[]{}''\\\"\\\"``\",\n      fold: \"markdown\"\n    };\n    return mode;\n  }, \"xml\");\n  CodeMirror.defineMIME(\"text/markdown\", \"markdown\");\n  CodeMirror.defineMIME(\"text/x-markdown\", \"markdown\");\n});","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);else // Plain browser env\n    mod(CodeMirror);\n})(function (CodeMirror) {\n  \"use strict\";\n\n  var htmlConfig = {\n    autoSelfClosers: {\n      'area': true,\n      'base': true,\n      'br': true,\n      'col': true,\n      'command': true,\n      'embed': true,\n      'frame': true,\n      'hr': true,\n      'img': true,\n      'input': true,\n      'keygen': true,\n      'link': true,\n      'meta': true,\n      'param': true,\n      'source': true,\n      'track': true,\n      'wbr': true,\n      'menuitem': true\n    },\n    implicitlyClosed: {\n      'dd': true,\n      'li': true,\n      'optgroup': true,\n      'option': true,\n      'p': true,\n      'rp': true,\n      'rt': true,\n      'tbody': true,\n      'td': true,\n      'tfoot': true,\n      'th': true,\n      'tr': true\n    },\n    contextGrabbers: {\n      'dd': {\n        'dd': true,\n        'dt': true\n      },\n      'dt': {\n        'dd': true,\n        'dt': true\n      },\n      'li': {\n        'li': true\n      },\n      'option': {\n        'option': true,\n        'optgroup': true\n      },\n      'optgroup': {\n        'optgroup': true\n      },\n      'p': {\n        'address': true,\n        'article': true,\n        'aside': true,\n        'blockquote': true,\n        'dir': true,\n        'div': true,\n        'dl': true,\n        'fieldset': true,\n        'footer': true,\n        'form': true,\n        'h1': true,\n        'h2': true,\n        'h3': true,\n        'h4': true,\n        'h5': true,\n        'h6': true,\n        'header': true,\n        'hgroup': true,\n        'hr': true,\n        'menu': true,\n        'nav': true,\n        'ol': true,\n        'p': true,\n        'pre': true,\n        'section': true,\n        'table': true,\n        'ul': true\n      },\n      'rp': {\n        'rp': true,\n        'rt': true\n      },\n      'rt': {\n        'rp': true,\n        'rt': true\n      },\n      'tbody': {\n        'tbody': true,\n        'tfoot': true\n      },\n      'td': {\n        'td': true,\n        'th': true\n      },\n      'tfoot': {\n        'tbody': true\n      },\n      'th': {\n        'td': true,\n        'th': true\n      },\n      'thead': {\n        'tbody': true,\n        'tfoot': true\n      },\n      'tr': {\n        'tr': true\n      }\n    },\n    doNotIndent: {\n      \"pre\": true\n    },\n    allowUnquoted: true,\n    allowMissing: true,\n    caseFold: true\n  };\n  var xmlConfig = {\n    autoSelfClosers: {},\n    implicitlyClosed: {},\n    contextGrabbers: {},\n    doNotIndent: {},\n    allowUnquoted: false,\n    allowMissing: false,\n    allowMissingTagName: false,\n    caseFold: false\n  };\n  CodeMirror.defineMode(\"xml\", function (editorConf, config_) {\n    var indentUnit = editorConf.indentUnit;\n    var config = {};\n    var defaults = config_.htmlMode ? htmlConfig : xmlConfig;\n\n    for (var prop in defaults) {\n      config[prop] = defaults[prop];\n    }\n\n    for (var prop in config_) {\n      config[prop] = config_[prop];\n    } // Return variables for tokenizers\n\n\n    var type, setStyle;\n\n    function inText(stream, state) {\n      function chain(parser) {\n        state.tokenize = parser;\n        return parser(stream, state);\n      }\n\n      var ch = stream.next();\n\n      if (ch == \"<\") {\n        if (stream.eat(\"!\")) {\n          if (stream.eat(\"[\")) {\n            if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));else return null;\n          } else if (stream.match(\"--\")) {\n            return chain(inBlock(\"comment\", \"-->\"));\n          } else if (stream.match(\"DOCTYPE\", true, true)) {\n            stream.eatWhile(/[\\w\\._\\-]/);\n            return chain(doctype(1));\n          } else {\n            return null;\n          }\n        } else if (stream.eat(\"?\")) {\n          stream.eatWhile(/[\\w\\._\\-]/);\n          state.tokenize = inBlock(\"meta\", \"?>\");\n          return \"meta\";\n        } else {\n          type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\n          state.tokenize = inTag;\n          return \"tag bracket\";\n        }\n      } else if (ch == \"&\") {\n        var ok;\n\n        if (stream.eat(\"#\")) {\n          if (stream.eat(\"x\")) {\n            ok = stream.eatWhile(/[a-fA-F\\d]/) && stream.eat(\";\");\n          } else {\n            ok = stream.eatWhile(/[\\d]/) && stream.eat(\";\");\n          }\n        } else {\n          ok = stream.eatWhile(/[\\w\\.\\-:]/) && stream.eat(\";\");\n        }\n\n        return ok ? \"atom\" : \"error\";\n      } else {\n        stream.eatWhile(/[^&<]/);\n        return null;\n      }\n    }\n\n    inText.isInText = true;\n\n    function inTag(stream, state) {\n      var ch = stream.next();\n\n      if (ch == \">\" || ch == \"/\" && stream.eat(\">\")) {\n        state.tokenize = inText;\n        type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n        return \"tag bracket\";\n      } else if (ch == \"=\") {\n        type = \"equals\";\n        return null;\n      } else if (ch == \"<\") {\n        state.tokenize = inText;\n        state.state = baseState;\n        state.tagName = state.tagStart = null;\n        var next = state.tokenize(stream, state);\n        return next ? next + \" tag error\" : \"tag error\";\n      } else if (/[\\'\\\"]/.test(ch)) {\n        state.tokenize = inAttribute(ch);\n        state.stringStartCol = stream.column();\n        return state.tokenize(stream, state);\n      } else {\n        stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/);\n        return \"word\";\n      }\n    }\n\n    function inAttribute(quote) {\n      var closure = function closure(stream, state) {\n        while (!stream.eol()) {\n          if (stream.next() == quote) {\n            state.tokenize = inTag;\n            break;\n          }\n        }\n\n        return \"string\";\n      };\n\n      closure.isInAttribute = true;\n      return closure;\n    }\n\n    function inBlock(style, terminator) {\n      return function (stream, state) {\n        while (!stream.eol()) {\n          if (stream.match(terminator)) {\n            state.tokenize = inText;\n            break;\n          }\n\n          stream.next();\n        }\n\n        return style;\n      };\n    }\n\n    function doctype(depth) {\n      return function (stream, state) {\n        var ch;\n\n        while ((ch = stream.next()) != null) {\n          if (ch == \"<\") {\n            state.tokenize = doctype(depth + 1);\n            return state.tokenize(stream, state);\n          } else if (ch == \">\") {\n            if (depth == 1) {\n              state.tokenize = inText;\n              break;\n            } else {\n              state.tokenize = doctype(depth - 1);\n              return state.tokenize(stream, state);\n            }\n          }\n        }\n\n        return \"meta\";\n      };\n    }\n\n    function Context(state, tagName, startOfLine) {\n      this.prev = state.context;\n      this.tagName = tagName;\n      this.indent = state.indented;\n      this.startOfLine = startOfLine;\n      if (config.doNotIndent.hasOwnProperty(tagName) || state.context && state.context.noIndent) this.noIndent = true;\n    }\n\n    function popContext(state) {\n      if (state.context) state.context = state.context.prev;\n    }\n\n    function maybePopContext(state, nextTagName) {\n      var parentTagName;\n\n      while (true) {\n        if (!state.context) {\n          return;\n        }\n\n        parentTagName = state.context.tagName;\n\n        if (!config.contextGrabbers.hasOwnProperty(parentTagName) || !config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)) {\n          return;\n        }\n\n        popContext(state);\n      }\n    }\n\n    function baseState(type, stream, state) {\n      if (type == \"openTag\") {\n        state.tagStart = stream.column();\n        return tagNameState;\n      } else if (type == \"closeTag\") {\n        return closeTagNameState;\n      } else {\n        return baseState;\n      }\n    }\n\n    function tagNameState(type, stream, state) {\n      if (type == \"word\") {\n        state.tagName = stream.current();\n        setStyle = \"tag\";\n        return attrState;\n      } else if (config.allowMissingTagName && type == \"endTag\") {\n        setStyle = \"tag bracket\";\n        return attrState(type, stream, state);\n      } else {\n        setStyle = \"error\";\n        return tagNameState;\n      }\n    }\n\n    function closeTagNameState(type, stream, state) {\n      if (type == \"word\") {\n        var tagName = stream.current();\n        if (state.context && state.context.tagName != tagName && config.implicitlyClosed.hasOwnProperty(state.context.tagName)) popContext(state);\n\n        if (state.context && state.context.tagName == tagName || config.matchClosing === false) {\n          setStyle = \"tag\";\n          return closeState;\n        } else {\n          setStyle = \"tag error\";\n          return closeStateErr;\n        }\n      } else if (config.allowMissingTagName && type == \"endTag\") {\n        setStyle = \"tag bracket\";\n        return closeState(type, stream, state);\n      } else {\n        setStyle = \"error\";\n        return closeStateErr;\n      }\n    }\n\n    function closeState(type, _stream, state) {\n      if (type != \"endTag\") {\n        setStyle = \"error\";\n        return closeState;\n      }\n\n      popContext(state);\n      return baseState;\n    }\n\n    function closeStateErr(type, stream, state) {\n      setStyle = \"error\";\n      return closeState(type, stream, state);\n    }\n\n    function attrState(type, _stream, state) {\n      if (type == \"word\") {\n        setStyle = \"attribute\";\n        return attrEqState;\n      } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n        var tagName = state.tagName,\n            tagStart = state.tagStart;\n        state.tagName = state.tagStart = null;\n\n        if (type == \"selfcloseTag\" || config.autoSelfClosers.hasOwnProperty(tagName)) {\n          maybePopContext(state, tagName);\n        } else {\n          maybePopContext(state, tagName);\n          state.context = new Context(state, tagName, tagStart == state.indented);\n        }\n\n        return baseState;\n      }\n\n      setStyle = \"error\";\n      return attrState;\n    }\n\n    function attrEqState(type, stream, state) {\n      if (type == \"equals\") return attrValueState;\n      if (!config.allowMissing) setStyle = \"error\";\n      return attrState(type, stream, state);\n    }\n\n    function attrValueState(type, stream, state) {\n      if (type == \"string\") return attrContinuedState;\n\n      if (type == \"word\" && config.allowUnquoted) {\n        setStyle = \"string\";\n        return attrState;\n      }\n\n      setStyle = \"error\";\n      return attrState(type, stream, state);\n    }\n\n    function attrContinuedState(type, stream, state) {\n      if (type == \"string\") return attrContinuedState;\n      return attrState(type, stream, state);\n    }\n\n    return {\n      startState: function startState(baseIndent) {\n        var state = {\n          tokenize: inText,\n          state: baseState,\n          indented: baseIndent || 0,\n          tagName: null,\n          tagStart: null,\n          context: null\n        };\n        if (baseIndent != null) state.baseIndent = baseIndent;\n        return state;\n      },\n      token: function token(stream, state) {\n        if (!state.tagName && stream.sol()) state.indented = stream.indentation();\n        if (stream.eatSpace()) return null;\n        type = null;\n        var style = state.tokenize(stream, state);\n\n        if ((style || type) && style != \"comment\") {\n          setStyle = null;\n          state.state = state.state(type || style, stream, state);\n          if (setStyle) style = setStyle == \"error\" ? style + \" error\" : setStyle;\n        }\n\n        return style;\n      },\n      indent: function indent(state, textAfter, fullLine) {\n        var context = state.context; // Indent multi-line strings (e.g. css).\n\n        if (state.tokenize.isInAttribute) {\n          if (state.tagStart == state.indented) return state.stringStartCol + 1;else return state.indented + indentUnit;\n        }\n\n        if (context && context.noIndent) return CodeMirror.Pass;\n        if (state.tokenize != inTag && state.tokenize != inText) return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0; // Indent the starts of attribute names.\n\n        if (state.tagName) {\n          if (config.multilineTagIndentPastTag !== false) return state.tagStart + state.tagName.length + 2;else return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n        }\n\n        if (config.alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\n        var tagAfter = textAfter && /^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);\n\n        if (tagAfter && tagAfter[1]) {\n          // Closing tag spotted\n          while (context) {\n            if (context.tagName == tagAfter[2]) {\n              context = context.prev;\n              break;\n            } else if (config.implicitlyClosed.hasOwnProperty(context.tagName)) {\n              context = context.prev;\n            } else {\n              break;\n            }\n          }\n        } else if (tagAfter) {\n          // Opening tag spotted\n          while (context) {\n            var grabbers = config.contextGrabbers[context.tagName];\n            if (grabbers && grabbers.hasOwnProperty(tagAfter[2])) context = context.prev;else break;\n          }\n        }\n\n        while (context && context.prev && !context.startOfLine) {\n          context = context.prev;\n        }\n\n        if (context) return context.indent + indentUnit;else return state.baseIndent || 0;\n      },\n      electricInput: /<\\/[\\s\\w:]+>$/,\n      blockCommentStart: \"<!--\",\n      blockCommentEnd: \"-->\",\n      configuration: config.htmlMode ? \"html\" : \"xml\",\n      helperType: config.htmlMode ? \"html\" : \"xml\",\n      skipAttribute: function skipAttribute(state) {\n        if (state.state == attrValueState) state.state = attrState;\n      },\n      xmlCurrentTag: function xmlCurrentTag(state) {\n        return state.tagName ? {\n          name: state.tagName,\n          close: state.type == \"closeTag\"\n        } : null;\n      },\n      xmlCurrentContext: function xmlCurrentContext(state) {\n        var context = [];\n\n        for (var cx = state.context; cx; cx = cx.prev) {\n          if (cx.tagName) context.push(cx.tagName);\n        }\n\n        return context.reverse();\n      }\n    };\n  });\n  CodeMirror.defineMIME(\"text/xml\", \"xml\");\n  CodeMirror.defineMIME(\"application/xml\", \"xml\");\n  if (!CodeMirror.mimeModes.hasOwnProperty(\"text/html\")) CodeMirror.defineMIME(\"text/html\", {\n    name: \"xml\",\n    htmlMode: true\n  });\n});","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n// Utility function that allows modes to be combined. The mode given\n// as the base argument takes care of most of the normal mode\n// functionality, but a second (typically simple) mode is used, which\n// can override the style of text. Both modes get to parse all of the\n// text, but when both assign a non-null style to a piece of code, the\n// overlay wins, unless the combine argument was true and not overridden,\n// or state.overlay.combineTokens was true, in which case the styles are\n// combined.\n(function (mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);else // Plain browser env\n    mod(CodeMirror);\n})(function (CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.overlayMode = function (base, overlay, combine) {\n    return {\n      startState: function startState() {\n        return {\n          base: CodeMirror.startState(base),\n          overlay: CodeMirror.startState(overlay),\n          basePos: 0,\n          baseCur: null,\n          overlayPos: 0,\n          overlayCur: null,\n          streamSeen: null\n        };\n      },\n      copyState: function copyState(state) {\n        return {\n          base: CodeMirror.copyState(base, state.base),\n          overlay: CodeMirror.copyState(overlay, state.overlay),\n          basePos: state.basePos,\n          baseCur: null,\n          overlayPos: state.overlayPos,\n          overlayCur: null\n        };\n      },\n      token: function token(stream, state) {\n        if (stream != state.streamSeen || Math.min(state.basePos, state.overlayPos) < stream.start) {\n          state.streamSeen = stream;\n          state.basePos = state.overlayPos = stream.start;\n        }\n\n        if (stream.start == state.basePos) {\n          state.baseCur = base.token(stream, state.base);\n          state.basePos = stream.pos;\n        }\n\n        if (stream.start == state.overlayPos) {\n          stream.pos = stream.start;\n          state.overlayCur = overlay.token(stream, state.overlay);\n          state.overlayPos = stream.pos;\n        }\n\n        stream.pos = Math.min(state.basePos, state.overlayPos); // state.overlay.combineTokens always takes precedence over combine,\n        // unless set to null\n\n        if (state.overlayCur == null) return state.baseCur;else if (state.baseCur != null && state.overlay.combineTokens || combine && state.overlay.combineTokens == null) return state.baseCur + \" \" + state.overlayCur;else return state.overlayCur;\n      },\n      indent: base.indent && function (state, textAfter, line) {\n        return base.indent(state.base, textAfter, line);\n      },\n      electricChars: base.electricChars,\n      innerMode: function innerMode(state) {\n        return {\n          state: state.base,\n          mode: base\n        };\n      },\n      blankLine: function blankLine(state) {\n        var baseToken, overlayToken;\n        if (base.blankLine) baseToken = base.blankLine(state.base);\n        if (overlay.blankLine) overlayToken = overlay.blankLine(state.overlay);\n        return overlayToken == null ? baseToken : combine && baseToken != null ? baseToken + \" \" + overlayToken : overlayToken;\n      }\n    };\n  };\n});","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar getGlobal = function getGlobal() {\n  return typeof window !== 'undefined' ? window : global;\n};\n\nvar getTinymce = function getTinymce() {\n  var global = getGlobal();\n  return global && global.tinymce ? global.tinymce : null;\n};\n\nexport { getTinymce };","/*\nReact-Quill v1.0.0\nhttps://github.com/zenoamaro/react-quill\n*/\nvar Quill = require('quill');\n\nvar Component = require('./component');\n\nmodule.exports = Component;\nmodule.exports.default = Component;\nmodule.exports.Quill = Quill;\nmodule.exports.Mixin = require('./mixin');\nmodule.exports.Toolbar = require('./toolbar');","'use strict';\n\nexports.byteLength = byteLength;\nexports.toByteArray = toByteArray;\nexports.fromByteArray = fromByteArray;\nvar lookup = [];\nvar revLookup = [];\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array;\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i];\n  revLookup[code.charCodeAt(i)] = i;\n} // Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\n\n\nrevLookup['-'.charCodeAt(0)] = 62;\nrevLookup['_'.charCodeAt(0)] = 63;\n\nfunction getLens(b64) {\n  var len = b64.length;\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4');\n  } // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n\n\n  var validLen = b64.indexOf('=');\n  if (validLen === -1) validLen = len;\n  var placeHoldersLen = validLen === len ? 0 : 4 - validLen % 4;\n  return [validLen, placeHoldersLen];\n} // base64 is 4/3 + up to two characters of the original data\n\n\nfunction byteLength(b64) {\n  var lens = getLens(b64);\n  var validLen = lens[0];\n  var placeHoldersLen = lens[1];\n  return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n}\n\nfunction _byteLength(b64, validLen, placeHoldersLen) {\n  return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n}\n\nfunction toByteArray(b64) {\n  var tmp;\n  var lens = getLens(b64);\n  var validLen = lens[0];\n  var placeHoldersLen = lens[1];\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen));\n  var curByte = 0; // if there are placeholders, only get up to the last complete 4 chars\n\n  var len = placeHoldersLen > 0 ? validLen - 4 : validLen;\n  var i;\n\n  for (i = 0; i < len; i += 4) {\n    tmp = revLookup[b64.charCodeAt(i)] << 18 | revLookup[b64.charCodeAt(i + 1)] << 12 | revLookup[b64.charCodeAt(i + 2)] << 6 | revLookup[b64.charCodeAt(i + 3)];\n    arr[curByte++] = tmp >> 16 & 0xFF;\n    arr[curByte++] = tmp >> 8 & 0xFF;\n    arr[curByte++] = tmp & 0xFF;\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp = revLookup[b64.charCodeAt(i)] << 2 | revLookup[b64.charCodeAt(i + 1)] >> 4;\n    arr[curByte++] = tmp & 0xFF;\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp = revLookup[b64.charCodeAt(i)] << 10 | revLookup[b64.charCodeAt(i + 1)] << 4 | revLookup[b64.charCodeAt(i + 2)] >> 2;\n    arr[curByte++] = tmp >> 8 & 0xFF;\n    arr[curByte++] = tmp & 0xFF;\n  }\n\n  return arr;\n}\n\nfunction tripletToBase64(num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F];\n}\n\nfunction encodeChunk(uint8, start, end) {\n  var tmp;\n  var output = [];\n\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16 & 0xFF0000) + (uint8[i + 1] << 8 & 0xFF00) + (uint8[i + 2] & 0xFF);\n    output.push(tripletToBase64(tmp));\n  }\n\n  return output.join('');\n}\n\nfunction fromByteArray(uint8) {\n  var tmp;\n  var len = uint8.length;\n  var extraBytes = len % 3; // if we have 1 byte left, pad 2 bytes\n\n  var parts = [];\n  var maxChunkLength = 16383; // must be multiple of 3\n  // go through the array every three bytes, we'll deal with trailing stuff later\n\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, i + maxChunkLength > len2 ? len2 : i + maxChunkLength));\n  } // pad the end with zeros, but make sure to not forget the extra bytes\n\n\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1];\n    parts.push(lookup[tmp >> 2] + lookup[tmp << 4 & 0x3F] + '==');\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1];\n    parts.push(lookup[tmp >> 10] + lookup[tmp >> 4 & 0x3F] + lookup[tmp << 2 & 0x3F] + '=');\n  }\n\n  return parts.join('');\n}","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m;\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = -7;\n  var i = isLE ? nBytes - 1 : 0;\n  var d = isLE ? -1 : 1;\n  var s = buffer[offset + i];\n  i += d;\n  e = s & (1 << -nBits) - 1;\n  s >>= -nBits;\n  nBits += eLen;\n\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : (s ? -1 : 1) * Infinity;\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n};\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c;\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0;\n  var i = isLE ? 0 : nBytes - 1;\n  var d = isLE ? 1 : -1;\n  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n  value = Math.abs(value);\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = e << mLen | m;\n  eLen += mLen;\n\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128;\n};","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};","'use strict';\n\nvar React = require('react');\n\nvar ReactDOM = require('react-dom');\n\nvar createClass = require('create-react-class');\n\nvar QuillMixin = require('./mixin');\n\nvar find = require('lodash/find');\n\nvar some = require('lodash/some');\n\nvar isEqual = require('lodash/isEqual');\n\nvar T = require('prop-types');\n\nvar DOM = require('react-dom-factories');\n\nvar QuillComponent = createClass({\n  displayName: 'Quill',\n  mixins: [QuillMixin],\n  propTypes: {\n    id: T.string,\n    className: T.string,\n    theme: T.string,\n    style: T.object,\n    readOnly: T.bool,\n    value: T.oneOfType([T.string, T.shape({\n      ops: T.array\n    })]),\n    defaultValue: T.oneOfType([T.string, T.shape({\n      ops: T.array\n    })]),\n    placeholder: T.string,\n    tabIndex: T.number,\n    bounds: T.oneOfType([T.string, T.element]),\n    onChange: T.func,\n    onChangeSelection: T.func,\n    onFocus: T.func,\n    onBlur: T.func,\n    onKeyPress: T.func,\n    onKeyDown: T.func,\n    onKeyUp: T.func,\n    preserveWhitespace: T.bool,\n    modules: function modules(props) {\n      var isNotObject = T.object.apply(this, arguments);\n      if (isNotObject) return isNotObject;\n      if (props.modules && props.modules.toolbar && props.modules.toolbar[0] && props.modules.toolbar[0].type) return new Error('Since v1.0.0, React Quill will not create a custom toolbar for you ' + 'anymore. Create a toolbar explictly, or let Quill create one. ' + 'See: https://github.com/zenoamaro/react-quill#upgrading-to-react-quill-v100');\n    },\n    toolbar: function toolbar(props) {\n      if ('toolbar' in props) return new Error('The `toolbar` prop has been deprecated. Use `modules.toolbar` instead. ' + 'See: https://github.com/zenoamaro/react-quill#upgrading-to-react-quill-v100');\n    },\n    formats: function formats(props) {\n      var isNotArrayOfString = T.arrayOf(T.string).apply(this, arguments);\n      if (isNotArrayOfString) return new Error('You cannot specify custom `formats` anymore. Use Parchment instead.  ' + 'See: https://github.com/zenoamaro/react-quill#upgrading-to-react-quill-v100.');\n    },\n    styles: function styles(props) {\n      if ('styles' in props) return new Error('The `styles` prop has been deprecated. Use custom stylesheets instead. ' + 'See: https://github.com/zenoamaro/react-quill#upgrading-to-react-quill-v100.');\n    },\n    pollInterval: function pollInterval(props) {\n      if ('pollInterval' in props) return new Error('The `pollInterval` property does not have any effect anymore. ' + 'You can safely remove it from your props.' + 'See: https://github.com/zenoamaro/react-quill#upgrading-to-react-quill-v100.');\n    },\n    children: function children(props) {\n      // Validate that the editor has only one child element and it is not a <textarea>\n      var isNotASingleElement = T.element.apply(this, arguments);\n      if (isNotASingleElement) return new Error('The Quill editing area can only be composed of a single React element.');\n\n      if (React.Children.count(props.children)) {\n        var child = React.Children.only(props.children);\n        if (child.type === 'textarea') return new Error('Quill does not support editing on a <textarea>. Use a <div> instead.');\n      }\n    }\n  },\n\n  /*\n  Changing one of these props should cause a full re-render.\n  */\n  dirtyProps: ['modules', 'formats', 'bounds', 'theme', 'children'],\n\n  /*\n  Changing one of these props should cause a regular update.\n  */\n  cleanProps: ['id', 'className', 'style', 'placeholder', 'tabIndex', 'onChange', 'onChangeSelection', 'onFocus', 'onBlur', 'onKeyPress', 'onKeyDown', 'onKeyUp'],\n  getDefaultProps: function getDefaultProps() {\n    return {\n      theme: 'snow',\n      modules: {}\n    };\n  },\n\n  /*\n  We consider the component to be controlled if `value` is being sent in props.\n  */\n  isControlled: function isControlled() {\n    return 'value' in this.props;\n  },\n  getInitialState: function getInitialState() {\n    return {\n      generation: 0,\n      value: this.isControlled() ? this.props.value : this.props.defaultValue\n    };\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps, nextState) {\n    var editor = this.editor; // If the component is unmounted and mounted too quickly\n    // an error is thrown in setEditorContents since editor is\n    // still undefined. Must check if editor is undefined\n    // before performing this call.\n\n    if (!editor) return; // Update only if we've been passed a new `value`.\n    // This leaves components using `defaultValue` alone.\n\n    if ('value' in nextProps) {\n      var currentContents = this.getEditorContents();\n      var nextContents = nextProps.value;\n      if (nextContents === this.lastDeltaChangeSet) throw new Error('You are passing the `delta` object from the `onChange` event back ' + 'as `value`. You most probably want `editor.getContents()` instead. ' + 'See: https://github.com/zenoamaro/react-quill#using-deltas'); // NOTE: Seeing that Quill is missing a way to prevent\n      //       edits, we have to settle for a hybrid between\n      //       controlled and uncontrolled mode. We can't prevent\n      //       the change, but we'll still override content\n      //       whenever `value` differs from current state.\n      // NOTE: Comparing an HTML string and a Quill Delta will always trigger \n      //       a change, regardless of whether they represent the same document.\n\n      if (!this.isEqualValue(nextContents, currentContents)) {\n        this.setEditorContents(editor, nextContents);\n      }\n    } // We can update readOnly state in-place.\n\n\n    if ('readOnly' in nextProps) {\n      if (nextProps.readOnly !== this.props.readOnly) {\n        this.setEditorReadOnly(editor, nextProps.readOnly);\n      }\n    } // If we need to regenerate the component, we can avoid a detailed\n    // in-place update step, and just let everything rerender.\n\n\n    if (this.shouldComponentRegenerate(nextProps, nextState)) {\n      return this.regenerate();\n    }\n  },\n  componentDidMount: function componentDidMount() {\n    this.editor = this.createEditor(this.getEditingArea(), this.getEditorConfig()); // Restore editor from Quill's native formats in regeneration scenario\n\n    if (this.quillDelta) {\n      this.editor.setContents(this.quillDelta);\n      this.editor.setSelection(this.quillSelection);\n      this.editor.focus();\n      this.quillDelta = this.quillSelection = null;\n      return;\n    }\n\n    if (this.state.value) {\n      this.setEditorContents(this.editor, this.state.value);\n      return;\n    }\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    var editor;\n\n    if (editor = this.getEditor()) {\n      this.unhookEditor(editor);\n      this.editor = null;\n    }\n  },\n  shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {\n    var self = this; // If the component has been regenerated, we already know we should update.\n\n    if (this.state.generation !== nextState.generation) {\n      return true;\n    } // Compare props that require React updating the DOM.\n\n\n    return some(this.cleanProps, function (prop) {\n      // Note that `isEqual` compares deeply, making it safe to perform\n      // non-immutable updates, at the cost of performance.\n      return !isEqual(nextProps[prop], self.props[prop]);\n    });\n  },\n  shouldComponentRegenerate: function shouldComponentRegenerate(nextProps, nextState) {\n    var self = this; // Whenever a `dirtyProp` changes, the editor needs reinstantiation.\n\n    return some(this.dirtyProps, function (prop) {\n      // Note that `isEqual` compares deeply, making it safe to perform\n      // non-immutable updates, at the cost of performance.\n      return !isEqual(nextProps[prop], self.props[prop]);\n    });\n  },\n\n  /*\n  If we could not update settings from the new props in-place, we have to tear\n  down everything and re-render from scratch.\n  */\n  componentWillUpdate: function componentWillUpdate(nextProps, nextState) {\n    if (this.state.generation !== nextState.generation) {\n      this.componentWillUnmount();\n    }\n  },\n  componentDidUpdate: function componentDidUpdate(prevProps, prevState) {\n    if (this.state.generation !== prevState.generation) {\n      this.componentDidMount();\n    }\n  },\n  getEditorConfig: function getEditorConfig() {\n    return {\n      bounds: this.props.bounds,\n      formats: this.props.formats,\n      modules: this.props.modules,\n      placeholder: this.props.placeholder,\n      readOnly: this.props.readOnly,\n      scrollingContainer: this.props.scrollingContainer,\n      tabIndex: this.props.tabIndex,\n      theme: this.props.theme\n    };\n  },\n  getEditor: function getEditor() {\n    return this.editor;\n  },\n  getEditingArea: function getEditingArea() {\n    return ReactDOM.findDOMNode(this.editingArea);\n  },\n  getEditorContents: function getEditorContents() {\n    return this.state.value;\n  },\n  getEditorSelection: function getEditorSelection() {\n    return this.state.selection;\n  },\n\n  /*\n  True if the value is a Delta instance or a Delta look-alike.\n  */\n  isDelta: function isDelta(value) {\n    return value && value.ops;\n  },\n\n  /*\n  Special comparison function that knows how to compare Deltas.\n  */\n  isEqualValue: function isEqualValue(value, nextValue) {\n    if (this.isDelta(value) && this.isDelta(nextValue)) {\n      return isEqual(value.ops, nextValue.ops);\n    } else {\n      return isEqual(value, nextValue);\n    }\n  },\n\n  /*\n  Regenerating the editor will cause the whole tree, including the container,\n  to be cleaned up and re-rendered from scratch.\n  */\n  regenerate: function regenerate() {\n    // Cache selection and contents in Quill's native format to be restored later\n    this.quillDelta = this.editor.getContents();\n    this.quillSelection = this.editor.getSelection();\n    this.setState({\n      generation: this.state.generation + 1\n    });\n  },\n\n  /*\n  Renders an editor area, unless it has been provided one to clone.\n  */\n  renderEditingArea: function renderEditingArea() {\n    var self = this;\n    var children = this.props.children;\n    var preserveWhitespace = this.props.preserveWhitespace;\n    var properties = {\n      key: this.state.generation,\n      tabIndex: this.props.tabIndex,\n      ref: function ref(element) {\n        self.editingArea = element;\n      }\n    };\n    var customElement = React.Children.count(children) ? React.Children.only(children) : null;\n    var defaultElement = preserveWhitespace ? DOM.pre : DOM.div;\n    var editingArea = customElement ? React.cloneElement(customElement, properties) : defaultElement(properties);\n    return editingArea;\n  },\n  render: function render() {\n    return DOM.div({\n      id: this.props.id,\n      style: this.props.style,\n      key: this.state.generation,\n      className: ['quill'].concat(this.props.className).join(' '),\n      onKeyPress: this.props.onKeyPress,\n      onKeyDown: this.props.onKeyDown,\n      onKeyUp: this.props.onKeyUp\n    }, this.renderEditingArea());\n  },\n  onEditorChangeText: function onEditorChangeText(value, delta, source, editor) {\n    var currentContents = this.getEditorContents(); // We keep storing the same type of value as what the user gives us,\n    // so that value comparisons will be more stable and predictable.\n\n    var nextContents = this.isDelta(currentContents) ? editor.getContents() : editor.getHTML();\n\n    if (!this.isEqualValue(nextContents, currentContents)) {\n      // Taint this `delta` object, so we can recognize whether the user\n      // is trying to send it back as `value`, preventing a likely loop.\n      this.lastDeltaChangeSet = delta;\n      this.setState({\n        value: nextContents\n      });\n\n      if (this.props.onChange) {\n        this.props.onChange(value, delta, source, editor);\n      }\n    }\n  },\n  onEditorChangeSelection: function onEditorChangeSelection(nextSelection, source, editor) {\n    var currentSelection = this.getEditorSelection();\n    var hasGainedFocus = !currentSelection && nextSelection;\n    var hasLostFocus = currentSelection && !nextSelection;\n\n    if (isEqual(nextSelection, currentSelection)) {\n      return;\n    }\n\n    this.setState({\n      selection: nextSelection\n    });\n\n    if (this.props.onChangeSelection) {\n      this.props.onChangeSelection(nextSelection, source, editor);\n    }\n\n    if (hasGainedFocus && this.props.onFocus) {\n      this.props.onFocus(nextSelection, source, editor);\n    } else if (hasLostFocus && this.props.onBlur) {\n      this.props.onBlur(currentSelection, source, editor);\n    }\n  },\n  focus: function focus() {\n    this.editor.focus();\n  },\n  blur: function blur() {\n    this.setEditorSelection(this.editor, null);\n  }\n});\nmodule.exports = QuillComponent;","var baseIteratee = require('./_baseIteratee'),\n    isArrayLike = require('./isArrayLike'),\n    keys = require('./keys');\n/**\n * Creates a `_.find` or `_.findLast` function.\n *\n * @private\n * @param {Function} findIndexFunc The function to find the collection index.\n * @returns {Function} Returns the new find function.\n */\n\n\nfunction createFind(findIndexFunc) {\n  return function (collection, predicate, fromIndex) {\n    var iterable = Object(collection);\n\n    if (!isArrayLike(collection)) {\n      var iteratee = baseIteratee(predicate, 3);\n      collection = keys(collection);\n\n      predicate = function predicate(key) {\n        return iteratee(iterable[key], key, iterable);\n      };\n    }\n\n    var index = findIndexFunc(collection, predicate, fromIndex);\n    return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n  };\n}\n\nmodule.exports = createFind;","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\n\nvar nativeMax = Math.max;\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\n\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n\n  if (!length) {\n    return -1;\n  }\n\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\nmodule.exports = findIndex;","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while (fromRight ? index-- : ++index < length) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n\n  return -1;\n}\n\nmodule.exports = baseFindIndex;","var toFinite = require('./toFinite');\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\n\n\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n  return result === result ? remainder ? result - remainder : result : 0;\n}\n\nmodule.exports = toInteger;","var toNumber = require('./toNumber');\n/** Used as references for various `Number` constants. */\n\n\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\n\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n\n  value = toNumber(value);\n\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = value < 0 ? -1 : 1;\n    return sign * MAX_INTEGER;\n  }\n\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;","/*\nQuillToolbar is deprecated. Consider switching to the official Quill\ntoolbar format, or providing your own toolbar instead. \nSee https://quilljs.com/docs/modules/toolbar\n*/\n'use strict';\n\nvar React = require('react');\n\nvar ReactDOMServer = require('react-dom/server');\n\nvar createClass = require('create-react-class');\n\nvar find = require('lodash/find');\n\nvar isEqual = require('lodash/isEqual');\n\nvar T = require('prop-types');\n\nvar DOM = require('react-dom-factories');\n\nvar defaultColors = ['rgb(  0,   0,   0)', 'rgb(230,   0,   0)', 'rgb(255, 153,   0)', 'rgb(255, 255,   0)', 'rgb(  0, 138,   0)', 'rgb(  0, 102, 204)', 'rgb(153,  51, 255)', 'rgb(255, 255, 255)', 'rgb(250, 204, 204)', 'rgb(255, 235, 204)', 'rgb(255, 255, 204)', 'rgb(204, 232, 204)', 'rgb(204, 224, 245)', 'rgb(235, 214, 255)', 'rgb(187, 187, 187)', 'rgb(240, 102, 102)', 'rgb(255, 194, 102)', 'rgb(255, 255, 102)', 'rgb(102, 185, 102)', 'rgb(102, 163, 224)', 'rgb(194, 133, 255)', 'rgb(136, 136, 136)', 'rgb(161,   0,   0)', 'rgb(178, 107,   0)', 'rgb(178, 178,   0)', 'rgb(  0,  97,   0)', 'rgb(  0,  71, 178)', 'rgb(107,  36, 178)', 'rgb( 68,  68,  68)', 'rgb( 92,   0,   0)', 'rgb(102,  61,   0)', 'rgb(102, 102,   0)', 'rgb(  0,  55,   0)', 'rgb(  0,  41, 102)', 'rgb( 61,  20,  10)'].map(function (color) {\n  return {\n    value: color\n  };\n});\nvar defaultItems = [{\n  label: 'Formats',\n  type: 'group',\n  items: [{\n    label: 'Font',\n    type: 'font',\n    items: [{\n      label: 'Sans Serif',\n      value: 'sans-serif',\n      selected: true\n    }, {\n      label: 'Serif',\n      value: 'serif'\n    }, {\n      label: 'Monospace',\n      value: 'monospace'\n    }]\n  }, {\n    label: 'Size',\n    type: 'size',\n    items: [{\n      label: 'Small',\n      value: '10px'\n    }, {\n      label: 'Normal',\n      value: '13px',\n      selected: true\n    }, {\n      label: 'Large',\n      value: '18px'\n    }, {\n      label: 'Huge',\n      value: '32px'\n    }]\n  }, {\n    label: 'Alignment',\n    type: 'align',\n    items: [{\n      label: '',\n      value: '',\n      selected: true\n    }, {\n      label: '',\n      value: 'center'\n    }, {\n      label: '',\n      value: 'right'\n    }, {\n      label: '',\n      value: 'justify'\n    }]\n  }]\n}, {\n  label: 'Text',\n  type: 'group',\n  items: [{\n    type: 'bold',\n    label: 'Bold'\n  }, {\n    type: 'italic',\n    label: 'Italic'\n  }, {\n    type: 'strike',\n    label: 'Strike'\n  }, {\n    type: 'underline',\n    label: 'Underline'\n  }, {\n    type: 'color',\n    label: 'Color',\n    items: defaultColors\n  }, {\n    type: 'background',\n    label: 'Background color',\n    items: defaultColors\n  }, {\n    type: 'link',\n    label: 'Link'\n  }]\n}, {\n  label: 'Blocks',\n  type: 'group',\n  items: [{\n    type: 'list',\n    value: 'bullet'\n  }, {\n    type: 'list',\n    value: 'ordered'\n  }]\n}, {\n  label: 'Blocks',\n  type: 'group',\n  items: [{\n    type: 'image',\n    label: 'Image'\n  }]\n}];\nvar QuillToolbar = createClass({\n  displayName: 'Quill Toolbar',\n  propTypes: {\n    id: T.string,\n    className: T.string,\n    style: T.object,\n    items: T.array\n  },\n  getDefaultProps: function getDefaultProps() {\n    return {\n      items: defaultItems\n    };\n  },\n  componentDidMount: function componentDidMount() {\n    console.warn('QuillToolbar is deprecated. Consider switching to the official Quill ' + 'toolbar format, or providing your own toolbar instead. ' + 'See: https://github.com/zenoamaro/react-quill#upgrading-to-react-quill-v1-0-0');\n  },\n  shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {\n    return !isEqual(nextProps, this.props);\n  },\n  renderGroup: function renderGroup(item, key) {\n    return DOM.span({\n      key: item.label || key,\n      className: 'ql-formats'\n    }, item.items.map(this.renderItem));\n  },\n  renderChoiceItem: function renderChoiceItem(item, key) {\n    return DOM.option({\n      key: item.label || item.value || key,\n      value: item.value\n    }, item.label);\n  },\n  renderChoices: function renderChoices(item, key) {\n    var choiceItems = item.items.map(this.renderChoiceItem);\n    var selectedItem = find(item.items, function (item) {\n      return item.selected;\n    });\n    var attrs = {\n      key: item.label || key,\n      title: item.label,\n      className: 'ql-' + item.type,\n      value: selectedItem.value\n    };\n    return DOM.select(attrs, choiceItems);\n  },\n  renderButton: function renderButton(item, key) {\n    return DOM.button({\n      type: 'button',\n      key: item.label || item.value || key,\n      value: item.value,\n      className: 'ql-' + item.type,\n      title: item.label\n    }, item.children);\n  },\n  renderAction: function renderAction(item, key) {\n    return DOM.button({\n      key: item.label || item.value || key,\n      className: 'ql-' + item.type,\n      title: item.label\n    }, item.children);\n  },\n\n  /* jshint maxcomplexity: false */\n  renderItem: function renderItem(item, key) {\n    switch (item.type) {\n      case 'group':\n        return this.renderGroup(item, key);\n\n      case 'font':\n      case 'header':\n      case 'align':\n      case 'size':\n      case 'color':\n      case 'background':\n        return this.renderChoices(item, key);\n\n      case 'bold':\n      case 'italic':\n      case 'underline':\n      case 'strike':\n      case 'link':\n      case 'list':\n      case 'bullet':\n      case 'ordered':\n      case 'indent':\n      case 'image':\n      case 'video':\n        return this.renderButton(item, key);\n\n      default:\n        return this.renderAction(item, key);\n    }\n  },\n  getClassName: function getClassName() {\n    return 'quill-toolbar ' + (this.props.className || '');\n  },\n  render: function render() {\n    var children = this.props.items.map(this.renderItem);\n    var html = children.map(ReactDOMServer.renderToStaticMarkup).join('');\n    return DOM.div({\n      id: this.props.id,\n      className: this.getClassName(),\n      style: this.props.style,\n      dangerouslySetInnerHTML: {\n        __html: html\n      }\n    });\n  }\n});\nmodule.exports = QuillToolbar;\nQuillToolbar.defaultItems = defaultItems;\nQuillToolbar.defaultColors = defaultColors;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar noop = function noop() {};\n\nvar _id = 0;\n\nvar generateId = function generateId() {\n  return \"simplemde-editor-\".concat(++_id);\n};\n\nvar SimpleMDEEditor =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(SimpleMDEEditor, _React$PureComponent);\n\n  function SimpleMDEEditor(props) {\n    var _this;\n\n    _classCallCheck(this, SimpleMDEEditor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SimpleMDEEditor).call(this, props));\n    _this.keyChange = false;\n    _this.state = {\n      value: _this.props.value || \"\"\n    };\n    _this.id = _this.props.id ? _this.props.id : generateId();\n    _this.simpleMde = null;\n    _this.editorEl = null;\n    _this.editorToolbarEl = null;\n\n    _this.createEditor = function () {\n      var SimpleMDE = require(\"easymde\");\n\n      var initialOptions = {\n        element: document.getElementById(_this.id),\n        initialValue: _this.props.value\n      };\n      var allOptions = Object.assign({}, initialOptions, _this.props.options);\n      _this.simpleMde = new SimpleMDE(allOptions);\n    };\n\n    _this.eventWrapper = function () {\n      _this.keyChange = true;\n\n      _this.setState({\n        value: _this.simpleMde.value()\n      });\n\n      _this.props.onChange(_this.simpleMde.value());\n    };\n\n    _this.removeEvents = function () {\n      if (_this.editorEl && _this.editorToolbarEl) {\n        _this.editorEl.removeEventListener(\"keyup\", _this.eventWrapper);\n\n        _this.editorEl.removeEventListener(\"paste\", _this.eventWrapper);\n\n        _this.editorToolbarEl.removeEventListener(\"click\", _this.eventWrapper);\n      }\n    };\n\n    _this.addEvents = function () {\n      if (_this.elementWrapperRef && _this.simpleMde) {\n        _this.editorEl = _this.elementWrapperRef;\n        _this.editorToolbarEl = _this.elementWrapperRef.getElementsByClassName(\"editor-toolbar\")[0];\n\n        _this.editorEl.addEventListener(\"keyup\", _this.eventWrapper);\n\n        _this.editorEl.addEventListener(\"paste\", _this.eventWrapper);\n\n        _this.editorToolbarEl && _this.editorToolbarEl.addEventListener(\"click\", _this.eventWrapper);\n\n        _this.simpleMde.codemirror.on(\"cursorActivity\", _this.getCursor);\n\n        var _events = _this.props.events; // Handle custom events\n\n        _events && Object.entries(_events).forEach(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n              eventName = _ref2[0],\n              callback = _ref2[1];\n\n          if (eventName && callback) {\n            _this.simpleMde && _this.simpleMde.codemirror.on(eventName, callback);\n          }\n        });\n      }\n    };\n\n    _this.getCursor = function () {\n      // https://codemirror.net/doc/manual.html#api_selection\n      if (_this.props.getLineAndCursor) {\n        _this.props.getLineAndCursor(_this.simpleMde.codemirror.getDoc().getCursor());\n      }\n    };\n\n    _this.getMdeInstance = function () {\n      if (_this.props.getMdeInstance) {\n        _this.props.getMdeInstance(_this.simpleMde);\n      }\n    };\n\n    _this.addExtraKeys = function () {\n      // https://codemirror.net/doc/manual.html#option_extraKeys\n      if (_this.props.extraKeys) {\n        _this.simpleMde.codemirror.setOption(\"extraKeys\", _this.props.extraKeys);\n      }\n    };\n\n    _this.elementWrapperRef = null;\n\n    _this.setElementWrapperRef = function (element) {\n      _this.elementWrapperRef = element;\n    };\n\n    return _this;\n  }\n\n  _createClass(SimpleMDEEditor, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (typeof window !== undefined) {\n        this.createEditor();\n        this.addEvents();\n        this.addExtraKeys();\n        this.getCursor();\n        this.getMdeInstance();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (!this.keyChange && this.props.value !== this.state.value && // This is somehow fixes moving cursor for controlled case\n      this.props.value !== prevProps.value // This one fixes no value change for uncontrolled input. If it's uncontrolled prevProps will be the same\n      ) {\n          this.simpleMde.value(this.props.value || \"\");\n        }\n\n      this.keyChange = false;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.editorEl !== null && this.editorEl !== undefined) {\n        this.removeEvents();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          events = _this$props.events,\n          value = _this$props.value,\n          options = _this$props.options,\n          children = _this$props.children,\n          extraKeys = _this$props.extraKeys,\n          getLineAndCursor = _this$props.getLineAndCursor,\n          getMdeInstance = _this$props.getMdeInstance,\n          label = _this$props.label,\n          onChange = _this$props.onChange,\n          id = _this$props.id,\n          rest = _objectWithoutProperties(_this$props, [\"events\", \"value\", \"options\", \"children\", \"extraKeys\", \"getLineAndCursor\", \"getMdeInstance\", \"label\", \"onChange\", \"id\"]);\n\n      return React.createElement(\"div\", Object.assign({\n        id: \"\".concat(this.id, \"-wrapper\")\n      }, rest, {\n        ref: this.setElementWrapperRef\n      }), label && React.createElement(\"label\", {\n        htmlFor: this.id\n      }, \" \", label, \" \"), React.createElement(\"textarea\", {\n        id: this.id\n      }));\n    }\n  }]);\n\n  return SimpleMDEEditor;\n}(React.PureComponent);\n\nexports.default = SimpleMDEEditor;\nSimpleMDEEditor.defaultProps = {\n  events: {},\n  onChange: noop,\n  options: {}\n};","'use strict';\n\nvar CodeMirror = require('codemirror');\n\nrequire('codemirror/addon/edit/continuelist.js');\n\nrequire('./codemirror/tablist');\n\nrequire('codemirror/addon/display/fullscreen.js');\n\nrequire('codemirror/mode/markdown/markdown.js');\n\nrequire('codemirror/addon/mode/overlay.js');\n\nrequire('codemirror/addon/display/placeholder.js');\n\nrequire('codemirror/addon/selection/mark-selection.js');\n\nrequire('codemirror/addon/search/searchcursor.js');\n\nrequire('codemirror/mode/gfm/gfm.js');\n\nrequire('codemirror/mode/xml/xml.js');\n\nvar CodeMirrorSpellChecker = require('codemirror-spell-checker');\n\nvar marked = require('marked'); // Some variables\n\n\nvar isMac = /Mac/.test(navigator.platform);\nvar anchorToExternalRegex = new RegExp(/(<a.*?https?:\\/\\/.*?[^a]>)+?/g); // Mapping of actions that can be bound to keyboard shortcuts or toolbar buttons\n\nvar bindings = {\n  'toggleBold': toggleBold,\n  'toggleItalic': toggleItalic,\n  'drawLink': drawLink,\n  'toggleHeadingSmaller': toggleHeadingSmaller,\n  'toggleHeadingBigger': toggleHeadingBigger,\n  'drawImage': drawImage,\n  'toggleBlockquote': toggleBlockquote,\n  'toggleOrderedList': toggleOrderedList,\n  'toggleUnorderedList': toggleUnorderedList,\n  'toggleCodeBlock': toggleCodeBlock,\n  'togglePreview': togglePreview,\n  'toggleStrikethrough': toggleStrikethrough,\n  'toggleHeading1': toggleHeading1,\n  'toggleHeading2': toggleHeading2,\n  'toggleHeading3': toggleHeading3,\n  'cleanBlock': cleanBlock,\n  'drawTable': drawTable,\n  'drawHorizontalRule': drawHorizontalRule,\n  'undo': undo,\n  'redo': redo,\n  'toggleSideBySide': toggleSideBySide,\n  'toggleFullScreen': toggleFullScreen\n};\nvar shortcuts = {\n  'toggleBold': 'Cmd-B',\n  'toggleItalic': 'Cmd-I',\n  'drawLink': 'Cmd-K',\n  'toggleHeadingSmaller': 'Cmd-H',\n  'toggleHeadingBigger': 'Shift-Cmd-H',\n  'cleanBlock': 'Cmd-E',\n  'drawImage': 'Cmd-Alt-I',\n  'toggleBlockquote': 'Cmd-\\'',\n  'toggleOrderedList': 'Cmd-Alt-L',\n  'toggleUnorderedList': 'Cmd-L',\n  'toggleCodeBlock': 'Cmd-Alt-C',\n  'togglePreview': 'Cmd-P',\n  'toggleSideBySide': 'F9',\n  'toggleFullScreen': 'F11'\n};\n\nvar getBindingName = function getBindingName(f) {\n  for (var key in bindings) {\n    if (bindings[key] === f) {\n      return key;\n    }\n  }\n\n  return null;\n};\n\nvar isMobile = function isMobile() {\n  var check = false;\n\n  (function (a) {\n    if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(a.substr(0, 4))) check = true;\n  })(navigator.userAgent || navigator.vendor || window.opera);\n\n  return check;\n};\n/**\n * Modify HTML to add 'target=\"_blank\"' to links so they open in new tabs by default.\n * @param {string} htmlText - HTML to be modified.\n * @return {string} The modified HTML text.\n */\n\n\nfunction addAnchorTargetBlank(htmlText) {\n  var match;\n\n  while ((match = anchorToExternalRegex.exec(htmlText)) !== null) {\n    // With only one capture group in the RegExp, we can safely take the first index from the match.\n    var linkString = match[0];\n\n    if (linkString.indexOf('target=') === -1) {\n      var fixedLinkString = linkString.replace(/>$/, ' target=\"_blank\">');\n      htmlText = htmlText.replace(linkString, fixedLinkString);\n    }\n  }\n\n  return htmlText;\n}\n/**\n * Fix shortcut. Mac use Command, others use Ctrl.\n */\n\n\nfunction fixShortcut(name) {\n  if (isMac) {\n    name = name.replace('Ctrl', 'Cmd');\n  } else {\n    name = name.replace('Cmd', 'Ctrl');\n  }\n\n  return name;\n}\n/**\n * Create button element for toolbar.\n */\n\n\nfunction createToolbarButton(options, enableTooltips, shortcuts) {\n  options = options || {};\n  var el = document.createElement('button');\n  el.className = options.name;\n  el.setAttribute('type', 'button');\n  enableTooltips = enableTooltips == undefined ? true : enableTooltips; // Properly hande custom shortcuts\n\n  if (options.name && options.name in shortcuts) {\n    bindings[options.name] = options.action;\n  }\n\n  if (options.title && enableTooltips) {\n    el.title = createTooltip(options.title, options.action, shortcuts);\n\n    if (isMac) {\n      el.title = el.title.replace('Ctrl', '⌘');\n      el.title = el.title.replace('Alt', '⌥');\n    }\n  }\n\n  if (options.noDisable) {\n    el.classList.add('no-disable');\n  }\n\n  if (options.noMobile) {\n    el.classList.add('no-mobile');\n  } // Provide backwards compatibility with simple-markdown-editor by adding custom classes to the button.\n\n\n  var classNameParts = options.className.split(' ');\n  var iconClasses = [];\n\n  for (var classNameIndex = 0; classNameIndex < classNameParts.length; classNameIndex++) {\n    var classNamePart = classNameParts[classNameIndex]; // Split icon classes from the button.\n    // Regex will detect \"fa\", \"fas\", \"fa-something\" and \"fa-some-icon-1\", but not \"fanfare\".\n\n    if (classNamePart.match(/^fa([srlb]|(-[\\w-]*)|$)/)) {\n      iconClasses.push(classNamePart);\n    } else {\n      el.classList.add(classNamePart);\n    }\n  }\n\n  el.tabIndex = -1; // Create icon element and append as a child to the button\n\n  var icon = document.createElement('i');\n\n  for (var iconClassIndex = 0; iconClassIndex < iconClasses.length; iconClassIndex++) {\n    var iconClass = iconClasses[iconClassIndex];\n    icon.classList.add(iconClass);\n  }\n\n  el.appendChild(icon);\n  return el;\n}\n\nfunction createSep() {\n  var el = document.createElement('i');\n  el.className = 'separator';\n  el.innerHTML = '|';\n  return el;\n}\n\nfunction createTooltip(title, action, shortcuts) {\n  var actionName;\n  var tooltip = title;\n\n  if (action) {\n    actionName = getBindingName(action);\n\n    if (shortcuts[actionName]) {\n      tooltip += ' (' + fixShortcut(shortcuts[actionName]) + ')';\n    }\n  }\n\n  return tooltip;\n}\n/**\n * The state of CodeMirror at the given position.\n */\n\n\nfunction getState(cm, pos) {\n  pos = pos || cm.getCursor('start');\n  var stat = cm.getTokenAt(pos);\n  if (!stat.type) return {};\n  var types = stat.type.split(' ');\n  var ret = {},\n      data,\n      text;\n\n  for (var i = 0; i < types.length; i++) {\n    data = types[i];\n\n    if (data === 'strong') {\n      ret.bold = true;\n    } else if (data === 'variable-2') {\n      text = cm.getLine(pos.line);\n\n      if (/^\\s*\\d+\\.\\s/.test(text)) {\n        ret['ordered-list'] = true;\n      } else {\n        ret['unordered-list'] = true;\n      }\n    } else if (data === 'atom') {\n      ret.quote = true;\n    } else if (data === 'em') {\n      ret.italic = true;\n    } else if (data === 'quote') {\n      ret.quote = true;\n    } else if (data === 'strikethrough') {\n      ret.strikethrough = true;\n    } else if (data === 'comment') {\n      ret.code = true;\n    } else if (data === 'link') {\n      ret.link = true;\n    } else if (data === 'tag') {\n      ret.image = true;\n    } else if (data.match(/^header(-[1-6])?$/)) {\n      ret[data.replace('header', 'heading')] = true;\n    }\n  }\n\n  return ret;\n} // Saved overflow setting\n\n\nvar saved_overflow = '';\n/**\n * Toggle full screen of the editor.\n */\n\nfunction toggleFullScreen(editor) {\n  // Set fullscreen\n  var cm = editor.codemirror;\n  cm.setOption('fullScreen', !cm.getOption('fullScreen')); // Prevent scrolling on body during fullscreen active\n\n  if (cm.getOption('fullScreen')) {\n    saved_overflow = document.body.style.overflow;\n    document.body.style.overflow = 'hidden';\n  } else {\n    document.body.style.overflow = saved_overflow;\n  } // Update toolbar class\n\n\n  var wrap = cm.getWrapperElement();\n\n  if (!/fullscreen/.test(wrap.previousSibling.className)) {\n    wrap.previousSibling.className += ' fullscreen';\n  } else {\n    wrap.previousSibling.className = wrap.previousSibling.className.replace(/\\s*fullscreen\\b/, '');\n  } // Update toolbar button\n\n\n  if (editor.toolbarElements && editor.toolbarElements.fullscreen) {\n    var toolbarButton = editor.toolbarElements.fullscreen;\n\n    if (!/active/.test(toolbarButton.className)) {\n      toolbarButton.className += ' active';\n    } else {\n      toolbarButton.className = toolbarButton.className.replace(/\\s*active\\s*/g, '');\n    }\n  } // Hide side by side if needed\n\n\n  var sidebyside = cm.getWrapperElement().nextSibling;\n  if (/editor-preview-active-side/.test(sidebyside.className)) toggleSideBySide(editor);\n\n  if (editor.options.onToggleFullScreen) {\n    editor.options.onToggleFullScreen(cm.getOption('fullScreen') || false);\n  }\n}\n/**\n * Action for toggling bold.\n */\n\n\nfunction toggleBold(editor) {\n  _toggleBlock(editor, 'bold', editor.options.blockStyles.bold);\n}\n/**\n * Action for toggling italic.\n */\n\n\nfunction toggleItalic(editor) {\n  _toggleBlock(editor, 'italic', editor.options.blockStyles.italic);\n}\n/**\n * Action for toggling strikethrough.\n */\n\n\nfunction toggleStrikethrough(editor) {\n  _toggleBlock(editor, 'strikethrough', '~~');\n}\n/**\n * Action for toggling code block.\n */\n\n\nfunction toggleCodeBlock(editor) {\n  var fenceCharsToInsert = editor.options.blockStyles.code;\n\n  function fencing_line(line) {\n    /* return true, if this is a ``` or ~~~ line */\n    if (typeof line !== 'object') {\n      throw 'fencing_line() takes a \\'line\\' object (not a line number, or line text).  Got: ' + typeof line + ': ' + line;\n    }\n\n    return line.styles && line.styles[2] && line.styles[2].indexOf('formatting-code-block') !== -1;\n  }\n\n  function token_state(token) {\n    // base goes an extra level deep when mode backdrops are used, e.g. spellchecker on\n    return token.state.base.base || token.state.base;\n  }\n\n  function code_type(cm, line_num, line, firstTok, lastTok) {\n    /*\n     * Return \"single\", \"indented\", \"fenced\" or false\n     *\n     * cm and line_num are required.  Others are optional for efficiency\n     *   To check in the middle of a line, pass in firstTok yourself.\n     */\n    line = line || cm.getLineHandle(line_num);\n    firstTok = firstTok || cm.getTokenAt({\n      line: line_num,\n      ch: 1\n    });\n    lastTok = lastTok || !!line.text && cm.getTokenAt({\n      line: line_num,\n      ch: line.text.length - 1\n    });\n    var types = firstTok.type ? firstTok.type.split(' ') : [];\n\n    if (lastTok && token_state(lastTok).indentedCode) {\n      // have to check last char, since first chars of first line aren\"t marked as indented\n      return 'indented';\n    } else if (types.indexOf('comment') === -1) {\n      // has to be after \"indented\" check, since first chars of first indented line aren\"t marked as such\n      return false;\n    } else if (token_state(firstTok).fencedChars || token_state(lastTok).fencedChars || fencing_line(line)) {\n      return 'fenced';\n    } else {\n      return 'single';\n    }\n  }\n\n  function insertFencingAtSelection(cm, cur_start, cur_end, fenceCharsToInsert) {\n    var start_line_sel = cur_start.line + 1,\n        end_line_sel = cur_end.line + 1,\n        sel_multi = cur_start.line !== cur_end.line,\n        repl_start = fenceCharsToInsert + '\\n',\n        repl_end = '\\n' + fenceCharsToInsert;\n\n    if (sel_multi) {\n      end_line_sel++;\n    } // handle last char including \\n or not\n\n\n    if (sel_multi && cur_end.ch === 0) {\n      repl_end = fenceCharsToInsert + '\\n';\n      end_line_sel--;\n    }\n\n    _replaceSelection(cm, false, [repl_start, repl_end]);\n\n    cm.setSelection({\n      line: start_line_sel,\n      ch: 0\n    }, {\n      line: end_line_sel,\n      ch: 0\n    });\n  }\n\n  var cm = editor.codemirror,\n      cur_start = cm.getCursor('start'),\n      cur_end = cm.getCursor('end'),\n      tok = cm.getTokenAt({\n    line: cur_start.line,\n    ch: cur_start.ch || 1\n  }),\n      // avoid ch 0 which is a cursor pos but not token\n  line = cm.getLineHandle(cur_start.line),\n      is_code = code_type(cm, cur_start.line, line, tok);\n  var block_start, block_end, lineCount;\n\n  if (is_code === 'single') {\n    // similar to some EasyMDE _toggleBlock logic\n    var start = line.text.slice(0, cur_start.ch).replace('`', ''),\n        end = line.text.slice(cur_start.ch).replace('`', '');\n    cm.replaceRange(start + end, {\n      line: cur_start.line,\n      ch: 0\n    }, {\n      line: cur_start.line,\n      ch: 99999999999999\n    });\n    cur_start.ch--;\n\n    if (cur_start !== cur_end) {\n      cur_end.ch--;\n    }\n\n    cm.setSelection(cur_start, cur_end);\n    cm.focus();\n  } else if (is_code === 'fenced') {\n    if (cur_start.line !== cur_end.line || cur_start.ch !== cur_end.ch) {\n      // use selection\n      // find the fenced line so we know what type it is (tilde, backticks, number of them)\n      for (block_start = cur_start.line; block_start >= 0; block_start--) {\n        line = cm.getLineHandle(block_start);\n\n        if (fencing_line(line)) {\n          break;\n        }\n      }\n\n      var fencedTok = cm.getTokenAt({\n        line: block_start,\n        ch: 1\n      });\n      var fence_chars = token_state(fencedTok).fencedChars;\n      var start_text, start_line;\n      var end_text, end_line; // check for selection going up against fenced lines, in which case we don't want to add more fencing\n\n      if (fencing_line(cm.getLineHandle(cur_start.line))) {\n        start_text = '';\n        start_line = cur_start.line;\n      } else if (fencing_line(cm.getLineHandle(cur_start.line - 1))) {\n        start_text = '';\n        start_line = cur_start.line - 1;\n      } else {\n        start_text = fence_chars + '\\n';\n        start_line = cur_start.line;\n      }\n\n      if (fencing_line(cm.getLineHandle(cur_end.line))) {\n        end_text = '';\n        end_line = cur_end.line;\n\n        if (cur_end.ch === 0) {\n          end_line += 1;\n        }\n      } else if (cur_end.ch !== 0 && fencing_line(cm.getLineHandle(cur_end.line + 1))) {\n        end_text = '';\n        end_line = cur_end.line + 1;\n      } else {\n        end_text = fence_chars + '\\n';\n        end_line = cur_end.line + 1;\n      }\n\n      if (cur_end.ch === 0) {\n        // full last line selected, putting cursor at beginning of next\n        end_line -= 1;\n      }\n\n      cm.operation(function () {\n        // end line first, so that line numbers don't change\n        cm.replaceRange(end_text, {\n          line: end_line,\n          ch: 0\n        }, {\n          line: end_line + (end_text ? 0 : 1),\n          ch: 0\n        });\n        cm.replaceRange(start_text, {\n          line: start_line,\n          ch: 0\n        }, {\n          line: start_line + (start_text ? 0 : 1),\n          ch: 0\n        });\n      });\n      cm.setSelection({\n        line: start_line + (start_text ? 1 : 0),\n        ch: 0\n      }, {\n        line: end_line + (start_text ? 1 : -1),\n        ch: 0\n      });\n      cm.focus();\n    } else {\n      // no selection, search for ends of this fenced block\n      var search_from = cur_start.line;\n\n      if (fencing_line(cm.getLineHandle(cur_start.line))) {\n        // gets a little tricky if cursor is right on a fenced line\n        if (code_type(cm, cur_start.line + 1) === 'fenced') {\n          block_start = cur_start.line;\n          search_from = cur_start.line + 1; // for searching for \"end\"\n        } else {\n          block_end = cur_start.line;\n          search_from = cur_start.line - 1; // for searching for \"start\"\n        }\n      }\n\n      if (block_start === undefined) {\n        for (block_start = search_from; block_start >= 0; block_start--) {\n          line = cm.getLineHandle(block_start);\n\n          if (fencing_line(line)) {\n            break;\n          }\n        }\n      }\n\n      if (block_end === undefined) {\n        lineCount = cm.lineCount();\n\n        for (block_end = search_from; block_end < lineCount; block_end++) {\n          line = cm.getLineHandle(block_end);\n\n          if (fencing_line(line)) {\n            break;\n          }\n        }\n      }\n\n      cm.operation(function () {\n        cm.replaceRange('', {\n          line: block_start,\n          ch: 0\n        }, {\n          line: block_start + 1,\n          ch: 0\n        });\n        cm.replaceRange('', {\n          line: block_end - 1,\n          ch: 0\n        }, {\n          line: block_end,\n          ch: 0\n        });\n      });\n      cm.focus();\n    }\n  } else if (is_code === 'indented') {\n    if (cur_start.line !== cur_end.line || cur_start.ch !== cur_end.ch) {\n      // use selection\n      block_start = cur_start.line;\n      block_end = cur_end.line;\n\n      if (cur_end.ch === 0) {\n        block_end--;\n      }\n    } else {\n      // no selection, search for ends of this indented block\n      for (block_start = cur_start.line; block_start >= 0; block_start--) {\n        line = cm.getLineHandle(block_start);\n\n        if (line.text.match(/^\\s*$/)) {\n          // empty or all whitespace - keep going\n          continue;\n        } else {\n          if (code_type(cm, block_start, line) !== 'indented') {\n            block_start += 1;\n            break;\n          }\n        }\n      }\n\n      lineCount = cm.lineCount();\n\n      for (block_end = cur_start.line; block_end < lineCount; block_end++) {\n        line = cm.getLineHandle(block_end);\n\n        if (line.text.match(/^\\s*$/)) {\n          // empty or all whitespace - keep going\n          continue;\n        } else {\n          if (code_type(cm, block_end, line) !== 'indented') {\n            block_end -= 1;\n            break;\n          }\n        }\n      }\n    } // if we are going to un-indent based on a selected set of lines, and the next line is indented too, we need to\n    // insert a blank line so that the next line(s) continue to be indented code\n\n\n    var next_line = cm.getLineHandle(block_end + 1),\n        next_line_last_tok = next_line && cm.getTokenAt({\n      line: block_end + 1,\n      ch: next_line.text.length - 1\n    }),\n        next_line_indented = next_line_last_tok && token_state(next_line_last_tok).indentedCode;\n\n    if (next_line_indented) {\n      cm.replaceRange('\\n', {\n        line: block_end + 1,\n        ch: 0\n      });\n    }\n\n    for (var i = block_start; i <= block_end; i++) {\n      cm.indentLine(i, 'subtract'); // TODO: this doesn't get tracked in the history, so can't be undone :(\n    }\n\n    cm.focus();\n  } else {\n    // insert code formatting\n    var no_sel_and_starting_of_line = cur_start.line === cur_end.line && cur_start.ch === cur_end.ch && cur_start.ch === 0;\n    var sel_multi = cur_start.line !== cur_end.line;\n\n    if (no_sel_and_starting_of_line || sel_multi) {\n      insertFencingAtSelection(cm, cur_start, cur_end, fenceCharsToInsert);\n    } else {\n      _replaceSelection(cm, false, ['`', '`']);\n    }\n  }\n}\n/**\n * Action for toggling blockquote.\n */\n\n\nfunction toggleBlockquote(editor) {\n  var cm = editor.codemirror;\n\n  _toggleLine(cm, 'quote');\n}\n/**\n * Action for toggling heading size: normal -> h1 -> h2 -> h3 -> h4 -> h5 -> h6 -> normal\n */\n\n\nfunction toggleHeadingSmaller(editor) {\n  var cm = editor.codemirror;\n\n  _toggleHeading(cm, 'smaller');\n}\n/**\n * Action for toggling heading size: normal -> h6 -> h5 -> h4 -> h3 -> h2 -> h1 -> normal\n */\n\n\nfunction toggleHeadingBigger(editor) {\n  var cm = editor.codemirror;\n\n  _toggleHeading(cm, 'bigger');\n}\n/**\n * Action for toggling heading size 1\n */\n\n\nfunction toggleHeading1(editor) {\n  var cm = editor.codemirror;\n\n  _toggleHeading(cm, undefined, 1);\n}\n/**\n * Action for toggling heading size 2\n */\n\n\nfunction toggleHeading2(editor) {\n  var cm = editor.codemirror;\n\n  _toggleHeading(cm, undefined, 2);\n}\n/**\n * Action for toggling heading size 3\n */\n\n\nfunction toggleHeading3(editor) {\n  var cm = editor.codemirror;\n\n  _toggleHeading(cm, undefined, 3);\n}\n/**\n * Action for toggling ul.\n */\n\n\nfunction toggleUnorderedList(editor) {\n  var cm = editor.codemirror;\n\n  _toggleLine(cm, 'unordered-list');\n}\n/**\n * Action for toggling ol.\n */\n\n\nfunction toggleOrderedList(editor) {\n  var cm = editor.codemirror;\n\n  _toggleLine(cm, 'ordered-list');\n}\n/**\n * Action for clean block (remove headline, list, blockquote code, markers)\n */\n\n\nfunction cleanBlock(editor) {\n  var cm = editor.codemirror;\n\n  _cleanBlock(cm);\n}\n/**\n * Action for drawing a link.\n */\n\n\nfunction drawLink(editor) {\n  var cm = editor.codemirror;\n  var stat = getState(cm);\n  var options = editor.options;\n  var url = 'https://';\n\n  if (options.promptURLs) {\n    url = prompt(options.promptTexts.link, 'https://');\n\n    if (!url) {\n      return false;\n    }\n  }\n\n  _replaceSelection(cm, stat.link, options.insertTexts.link, url);\n}\n/**\n * Action for drawing an img.\n */\n\n\nfunction drawImage(editor) {\n  var cm = editor.codemirror;\n  var stat = getState(cm);\n  var options = editor.options;\n  var url = 'https://';\n\n  if (options.promptURLs) {\n    url = prompt(options.promptTexts.image, 'https://');\n\n    if (!url) {\n      return false;\n    }\n  }\n\n  _replaceSelection(cm, stat.image, options.insertTexts.image, url);\n}\n/**\n * Action for opening the browse-file window to upload an image to a server.\n * @param editor {EasyMDE} The EasyMDE object\n */\n\n\nfunction drawUploadedImage(editor) {\n  // TODO: Draw the image template with a fake url? ie: '![](importing foo.png...)'\n  editor.openBrowseFileWindow();\n}\n/**\n * Action executed after an image have been successfully imported on the server.\n * @param editor {EasyMDE} The EasyMDE object\n * @param url {string} The url of the uploaded image\n */\n\n\nfunction afterImageUploaded(editor, url) {\n  var cm = editor.codemirror;\n  var stat = getState(cm);\n  var options = editor.options;\n  var imageName = url.substr(url.lastIndexOf('/') + 1);\n\n  _replaceSelection(cm, stat.image, options.insertTexts.uploadedImage, url); // show uploaded image filename for 1000ms\n\n\n  editor.updateStatusBar('upload-image', editor.options.imageTexts.sbOnUploaded.replace('#image_name#', imageName));\n  setTimeout(function () {\n    editor.updateStatusBar('upload-image', editor.options.imageTexts.sbInit);\n  }, 1000);\n}\n/**\n * Action for drawing a table.\n */\n\n\nfunction drawTable(editor) {\n  var cm = editor.codemirror;\n  var stat = getState(cm);\n  var options = editor.options;\n\n  _replaceSelection(cm, stat.table, options.insertTexts.table);\n}\n/**\n * Action for drawing a horizontal rule.\n */\n\n\nfunction drawHorizontalRule(editor) {\n  var cm = editor.codemirror;\n  var stat = getState(cm);\n  var options = editor.options;\n\n  _replaceSelection(cm, stat.image, options.insertTexts.horizontalRule);\n}\n/**\n * Undo action.\n */\n\n\nfunction undo(editor) {\n  var cm = editor.codemirror;\n  cm.undo();\n  cm.focus();\n}\n/**\n * Redo action.\n */\n\n\nfunction redo(editor) {\n  var cm = editor.codemirror;\n  cm.redo();\n  cm.focus();\n}\n/**\n * Toggle side by side preview\n */\n\n\nfunction toggleSideBySide(editor) {\n  var cm = editor.codemirror;\n  var wrapper = cm.getWrapperElement();\n  var preview = wrapper.nextSibling;\n  var toolbarButton = editor.toolbarElements && editor.toolbarElements['side-by-side'];\n  var useSideBySideListener = false;\n\n  if (/editor-preview-active-side/.test(preview.className)) {\n    preview.className = preview.className.replace(/\\s*editor-preview-active-side\\s*/g, '');\n    if (toolbarButton) toolbarButton.className = toolbarButton.className.replace(/\\s*active\\s*/g, '');\n    wrapper.className = wrapper.className.replace(/\\s*CodeMirror-sided\\s*/g, ' ');\n  } else {\n    // When the preview button is clicked for the first time,\n    // give some time for the transition from editor.css to fire and the view to slide from right to left,\n    // instead of just appearing.\n    setTimeout(function () {\n      if (!cm.getOption('fullScreen')) toggleFullScreen(editor);\n      preview.className += ' editor-preview-active-side';\n    }, 1);\n    if (toolbarButton) toolbarButton.className += ' active';\n    wrapper.className += ' CodeMirror-sided';\n    useSideBySideListener = true;\n  } // Hide normal preview if active\n\n\n  var previewNormal = wrapper.lastChild;\n\n  if (/editor-preview-active/.test(previewNormal.className)) {\n    previewNormal.className = previewNormal.className.replace(/\\s*editor-preview-active\\s*/g, '');\n    var toolbar = editor.toolbarElements.preview;\n    var toolbar_div = wrapper.previousSibling;\n    toolbar.className = toolbar.className.replace(/\\s*active\\s*/g, '');\n    toolbar_div.className = toolbar_div.className.replace(/\\s*disabled-for-preview*/g, '');\n  }\n\n  var sideBySideRenderingFunction = function sideBySideRenderingFunction() {\n    var newValue = editor.options.previewRender(editor.value(), preview);\n\n    if (newValue != null) {\n      preview.innerHTML = newValue;\n    }\n  };\n\n  if (!cm.sideBySideRenderingFunction) {\n    cm.sideBySideRenderingFunction = sideBySideRenderingFunction;\n  }\n\n  if (useSideBySideListener) {\n    var newValue = editor.options.previewRender(editor.value(), preview);\n\n    if (newValue != null) {\n      preview.innerHTML = newValue;\n    }\n\n    cm.on('update', cm.sideBySideRenderingFunction);\n  } else {\n    cm.off('update', cm.sideBySideRenderingFunction);\n  } // Refresh to fix selection being off (#309)\n\n\n  cm.refresh();\n}\n/**\n * Preview action.\n */\n\n\nfunction togglePreview(editor) {\n  var cm = editor.codemirror;\n  var wrapper = cm.getWrapperElement();\n  var toolbar_div = wrapper.previousSibling;\n  var toolbar = editor.options.toolbar ? editor.toolbarElements.preview : false;\n  var preview = wrapper.lastChild;\n\n  if (!preview || !/editor-preview-full/.test(preview.className)) {\n    preview = document.createElement('div');\n    preview.className = 'editor-preview-full';\n\n    if (editor.options.previewClass) {\n      if (Array.isArray(editor.options.previewClass)) {\n        for (var i = 0; i < editor.options.previewClass.length; i++) {\n          preview.className += ' ' + editor.options.previewClass[i];\n        }\n      } else if (typeof editor.options.previewClass === 'string') {\n        preview.className += ' ' + editor.options.previewClass;\n      }\n    }\n\n    wrapper.appendChild(preview);\n  }\n\n  if (/editor-preview-active/.test(preview.className)) {\n    preview.className = preview.className.replace(/\\s*editor-preview-active\\s*/g, '');\n\n    if (toolbar) {\n      toolbar.className = toolbar.className.replace(/\\s*active\\s*/g, '');\n      toolbar_div.className = toolbar_div.className.replace(/\\s*disabled-for-preview*/g, '');\n    }\n  } else {\n    // When the preview button is clicked for the first time,\n    // give some time for the transition from editor.css to fire and the view to slide from right to left,\n    // instead of just appearing.\n    setTimeout(function () {\n      preview.className += ' editor-preview-active';\n    }, 1);\n\n    if (toolbar) {\n      toolbar.className += ' active';\n      toolbar_div.className += ' disabled-for-preview';\n    }\n  }\n\n  preview.innerHTML = editor.options.previewRender(editor.value(), preview); // Turn off side by side if needed\n\n  var sidebyside = cm.getWrapperElement().nextSibling;\n  if (/editor-preview-active-side/.test(sidebyside.className)) toggleSideBySide(editor);\n}\n\nfunction _replaceSelection(cm, active, startEnd, url) {\n  if (/editor-preview-active/.test(cm.getWrapperElement().lastChild.className)) return;\n  var text;\n  var start = startEnd[0];\n  var end = startEnd[1];\n  var startPoint = {},\n      endPoint = {};\n  Object.assign(startPoint, cm.getCursor('start'));\n  Object.assign(endPoint, cm.getCursor('end'));\n\n  if (url) {\n    start = start.replace('#url#', url); // url is in start for upload-image\n\n    end = end.replace('#url#', url);\n  }\n\n  if (active) {\n    text = cm.getLine(startPoint.line);\n    start = text.slice(0, startPoint.ch);\n    end = text.slice(startPoint.ch);\n    cm.replaceRange(start + end, {\n      line: startPoint.line,\n      ch: 0\n    });\n  } else {\n    text = cm.getSelection();\n    cm.replaceSelection(start + text + end);\n    startPoint.ch += start.length;\n\n    if (startPoint !== endPoint) {\n      endPoint.ch += start.length;\n    }\n  }\n\n  cm.setSelection(startPoint, endPoint);\n  cm.focus();\n}\n\nfunction _toggleHeading(cm, direction, size) {\n  if (/editor-preview-active/.test(cm.getWrapperElement().lastChild.className)) return;\n  var startPoint = cm.getCursor('start');\n  var endPoint = cm.getCursor('end');\n\n  for (var i = startPoint.line; i <= endPoint.line; i++) {\n    (function (i) {\n      var text = cm.getLine(i);\n      var currHeadingLevel = text.search(/[^#]/);\n\n      if (direction !== undefined) {\n        if (currHeadingLevel <= 0) {\n          if (direction == 'bigger') {\n            text = '###### ' + text;\n          } else {\n            text = '# ' + text;\n          }\n        } else if (currHeadingLevel == 6 && direction == 'smaller') {\n          text = text.substr(7);\n        } else if (currHeadingLevel == 1 && direction == 'bigger') {\n          text = text.substr(2);\n        } else {\n          if (direction == 'bigger') {\n            text = text.substr(1);\n          } else {\n            text = '#' + text;\n          }\n        }\n      } else {\n        if (size == 1) {\n          if (currHeadingLevel <= 0) {\n            text = '# ' + text;\n          } else if (currHeadingLevel == size) {\n            text = text.substr(currHeadingLevel + 1);\n          } else {\n            text = '# ' + text.substr(currHeadingLevel + 1);\n          }\n        } else if (size == 2) {\n          if (currHeadingLevel <= 0) {\n            text = '## ' + text;\n          } else if (currHeadingLevel == size) {\n            text = text.substr(currHeadingLevel + 1);\n          } else {\n            text = '## ' + text.substr(currHeadingLevel + 1);\n          }\n        } else {\n          if (currHeadingLevel <= 0) {\n            text = '### ' + text;\n          } else if (currHeadingLevel == size) {\n            text = text.substr(currHeadingLevel + 1);\n          } else {\n            text = '### ' + text.substr(currHeadingLevel + 1);\n          }\n        }\n      }\n\n      cm.replaceRange(text, {\n        line: i,\n        ch: 0\n      }, {\n        line: i,\n        ch: 99999999999999\n      });\n    })(i);\n  }\n\n  cm.focus();\n}\n\nfunction _toggleLine(cm, name) {\n  if (/editor-preview-active/.test(cm.getWrapperElement().lastChild.className)) return;\n  var listRegexp = /^(\\s*)(\\*|-|\\+|\\d*\\.)(\\s+)/;\n  var whitespacesRegexp = /^\\s*/;\n  var stat = getState(cm);\n  var startPoint = cm.getCursor('start');\n  var endPoint = cm.getCursor('end');\n  var repl = {\n    'quote': /^(\\s*)>\\s+/,\n    'unordered-list': listRegexp,\n    'ordered-list': listRegexp\n  };\n\n  var _getChar = function _getChar(name, i) {\n    var map = {\n      'quote': '>',\n      'unordered-list': '*',\n      'ordered-list': '%%i.'\n    };\n    return map[name].replace('%%i', i);\n  };\n\n  var _checkChar = function _checkChar(name, char) {\n    var map = {\n      'quote': '>',\n      'unordered-list': '*',\n      'ordered-list': '\\\\d+.'\n    };\n    var rt = new RegExp(map[name]);\n    return char && rt.test(char);\n  };\n\n  var _toggle = function _toggle(name, text, untoggleOnly) {\n    var arr = listRegexp.exec(text);\n\n    var char = _getChar(name, line);\n\n    if (arr !== null) {\n      if (_checkChar(name, arr[2])) {\n        char = '';\n      }\n\n      text = arr[1] + char + arr[3] + text.replace(whitespacesRegexp, '').replace(repl[name], '$1');\n    } else if (untoggleOnly == false) {\n      text = char + ' ' + text;\n    }\n\n    return text;\n  };\n\n  var line = 1;\n\n  for (var i = startPoint.line; i <= endPoint.line; i++) {\n    (function (i) {\n      var text = cm.getLine(i);\n\n      if (stat[name]) {\n        text = text.replace(repl[name], '$1');\n      } else {\n        // If we're toggling unordered-list formatting, check if the current line\n        // is part of an ordered-list, and if so, untoggle that first.\n        // Workaround for https://github.com/Ionaru/easy-markdown-editor/issues/92\n        if (name == 'unordered-list') {\n          text = _toggle('ordered-list', text, true);\n        }\n\n        text = _toggle(name, text, false);\n        line += 1;\n      }\n\n      cm.replaceRange(text, {\n        line: i,\n        ch: 0\n      }, {\n        line: i,\n        ch: 99999999999999\n      });\n    })(i);\n  }\n\n  cm.focus();\n}\n\nfunction _toggleBlock(editor, type, start_chars, end_chars) {\n  if (/editor-preview-active/.test(editor.codemirror.getWrapperElement().lastChild.className)) return;\n  end_chars = typeof end_chars === 'undefined' ? start_chars : end_chars;\n  var cm = editor.codemirror;\n  var stat = getState(cm);\n  var text;\n  var start = start_chars;\n  var end = end_chars;\n  var startPoint = cm.getCursor('start');\n  var endPoint = cm.getCursor('end');\n\n  if (stat[type]) {\n    text = cm.getLine(startPoint.line);\n    start = text.slice(0, startPoint.ch);\n    end = text.slice(startPoint.ch);\n\n    if (type == 'bold') {\n      start = start.replace(/(\\*\\*|__)(?![\\s\\S]*(\\*\\*|__))/, '');\n      end = end.replace(/(\\*\\*|__)/, '');\n    } else if (type == 'italic') {\n      start = start.replace(/(\\*|_)(?![\\s\\S]*(\\*|_))/, '');\n      end = end.replace(/(\\*|_)/, '');\n    } else if (type == 'strikethrough') {\n      start = start.replace(/(\\*\\*|~~)(?![\\s\\S]*(\\*\\*|~~))/, '');\n      end = end.replace(/(\\*\\*|~~)/, '');\n    }\n\n    cm.replaceRange(start + end, {\n      line: startPoint.line,\n      ch: 0\n    }, {\n      line: startPoint.line,\n      ch: 99999999999999\n    });\n\n    if (type == 'bold' || type == 'strikethrough') {\n      startPoint.ch -= 2;\n\n      if (startPoint !== endPoint) {\n        endPoint.ch -= 2;\n      }\n    } else if (type == 'italic') {\n      startPoint.ch -= 1;\n\n      if (startPoint !== endPoint) {\n        endPoint.ch -= 1;\n      }\n    }\n  } else {\n    text = cm.getSelection();\n\n    if (type == 'bold') {\n      text = text.split('**').join('');\n      text = text.split('__').join('');\n    } else if (type == 'italic') {\n      text = text.split('*').join('');\n      text = text.split('_').join('');\n    } else if (type == 'strikethrough') {\n      text = text.split('~~').join('');\n    }\n\n    cm.replaceSelection(start + text + end);\n    startPoint.ch += start_chars.length;\n    endPoint.ch = startPoint.ch + text.length;\n  }\n\n  cm.setSelection(startPoint, endPoint);\n  cm.focus();\n}\n\nfunction _cleanBlock(cm) {\n  if (/editor-preview-active/.test(cm.getWrapperElement().lastChild.className)) return;\n  var startPoint = cm.getCursor('start');\n  var endPoint = cm.getCursor('end');\n  var text;\n\n  for (var line = startPoint.line; line <= endPoint.line; line++) {\n    text = cm.getLine(line);\n    text = text.replace(/^[ ]*([# ]+|\\*|-|[> ]+|[0-9]+(.|\\)))[ ]*/, '');\n    cm.replaceRange(text, {\n      line: line,\n      ch: 0\n    }, {\n      line: line,\n      ch: 99999999999999\n    });\n  }\n}\n/**\n * Convert a number of bytes to a human-readable file size.\n * @param bytes {integer} A number of bytes, as integer. Ex: 421137\n * @param units {number[]} An array of human-readable units, ie. ['b', 'Kb', 'Mb']\n * @returns string A human-readable file size. Ex: '412Kb'\n */\n\n\nfunction humanFileSize(bytes, units) {\n  if (Math.abs(bytes) < 1024) {\n    return '' + bytes + units[0];\n  }\n\n  var u = 0;\n\n  do {\n    bytes /= 1024;\n    ++u;\n  } while (Math.abs(bytes) >= 1024 && u < units.length);\n\n  return '' + bytes.toFixed(1) + units[u];\n} // Merge the properties of one object into another.\n\n\nfunction _mergeProperties(target, source) {\n  for (var property in source) {\n    if (Object.prototype.hasOwnProperty.call(source, property)) {\n      if (source[property] instanceof Array) {\n        target[property] = source[property].concat(target[property] instanceof Array ? target[property] : []);\n      } else if (source[property] !== null && typeof source[property] === 'object' && source[property].constructor === Object) {\n        target[property] = _mergeProperties(target[property] || {}, source[property]);\n      } else {\n        target[property] = source[property];\n      }\n    }\n  }\n\n  return target;\n} // Merge an arbitrary number of objects into one.\n\n\nfunction extend(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    target = _mergeProperties(target, arguments[i]);\n  }\n\n  return target;\n}\n/* The right word count in respect for CJK. */\n\n\nfunction wordCount(data) {\n  var pattern = /[a-zA-Z0-9_\\u00A0-\\u02AF\\u0392-\\u03c9\\u0410-\\u04F9]+|[\\u4E00-\\u9FFF\\u3400-\\u4dbf\\uf900-\\ufaff\\u3040-\\u309f\\uac00-\\ud7af]+/g;\n  var m = data.match(pattern);\n  var count = 0;\n  if (m === null) return count;\n\n  for (var i = 0; i < m.length; i++) {\n    if (m[i].charCodeAt(0) >= 0x4E00) {\n      count += m[i].length;\n    } else {\n      count += 1;\n    }\n  }\n\n  return count;\n}\n\nvar toolbarBuiltInButtons = {\n  'bold': {\n    name: 'bold',\n    action: toggleBold,\n    className: 'fa fa-bold',\n    title: 'Bold',\n    default: true\n  },\n  'italic': {\n    name: 'italic',\n    action: toggleItalic,\n    className: 'fa fa-italic',\n    title: 'Italic',\n    default: true\n  },\n  'strikethrough': {\n    name: 'strikethrough',\n    action: toggleStrikethrough,\n    className: 'fa fa-strikethrough',\n    title: 'Strikethrough'\n  },\n  'heading': {\n    name: 'heading',\n    action: toggleHeadingSmaller,\n    className: 'fa fa-header fa-heading',\n    title: 'Heading',\n    default: true\n  },\n  'heading-smaller': {\n    name: 'heading-smaller',\n    action: toggleHeadingSmaller,\n    className: 'fa fa-header fa-heading header-smaller',\n    title: 'Smaller Heading'\n  },\n  'heading-bigger': {\n    name: 'heading-bigger',\n    action: toggleHeadingBigger,\n    className: 'fa fa-header fa-heading header-bigger',\n    title: 'Bigger Heading'\n  },\n  'heading-1': {\n    name: 'heading-1',\n    action: toggleHeading1,\n    className: 'fa fa-header fa-heading header-1',\n    title: 'Big Heading'\n  },\n  'heading-2': {\n    name: 'heading-2',\n    action: toggleHeading2,\n    className: 'fa fa-header fa-heading header-2',\n    title: 'Medium Heading'\n  },\n  'heading-3': {\n    name: 'heading-3',\n    action: toggleHeading3,\n    className: 'fa fa-header fa-heading header-3',\n    title: 'Small Heading'\n  },\n  'separator-1': {\n    name: 'separator-1'\n  },\n  'code': {\n    name: 'code',\n    action: toggleCodeBlock,\n    className: 'fa fa-code',\n    title: 'Code'\n  },\n  'quote': {\n    name: 'quote',\n    action: toggleBlockquote,\n    className: 'fa fa-quote-left',\n    title: 'Quote',\n    default: true\n  },\n  'unordered-list': {\n    name: 'unordered-list',\n    action: toggleUnorderedList,\n    className: 'fa fa-list-ul',\n    title: 'Generic List',\n    default: true\n  },\n  'ordered-list': {\n    name: 'ordered-list',\n    action: toggleOrderedList,\n    className: 'fa fa-list-ol',\n    title: 'Numbered List',\n    default: true\n  },\n  'clean-block': {\n    name: 'clean-block',\n    action: cleanBlock,\n    className: 'fa fa-eraser',\n    title: 'Clean block'\n  },\n  'separator-2': {\n    name: 'separator-2'\n  },\n  'link': {\n    name: 'link',\n    action: drawLink,\n    className: 'fa fa-link',\n    title: 'Create Link',\n    default: true\n  },\n  'image': {\n    name: 'image',\n    action: drawImage,\n    className: 'fa fa-image',\n    title: 'Insert Image',\n    default: true\n  },\n  'upload-image': {\n    name: 'upload-image',\n    action: drawUploadedImage,\n    className: 'fa fa-image',\n    title: 'Import an image'\n  },\n  'table': {\n    name: 'table',\n    action: drawTable,\n    className: 'fa fa-table',\n    title: 'Insert Table'\n  },\n  'horizontal-rule': {\n    name: 'horizontal-rule',\n    action: drawHorizontalRule,\n    className: 'fa fa-minus',\n    title: 'Insert Horizontal Line'\n  },\n  'separator-3': {\n    name: 'separator-3'\n  },\n  'preview': {\n    name: 'preview',\n    action: togglePreview,\n    className: 'fa fa-eye',\n    noDisable: true,\n    title: 'Toggle Preview',\n    default: true\n  },\n  'side-by-side': {\n    name: 'side-by-side',\n    action: toggleSideBySide,\n    className: 'fa fa-columns',\n    noDisable: true,\n    noMobile: true,\n    title: 'Toggle Side by Side',\n    default: true\n  },\n  'fullscreen': {\n    name: 'fullscreen',\n    action: toggleFullScreen,\n    className: 'fa fa-arrows-alt',\n    noDisable: true,\n    noMobile: true,\n    title: 'Toggle Fullscreen',\n    default: true\n  },\n  'separator-4': {\n    name: 'separator-4'\n  },\n  'guide': {\n    name: 'guide',\n    action: 'https://www.markdownguide.org/basic-syntax/',\n    className: 'fa fa-question-circle',\n    noDisable: true,\n    title: 'Markdown Guide',\n    default: true\n  },\n  'separator-5': {\n    name: 'separator-5'\n  },\n  'undo': {\n    name: 'undo',\n    action: undo,\n    className: 'fa fa-undo',\n    noDisable: true,\n    title: 'Undo'\n  },\n  'redo': {\n    name: 'redo',\n    action: redo,\n    className: 'fa fa-repeat fa-redo',\n    noDisable: true,\n    title: 'Redo'\n  }\n};\nvar insertTexts = {\n  link: ['[', '](#url#)'],\n  image: ['![](', '#url#)'],\n  uploadedImage: ['![](#url#)', ''],\n  // uploadedImage: ['![](#url#)\\n', ''], // TODO: New line insertion doesn't work here.\n  table: ['', '\\n\\n| Column 1 | Column 2 | Column 3 |\\n| -------- | -------- | -------- |\\n| Text     | Text     | Text     |\\n\\n'],\n  horizontalRule: ['', '\\n\\n-----\\n\\n']\n};\nvar promptTexts = {\n  link: 'URL for the link:',\n  image: 'URL of the image:'\n};\nvar blockStyles = {\n  'bold': '**',\n  'code': '```',\n  'italic': '*'\n};\n/**\n * Texts displayed to the user (mainly on the status bar) for the import image\n * feature. Can be used for customization or internationalization.\n */\n\nvar imageTexts = {\n  sbInit: 'Attach files by drag and dropping or pasting from clipboard.',\n  sbOnDragEnter: 'Drop image to upload it.',\n  sbOnDrop: 'Uploading image #images_names#...',\n  sbProgress: 'Uploading #file_name#: #progress#%',\n  sbOnUploaded: 'Uploaded #image_name#',\n  sizeUnits: 'b,Kb,Mb'\n};\n/**\n * Errors displayed to the user, using the `errorCallback` option. Can be used for\n * customization or internationalization.\n */\n\nvar errorMessages = {\n  noFileGiven: 'You must select a file.',\n  typeNotAllowed: 'This image type is not allowed.',\n  fileTooLarge: 'Image #image_name# is too big (#image_size#).\\n' + 'Maximum file size is #image_max_size#.',\n  importError: 'Something went wrong when uploading the image #image_name#.'\n};\n/**\n * Interface of EasyMDE.\n */\n\nfunction EasyMDE(options) {\n  // Handle options parameter\n  options = options || {}; // Used later to refer to it\"s parent\n\n  options.parent = this; // Check if Font Awesome needs to be auto downloaded\n\n  var autoDownloadFA = true;\n\n  if (options.autoDownloadFontAwesome === false) {\n    autoDownloadFA = false;\n  }\n\n  if (options.autoDownloadFontAwesome !== true) {\n    var styleSheets = document.styleSheets;\n\n    for (var i = 0; i < styleSheets.length; i++) {\n      if (!styleSheets[i].href) continue;\n\n      if (styleSheets[i].href.indexOf('//maxcdn.bootstrapcdn.com/font-awesome/') > -1) {\n        autoDownloadFA = false;\n      }\n    }\n  }\n\n  if (autoDownloadFA) {\n    var link = document.createElement('link');\n    link.rel = 'stylesheet';\n    link.href = 'https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css';\n    document.getElementsByTagName('head')[0].appendChild(link);\n  } // Find the textarea to use\n\n\n  if (options.element) {\n    this.element = options.element;\n  } else if (options.element === null) {\n    // This means that the element option was specified, but no element was found\n    console.log('EasyMDE: Error. No element was found.');\n    return;\n  } // Handle toolbar\n\n\n  if (options.toolbar === undefined) {\n    // Initialize\n    options.toolbar = []; // Loop over the built in buttons, to get the preferred order\n\n    for (var key in toolbarBuiltInButtons) {\n      if (Object.prototype.hasOwnProperty.call(toolbarBuiltInButtons, key)) {\n        if (key.indexOf('separator-') != -1) {\n          options.toolbar.push('|');\n        }\n\n        if (toolbarBuiltInButtons[key].default === true || options.showIcons && options.showIcons.constructor === Array && options.showIcons.indexOf(key) != -1) {\n          options.toolbar.push(key);\n        }\n      }\n    }\n  } // Editor preview styling class.\n\n\n  if (!Object.prototype.hasOwnProperty.call(options, 'previewClass')) {\n    options.previewClass = 'editor-preview';\n  } // Handle status bar\n\n\n  if (!Object.prototype.hasOwnProperty.call(options, 'status')) {\n    options.status = ['autosave', 'lines', 'words', 'cursor'];\n\n    if (options.uploadImage) {\n      options.status.unshift('upload-image');\n    }\n  } // Add default preview rendering function\n\n\n  if (!options.previewRender) {\n    options.previewRender = function (plainText) {\n      // Note: \"this\" refers to the options object\n      return this.parent.markdown(plainText);\n    };\n  } // Set default options for parsing config\n\n\n  options.parsingConfig = extend({\n    highlightFormatting: true // needed for toggleCodeBlock to detect types of code\n\n  }, options.parsingConfig || {}); // Merging the insertTexts, with the given options\n\n  options.insertTexts = extend({}, insertTexts, options.insertTexts || {}); // Merging the promptTexts, with the given options\n\n  options.promptTexts = extend({}, promptTexts, options.promptTexts || {}); // Merging the blockStyles, with the given options\n\n  options.blockStyles = extend({}, blockStyles, options.blockStyles || {}); // Merging the shortcuts, with the given options\n\n  options.shortcuts = extend({}, shortcuts, options.shortcuts || {});\n  options.minHeight = options.minHeight || '300px';\n\n  options.errorCallback = options.errorCallback || function (errorMessage) {\n    alert(errorMessage);\n  }; // Import-image default configuration\n\n\n  options.uploadImage = options.uploadImage || false;\n  options.imageMaxSize = options.imageMaxSize || 2097152; // 1024 * 1024 * 2\n\n  options.imageAccept = options.imageAccept || 'image/png, image/jpeg';\n  options.imageTexts = extend({}, imageTexts, options.imageTexts || {});\n  options.errorMessages = extend({}, errorMessages, options.errorMessages || {}); // Change unique_id to uniqueId for backwards compatibility\n\n  if (options.autosave != undefined && options.autosave.unique_id != undefined && options.autosave.unique_id != '') options.autosave.uniqueId = options.autosave.unique_id; // Update this options\n\n  this.options = options; // Auto render\n\n  this.render(); // The codemirror component is only available after rendering\n  // so, the setter for the initialValue can only run after\n  // the element has been rendered\n\n  if (options.initialValue && (!this.options.autosave || this.options.autosave.foundSavedValue !== true)) {\n    this.value(options.initialValue);\n  }\n\n  if (options.uploadImage) {\n    var self = this;\n    this.codemirror.on('dragenter', function (cm, event) {\n      self.updateStatusBar('upload-image', self.options.imageTexts.sbOnDragEnter);\n      event.stopPropagation();\n      event.preventDefault();\n    });\n    this.codemirror.on('dragend', function (cm, event) {\n      self.updateStatusBar('upload-image', self.options.imageTexts.sbInit);\n      event.stopPropagation();\n      event.preventDefault();\n    });\n    this.codemirror.on('dragleave', function (cm, event) {\n      self.updateStatusBar('upload-image', self.options.imageTexts.sbInit);\n      event.stopPropagation();\n      event.preventDefault();\n    });\n    this.codemirror.on('dragover', function (cm, event) {\n      self.updateStatusBar('upload-image', self.options.imageTexts.sbOnDragEnter);\n      event.stopPropagation();\n      event.preventDefault();\n    });\n    this.codemirror.on('drop', function (cm, event) {\n      event.stopPropagation();\n      event.preventDefault();\n\n      if (options.imageUploadFunction) {\n        self.uploadImagesUsingCustomFunction(options.imageUploadFunction, event.dataTransfer.files);\n      } else {\n        self.uploadImages(event.dataTransfer.files);\n      }\n    });\n    this.codemirror.on('paste', function (cm, event) {\n      if (options.imageUploadFunction) {\n        self.uploadImagesUsingCustomFunction(options.imageUploadFunction, event.clipboardData.files);\n      } else {\n        self.uploadImages(event.clipboardData.files);\n      }\n    });\n  }\n}\n/**\n * Upload asynchronously a list of images to a server.\n *\n * Can be triggered by:\n * - drag&drop;\n * - copy-paste;\n * - the browse-file window (opened when the user clicks on the *upload-image* icon).\n * @param {FileList} files The files to upload the the server.\n * @param [onSuccess] {function} see EasyMDE.prototype.uploadImage\n * @param [onError] {function} see EasyMDE.prototype.uploadImage\n */\n\n\nEasyMDE.prototype.uploadImages = function (files, onSuccess, onError) {\n  if (files.length === 0) {\n    return;\n  }\n\n  var names = [];\n\n  for (var i = 0; i < files.length; i++) {\n    names.push(files[i].name);\n    this.uploadImage(files[i], onSuccess, onError);\n  }\n\n  this.updateStatusBar('upload-image', this.options.imageTexts.sbOnDrop.replace('#images_names#', names.join(', ')));\n};\n/**\n * Upload asynchronously a list of images to a server.\n *\n * Can be triggered by:\n * - drag&drop;\n * - copy-paste;\n * - the browse-file window (opened when the user clicks on the *upload-image* icon).\n * @param imageUploadFunction {Function} The custom function to upload the image passed in options.\n * @param {FileList} files The files to upload the the server.\n */\n\n\nEasyMDE.prototype.uploadImagesUsingCustomFunction = function (imageUploadFunction, files) {\n  if (files.length === 0) {\n    return;\n  }\n\n  var names = [];\n\n  for (var i = 0; i < files.length; i++) {\n    names.push(files[i].name);\n    this.uploadImageUsingCustomFunction(imageUploadFunction, files[i]);\n  }\n\n  this.updateStatusBar('upload-image', this.options.imageTexts.sbOnDrop.replace('#images_names#', names.join(', ')));\n};\n/**\n * Update an item in the status bar.\n * @param itemName {string} The name of the item to update (ie. 'upload-image', 'autosave', etc.).\n * @param content {string} the new content of the item to write in the status bar.\n */\n\n\nEasyMDE.prototype.updateStatusBar = function (itemName, content) {\n  var matchingClasses = this.gui.statusbar.getElementsByClassName(itemName);\n\n  if (matchingClasses.length === 1) {\n    this.gui.statusbar.getElementsByClassName(itemName)[0].textContent = content;\n  } else if (matchingClasses.length === 0) {\n    console.log('EasyMDE: status bar item ' + itemName + ' was not found.');\n  } else {\n    console.log('EasyMDE: Several status bar items named ' + itemName + ' was found.');\n  }\n};\n/**\n * Default markdown render.\n */\n\n\nEasyMDE.prototype.markdown = function (text) {\n  if (marked) {\n    // Initialize\n    var markedOptions;\n\n    if (this.options && this.options.renderingConfig && this.options.renderingConfig.markedOptions) {\n      markedOptions = this.options.renderingConfig.markedOptions;\n    } else {\n      markedOptions = {};\n    } // Update options\n\n\n    if (this.options && this.options.renderingConfig && this.options.renderingConfig.singleLineBreaks === false) {\n      markedOptions.breaks = false;\n    } else {\n      markedOptions.breaks = true;\n    }\n\n    if (this.options && this.options.renderingConfig && this.options.renderingConfig.codeSyntaxHighlighting === true) {\n      /* Get HLJS from config or window */\n      var hljs = this.options.renderingConfig.hljs || window.hljs;\n      /* Check if HLJS loaded */\n\n      if (hljs) {\n        markedOptions.highlight = function (code) {\n          return hljs.highlightAuto(code).value;\n        };\n      }\n    } // Set options\n\n\n    marked.setOptions(markedOptions); // Convert the markdown to HTML\n\n    var htmlText = marked(text); // Edit the HTML anchors to add 'target=\"_blank\"' by default.\n\n    htmlText = addAnchorTargetBlank(htmlText);\n    return htmlText;\n  }\n};\n/**\n * Render editor to the given element.\n */\n\n\nEasyMDE.prototype.render = function (el) {\n  if (!el) {\n    el = this.element || document.getElementsByTagName('textarea')[0];\n  }\n\n  if (this._rendered && this._rendered === el) {\n    // Already rendered.\n    return;\n  }\n\n  this.element = el;\n  var options = this.options;\n  var self = this;\n  var keyMaps = {};\n\n  for (var key in options.shortcuts) {\n    // null stands for \"do not bind this command\"\n    if (options.shortcuts[key] !== null && bindings[key] !== null) {\n      (function (key) {\n        keyMaps[fixShortcut(options.shortcuts[key])] = function () {\n          var action = bindings[key];\n\n          if (typeof action === 'function') {\n            action(self);\n          } else if (typeof action === 'string') {\n            window.open(action, '_blank');\n          }\n        };\n      })(key);\n    }\n  }\n\n  keyMaps['Enter'] = 'newlineAndIndentContinueMarkdownList';\n  keyMaps['Tab'] = 'tabAndIndentMarkdownList';\n  keyMaps['Shift-Tab'] = 'shiftTabAndUnindentMarkdownList';\n\n  keyMaps['Esc'] = function (cm) {\n    if (cm.getOption('fullScreen')) toggleFullScreen(self);\n  };\n\n  document.addEventListener('keydown', function (e) {\n    e = e || window.event;\n\n    if (e.keyCode == 27) {\n      if (self.codemirror.getOption('fullScreen')) toggleFullScreen(self);\n    }\n  }, false);\n  var mode, backdrop;\n\n  if (options.spellChecker !== false) {\n    mode = 'spell-checker';\n    backdrop = options.parsingConfig;\n    backdrop.name = 'gfm';\n    backdrop.gitHubSpice = false;\n    CodeMirrorSpellChecker({\n      codeMirrorInstance: CodeMirror\n    });\n  } else {\n    mode = options.parsingConfig;\n    mode.name = 'gfm';\n    mode.gitHubSpice = false;\n  } // eslint-disable-next-line no-unused-vars\n\n\n  function configureMouse(cm, repeat, event) {\n    return {\n      addNew: false\n    };\n  }\n\n  this.codemirror = CodeMirror.fromTextArea(el, {\n    mode: mode,\n    backdrop: backdrop,\n    theme: options.theme != undefined ? options.theme : 'easymde',\n    tabSize: options.tabSize != undefined ? options.tabSize : 2,\n    indentUnit: options.tabSize != undefined ? options.tabSize : 2,\n    indentWithTabs: options.indentWithTabs === false ? false : true,\n    lineNumbers: false,\n    autofocus: options.autofocus === true ? true : false,\n    extraKeys: keyMaps,\n    lineWrapping: options.lineWrapping === false ? false : true,\n    allowDropFileTypes: ['text/plain'],\n    placeholder: options.placeholder || el.getAttribute('placeholder') || '',\n    styleSelectedText: options.styleSelectedText != undefined ? options.styleSelectedText : !isMobile(),\n    configureMouse: configureMouse\n  });\n  this.codemirror.getScrollerElement().style.minHeight = options.minHeight;\n\n  if (options.forceSync === true) {\n    var cm = this.codemirror;\n    cm.on('change', function () {\n      cm.save();\n    });\n  }\n\n  this.gui = {};\n\n  if (options.toolbar !== false) {\n    this.gui.toolbar = this.createToolbar();\n  }\n\n  if (options.status !== false) {\n    this.gui.statusbar = this.createStatusbar();\n  }\n\n  if (options.autosave != undefined && options.autosave.enabled === true) {\n    this.autosave();\n  }\n\n  this.gui.sideBySide = this.createSideBySide();\n  this._rendered = this.element; // Fixes CodeMirror bug (#344)\n\n  var temp_cm = this.codemirror;\n  setTimeout(function () {\n    temp_cm.refresh();\n  }.bind(temp_cm), 0);\n}; // Safari, in Private Browsing Mode, looks like it supports localStorage but all calls to setItem throw QuotaExceededError. We're going to detect this and set a variable accordingly.\n\n\nfunction isLocalStorageAvailable() {\n  if (typeof localStorage === 'object') {\n    try {\n      localStorage.setItem('smde_localStorage', 1);\n      localStorage.removeItem('smde_localStorage');\n    } catch (e) {\n      return false;\n    }\n  } else {\n    return false;\n  }\n\n  return true;\n}\n\nEasyMDE.prototype.autosave = function () {\n  if (isLocalStorageAvailable()) {\n    var easyMDE = this;\n\n    if (this.options.autosave.uniqueId == undefined || this.options.autosave.uniqueId == '') {\n      console.log('EasyMDE: You must set a uniqueId to use the autosave feature');\n      return;\n    }\n\n    if (this.options.autosave.binded !== true) {\n      if (easyMDE.element.form != null && easyMDE.element.form != undefined) {\n        easyMDE.element.form.addEventListener('submit', function () {\n          clearTimeout(easyMDE.autosaveTimeoutId);\n          easyMDE.autosaveTimeoutId = undefined;\n          localStorage.removeItem('smde_' + easyMDE.options.autosave.uniqueId); // Restart autosaving in case the submit will be cancelled down the line\n\n          setTimeout(function () {\n            easyMDE.autosave();\n          }, easyMDE.options.autosave.delay || 10000);\n        });\n      }\n\n      this.options.autosave.binded = true;\n    }\n\n    if (this.options.autosave.loaded !== true) {\n      if (typeof localStorage.getItem('smde_' + this.options.autosave.uniqueId) == 'string' && localStorage.getItem('smde_' + this.options.autosave.uniqueId) != '') {\n        this.codemirror.setValue(localStorage.getItem('smde_' + this.options.autosave.uniqueId));\n        this.options.autosave.foundSavedValue = true;\n      }\n\n      this.options.autosave.loaded = true;\n    }\n\n    localStorage.setItem('smde_' + this.options.autosave.uniqueId, easyMDE.value());\n    var el = document.getElementById('autosaved');\n\n    if (el != null && el != undefined && el != '') {\n      var d = new Date();\n      var hh = d.getHours();\n      var m = d.getMinutes();\n      var dd = 'am';\n      var h = hh;\n\n      if (h >= 12) {\n        h = hh - 12;\n        dd = 'pm';\n      }\n\n      if (h == 0) {\n        h = 12;\n      }\n\n      m = m < 10 ? '0' + m : m;\n      el.innerHTML = 'Autosaved: ' + h + ':' + m + ' ' + dd;\n    }\n\n    this.autosaveTimeoutId = setTimeout(function () {\n      easyMDE.autosave();\n    }, this.options.autosave.delay || 10000);\n  } else {\n    console.log('EasyMDE: localStorage not available, cannot autosave');\n  }\n};\n\nEasyMDE.prototype.clearAutosavedValue = function () {\n  if (isLocalStorageAvailable()) {\n    if (this.options.autosave == undefined || this.options.autosave.uniqueId == undefined || this.options.autosave.uniqueId == '') {\n      console.log('EasyMDE: You must set a uniqueId to clear the autosave value');\n      return;\n    }\n\n    localStorage.removeItem('smde_' + this.options.autosave.uniqueId);\n  } else {\n    console.log('EasyMDE: localStorage not available, cannot autosave');\n  }\n};\n/**\n * Open the browse-file window to upload an image to a server.\n * @param [onSuccess] {function} see EasyMDE.prototype.uploadImage\n * @param [onError] {function} see EasyMDE.prototype.uploadImage\n */\n\n\nEasyMDE.prototype.openBrowseFileWindow = function (onSuccess, onError) {\n  var self = this;\n  var imageInput = this.gui.toolbar.getElementsByClassName('imageInput')[0];\n  imageInput.click(); //dispatchEvent(new MouseEvent('click'));  // replaced with click() for IE11 compatibility.\n\n  function onChange(event) {\n    if (self.options.imageUploadFunction) {\n      self.uploadImagesUsingCustomFunction(self.options.imageUploadFunction, event.target.files);\n    } else {\n      self.uploadImages(event.target.files, onSuccess, onError);\n    }\n\n    imageInput.removeEventListener('change', onChange);\n  }\n\n  imageInput.addEventListener('change', onChange);\n};\n/**\n * Upload an image to the server.\n *\n * @param file {File} The image to upload, as a HTML5 File object (https://developer.mozilla.org/en-US/docs/Web/API/File)\n * @param [onSuccess] {function} A callback function to execute after the image has been successfully uploaded, with one parameter:\n * - url (string): The URL of the uploaded image.\n * @param [onError] {function} A callback function to execute when the image upload fails, with one parameter:\n * - error (string): the detailed error to display to the user (based on messages from options.errorMessages).\n */\n\n\nEasyMDE.prototype.uploadImage = function (file, onSuccess, onError) {\n  var self = this;\n\n  onSuccess = onSuccess || function onSuccess(imageUrl) {\n    afterImageUploaded(self, imageUrl);\n  };\n\n  function onErrorSup(errorMessage) {\n    // show error on status bar and reset after 10000ms\n    self.updateStatusBar('upload-image', errorMessage);\n    setTimeout(function () {\n      self.updateStatusBar('upload-image', self.options.imageTexts.sbInit);\n    }, 10000); // run custom error handler\n\n    if (onError && typeof onError === 'function') {\n      onError(errorMessage);\n    } // run error handler from options, this alerts the message.\n\n\n    self.options.errorCallback(errorMessage);\n  }\n\n  function fillErrorMessage(errorMessage) {\n    var units = self.options.imageTexts.sizeUnits.split(',');\n    return errorMessage.replace('#image_name#', file.name).replace('#image_size#', humanFileSize(file.size, units)).replace('#image_max_size#', humanFileSize(self.options.imageMaxSize, units));\n  }\n\n  if (file.size > this.options.imageMaxSize) {\n    onErrorSup(fillErrorMessage(this.options.errorMessages.fileTooLarge));\n    return;\n  }\n\n  var formData = new FormData();\n  formData.append('image', file); // insert CSRF token if provided in config.\n\n  if (self.options.imageCSRFToken) {\n    formData.append('csrfmiddlewaretoken', self.options.imageCSRFToken);\n  }\n\n  var request = new XMLHttpRequest();\n\n  request.upload.onprogress = function (event) {\n    if (event.lengthComputable) {\n      var progress = '' + Math.round(event.loaded * 100 / event.total);\n      self.updateStatusBar('upload-image', self.options.imageTexts.sbProgress.replace('#file_name#', file.name).replace('#progress#', progress));\n    }\n  };\n\n  request.open('POST', this.options.imageUploadEndpoint);\n\n  request.onload = function () {\n    try {\n      var response = JSON.parse(this.responseText);\n    } catch (error) {\n      console.error('EasyMDE: The server did not return a valid json.');\n      onErrorSup(fillErrorMessage(self.options.errorMessages.importError));\n      return;\n    }\n\n    if (this.status === 200 && response && !response.error && response.data && response.data.filePath) {\n      onSuccess(window.location.origin + '/' + response.data.filePath);\n    } else {\n      if (response.error && response.error in self.options.errorMessages) {\n        // preformatted error message\n        onErrorSup(fillErrorMessage(self.options.errorMessages[response.error]));\n      } else if (response.error) {\n        // server side generated error message\n        onErrorSup(fillErrorMessage(response.error));\n      } else {\n        //unknown error\n        console.error('EasyMDE: Received an unexpected response after uploading the image.' + this.status + ' (' + this.statusText + ')');\n        onErrorSup(fillErrorMessage(self.options.errorMessages.importError));\n      }\n    }\n  };\n\n  request.onerror = function (event) {\n    console.error('EasyMDE: An unexpected error occurred when trying to upload the image.' + event.target.status + ' (' + event.target.statusText + ')');\n    onErrorSup(self.options.errorMessages.importError);\n  };\n\n  request.send(formData);\n};\n/**\n * Upload an image to the server using a custom upload function.\n *\n * @param imageUploadFunction {Function} The custom function to upload the image passed in options\n * @param file {File} The image to upload, as a HTML5 File object (https://developer.mozilla.org/en-US/docs/Web/API/File).\n */\n\n\nEasyMDE.prototype.uploadImageUsingCustomFunction = function (imageUploadFunction, file) {\n  var self = this;\n\n  function onSuccess(imageUrl) {\n    afterImageUploaded(self, imageUrl);\n  }\n\n  function onError(errorMessage) {\n    var filledErrorMessage = fillErrorMessage(errorMessage); // show error on status bar and reset after 10000ms\n\n    self.updateStatusBar('upload-image', filledErrorMessage);\n    setTimeout(function () {\n      self.updateStatusBar('upload-image', self.options.imageTexts.sbInit);\n    }, 10000); // run error handler from options, this alerts the message.\n\n    self.options.errorCallback(filledErrorMessage);\n  }\n\n  function fillErrorMessage(errorMessage) {\n    var units = self.options.imageTexts.sizeUnits.split(',');\n    return errorMessage.replace('#image_name#', file.name).replace('#image_size#', humanFileSize(file.size, units)).replace('#image_max_size#', humanFileSize(self.options.imageMaxSize, units));\n  }\n\n  imageUploadFunction(file, onSuccess, onError);\n};\n\nEasyMDE.prototype.createSideBySide = function () {\n  var cm = this.codemirror;\n  var wrapper = cm.getWrapperElement();\n  var preview = wrapper.nextSibling;\n\n  if (!preview || !/editor-preview-side/.test(preview.className)) {\n    preview = document.createElement('div');\n    preview.className = 'editor-preview-side';\n\n    if (this.options.previewClass) {\n      if (Array.isArray(this.options.previewClass)) {\n        for (var i = 0; i < this.options.previewClass.length; i++) {\n          preview.className += ' ' + this.options.previewClass[i];\n        }\n      } else if (typeof this.options.previewClass === 'string') {\n        preview.className += ' ' + this.options.previewClass;\n      }\n    }\n\n    wrapper.parentNode.insertBefore(preview, wrapper.nextSibling);\n  }\n\n  if (this.options.syncSideBySidePreviewScroll === false) return preview; // Syncs scroll  editor -> preview\n\n  var cScroll = false;\n  var pScroll = false;\n  cm.on('scroll', function (v) {\n    if (cScroll) {\n      cScroll = false;\n      return;\n    }\n\n    pScroll = true;\n    var height = v.getScrollInfo().height - v.getScrollInfo().clientHeight;\n    var ratio = parseFloat(v.getScrollInfo().top) / height;\n    var move = (preview.scrollHeight - preview.clientHeight) * ratio;\n    preview.scrollTop = move;\n  }); // Syncs scroll  preview -> editor\n\n  preview.onscroll = function () {\n    if (pScroll) {\n      pScroll = false;\n      return;\n    }\n\n    cScroll = true;\n    var height = preview.scrollHeight - preview.clientHeight;\n    var ratio = parseFloat(preview.scrollTop) / height;\n    var move = (cm.getScrollInfo().height - cm.getScrollInfo().clientHeight) * ratio;\n    cm.scrollTo(0, move);\n  };\n\n  return preview;\n};\n\nEasyMDE.prototype.createToolbar = function (items) {\n  items = items || this.options.toolbar;\n\n  if (!items || items.length === 0) {\n    return;\n  }\n\n  var i;\n\n  for (i = 0; i < items.length; i++) {\n    if (toolbarBuiltInButtons[items[i]] != undefined) {\n      items[i] = toolbarBuiltInButtons[items[i]];\n    }\n  }\n\n  var bar = document.createElement('div');\n  bar.className = 'editor-toolbar';\n  var self = this;\n  var toolbarData = {};\n  self.toolbar = items;\n\n  for (i = 0; i < items.length; i++) {\n    if (items[i].name == 'guide' && self.options.toolbarGuideIcon === false) continue;\n    if (self.options.hideIcons && self.options.hideIcons.indexOf(items[i].name) != -1) continue; // Fullscreen does not work well on mobile devices (even tablets)\n    // In the future, hopefully this can be resolved\n\n    if ((items[i].name == 'fullscreen' || items[i].name == 'side-by-side') && isMobile()) continue; // Don't include trailing separators\n\n    if (items[i] === '|') {\n      var nonSeparatorIconsFollow = false;\n\n      for (var x = i + 1; x < items.length; x++) {\n        if (items[x] !== '|' && (!self.options.hideIcons || self.options.hideIcons.indexOf(items[x].name) == -1)) {\n          nonSeparatorIconsFollow = true;\n        }\n      }\n\n      if (!nonSeparatorIconsFollow) continue;\n    } // Create the icon and append to the toolbar\n\n\n    (function (item) {\n      var el;\n\n      if (item === '|') {\n        el = createSep();\n      } else {\n        el = createToolbarButton(item, self.options.toolbarTips, self.options.shortcuts);\n      } // bind events, special for info\n\n\n      if (item.action) {\n        if (typeof item.action === 'function') {\n          el.onclick = function (e) {\n            e.preventDefault();\n            item.action(self);\n          };\n        } else if (typeof item.action === 'string') {\n          el.onclick = function (e) {\n            e.preventDefault();\n            window.open(item.action, '_blank');\n          };\n        }\n      }\n\n      toolbarData[item.name || item] = el;\n      bar.appendChild(el); // Create the input element (ie. <input type='file'>), used among\n      // with the 'import-image' icon to open the browse-file window.\n\n      if (item.name === 'upload-image') {\n        var imageInput = document.createElement('input');\n        imageInput.className = 'imageInput';\n        imageInput.type = 'file';\n        imageInput.multiple = true;\n        imageInput.name = 'image';\n        imageInput.accept = self.options.imageAccept;\n        imageInput.style.display = 'none';\n        imageInput.style.opacity = 0;\n        bar.appendChild(imageInput);\n      }\n    })(items[i]);\n  }\n\n  self.toolbarElements = toolbarData;\n  var cm = this.codemirror;\n  cm.on('cursorActivity', function () {\n    var stat = getState(cm);\n\n    for (var key in toolbarData) {\n      (function (key) {\n        var el = toolbarData[key];\n\n        if (stat[key]) {\n          el.className += ' active';\n        } else if (key != 'fullscreen' && key != 'side-by-side') {\n          el.className = el.className.replace(/\\s*active\\s*/g, '');\n        }\n      })(key);\n    }\n  });\n  var cmWrapper = cm.getWrapperElement();\n  cmWrapper.parentNode.insertBefore(bar, cmWrapper);\n  return bar;\n};\n\nEasyMDE.prototype.createStatusbar = function (status) {\n  // Initialize\n  status = status || this.options.status;\n  var options = this.options;\n  var cm = this.codemirror; // Make sure the status variable is valid\n\n  if (!status || status.length === 0) {\n    return;\n  } // Set up the built-in items\n\n\n  var items = [];\n  var i, onUpdate, defaultValue;\n\n  for (i = 0; i < status.length; i++) {\n    // Reset some values\n    onUpdate = undefined;\n    defaultValue = undefined; // Handle if custom or not\n\n    if (typeof status[i] === 'object') {\n      items.push({\n        className: status[i].className,\n        defaultValue: status[i].defaultValue,\n        onUpdate: status[i].onUpdate\n      });\n    } else {\n      var name = status[i];\n\n      if (name === 'words') {\n        defaultValue = function defaultValue(el) {\n          el.innerHTML = wordCount(cm.getValue());\n        };\n\n        onUpdate = function onUpdate(el) {\n          el.innerHTML = wordCount(cm.getValue());\n        };\n      } else if (name === 'lines') {\n        defaultValue = function defaultValue(el) {\n          el.innerHTML = cm.lineCount();\n        };\n\n        onUpdate = function onUpdate(el) {\n          el.innerHTML = cm.lineCount();\n        };\n      } else if (name === 'cursor') {\n        defaultValue = function defaultValue(el) {\n          el.innerHTML = '0:0';\n        };\n\n        onUpdate = function onUpdate(el) {\n          var pos = cm.getCursor();\n          el.innerHTML = pos.line + ':' + pos.ch;\n        };\n      } else if (name === 'autosave') {\n        defaultValue = function defaultValue(el) {\n          if (options.autosave != undefined && options.autosave.enabled === true) {\n            el.setAttribute('id', 'autosaved');\n          }\n        };\n      } else if (name === 'upload-image') {\n        defaultValue = function defaultValue(el) {\n          el.innerHTML = options.imageTexts.sbInit;\n        };\n      }\n\n      items.push({\n        className: name,\n        defaultValue: defaultValue,\n        onUpdate: onUpdate\n      });\n    }\n  } // Create element for the status bar\n\n\n  var bar = document.createElement('div');\n  bar.className = 'editor-statusbar'; // Create a new span for each item\n\n  for (i = 0; i < items.length; i++) {\n    // Store in temporary variable\n    var item = items[i]; // Create span element\n\n    var el = document.createElement('span');\n    el.className = item.className; // Ensure the defaultValue is a function\n\n    if (typeof item.defaultValue === 'function') {\n      item.defaultValue(el);\n    } // Ensure the onUpdate is a function\n\n\n    if (typeof item.onUpdate === 'function') {\n      // Create a closure around the span of the current action, then execute the onUpdate handler\n      this.codemirror.on('update', function (el, item) {\n        return function () {\n          item.onUpdate(el);\n        };\n      }(el, item));\n    } // Append the item to the status bar\n\n\n    bar.appendChild(el);\n  } // Insert the status bar into the DOM\n\n\n  var cmWrapper = this.codemirror.getWrapperElement();\n  cmWrapper.parentNode.insertBefore(bar, cmWrapper.nextSibling);\n  return bar;\n};\n/**\n * Get or set the text content.\n */\n\n\nEasyMDE.prototype.value = function (val) {\n  var cm = this.codemirror;\n\n  if (val === undefined) {\n    return cm.getValue();\n  } else {\n    cm.getDoc().setValue(val);\n\n    if (this.isPreviewActive()) {\n      var wrapper = cm.getWrapperElement();\n      var preview = wrapper.lastChild;\n      preview.innerHTML = this.options.previewRender(val, preview);\n    }\n\n    return this;\n  }\n};\n/**\n * Bind static methods for exports.\n */\n\n\nEasyMDE.toggleBold = toggleBold;\nEasyMDE.toggleItalic = toggleItalic;\nEasyMDE.toggleStrikethrough = toggleStrikethrough;\nEasyMDE.toggleBlockquote = toggleBlockquote;\nEasyMDE.toggleHeadingSmaller = toggleHeadingSmaller;\nEasyMDE.toggleHeadingBigger = toggleHeadingBigger;\nEasyMDE.toggleHeading1 = toggleHeading1;\nEasyMDE.toggleHeading2 = toggleHeading2;\nEasyMDE.toggleHeading3 = toggleHeading3;\nEasyMDE.toggleCodeBlock = toggleCodeBlock;\nEasyMDE.toggleUnorderedList = toggleUnorderedList;\nEasyMDE.toggleOrderedList = toggleOrderedList;\nEasyMDE.cleanBlock = cleanBlock;\nEasyMDE.drawLink = drawLink;\nEasyMDE.drawImage = drawImage;\nEasyMDE.drawTable = drawTable;\nEasyMDE.drawHorizontalRule = drawHorizontalRule;\nEasyMDE.undo = undo;\nEasyMDE.redo = redo;\nEasyMDE.togglePreview = togglePreview;\nEasyMDE.toggleSideBySide = toggleSideBySide;\nEasyMDE.toggleFullScreen = toggleFullScreen;\n/**\n * Bind instance methods for exports.\n */\n\nEasyMDE.prototype.toggleBold = function () {\n  toggleBold(this);\n};\n\nEasyMDE.prototype.toggleItalic = function () {\n  toggleItalic(this);\n};\n\nEasyMDE.prototype.toggleStrikethrough = function () {\n  toggleStrikethrough(this);\n};\n\nEasyMDE.prototype.toggleBlockquote = function () {\n  toggleBlockquote(this);\n};\n\nEasyMDE.prototype.toggleHeadingSmaller = function () {\n  toggleHeadingSmaller(this);\n};\n\nEasyMDE.prototype.toggleHeadingBigger = function () {\n  toggleHeadingBigger(this);\n};\n\nEasyMDE.prototype.toggleHeading1 = function () {\n  toggleHeading1(this);\n};\n\nEasyMDE.prototype.toggleHeading2 = function () {\n  toggleHeading2(this);\n};\n\nEasyMDE.prototype.toggleHeading3 = function () {\n  toggleHeading3(this);\n};\n\nEasyMDE.prototype.toggleCodeBlock = function () {\n  toggleCodeBlock(this);\n};\n\nEasyMDE.prototype.toggleUnorderedList = function () {\n  toggleUnorderedList(this);\n};\n\nEasyMDE.prototype.toggleOrderedList = function () {\n  toggleOrderedList(this);\n};\n\nEasyMDE.prototype.cleanBlock = function () {\n  cleanBlock(this);\n};\n\nEasyMDE.prototype.drawLink = function () {\n  drawLink(this);\n};\n\nEasyMDE.prototype.drawImage = function () {\n  drawImage(this);\n};\n\nEasyMDE.prototype.drawTable = function () {\n  drawTable(this);\n};\n\nEasyMDE.prototype.drawHorizontalRule = function () {\n  drawHorizontalRule(this);\n};\n\nEasyMDE.prototype.undo = function () {\n  undo(this);\n};\n\nEasyMDE.prototype.redo = function () {\n  redo(this);\n};\n\nEasyMDE.prototype.togglePreview = function () {\n  togglePreview(this);\n};\n\nEasyMDE.prototype.toggleSideBySide = function () {\n  toggleSideBySide(this);\n};\n\nEasyMDE.prototype.toggleFullScreen = function () {\n  toggleFullScreen(this);\n};\n\nEasyMDE.prototype.isPreviewActive = function () {\n  var cm = this.codemirror;\n  var wrapper = cm.getWrapperElement();\n  var preview = wrapper.lastChild;\n  return /editor-preview-active/.test(preview.className);\n};\n\nEasyMDE.prototype.isSideBySideActive = function () {\n  var cm = this.codemirror;\n  var wrapper = cm.getWrapperElement();\n  var preview = wrapper.nextSibling;\n  return /editor-preview-active-side/.test(preview.className);\n};\n\nEasyMDE.prototype.isFullscreenActive = function () {\n  var cm = this.codemirror;\n  return cm.getOption('fullScreen');\n};\n\nEasyMDE.prototype.getState = function () {\n  var cm = this.codemirror;\n  return getState(cm);\n};\n\nEasyMDE.prototype.toTextArea = function () {\n  var cm = this.codemirror;\n  var wrapper = cm.getWrapperElement();\n\n  if (wrapper.parentNode) {\n    if (this.gui.toolbar) {\n      wrapper.parentNode.removeChild(this.gui.toolbar);\n    }\n\n    if (this.gui.statusbar) {\n      wrapper.parentNode.removeChild(this.gui.statusbar);\n    }\n\n    if (this.gui.sideBySide) {\n      wrapper.parentNode.removeChild(this.gui.sideBySide);\n    }\n  }\n\n  cm.toTextArea();\n\n  if (this.autosaveTimeoutId) {\n    clearTimeout(this.autosaveTimeoutId);\n    this.autosaveTimeoutId = undefined;\n    this.clearAutosavedValue();\n  }\n};\n\nmodule.exports = EasyMDE;"],"sourceRoot":""}